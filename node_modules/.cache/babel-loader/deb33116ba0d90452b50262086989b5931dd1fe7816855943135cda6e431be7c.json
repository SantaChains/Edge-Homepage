{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { SettingsProvider } from './contexts/SettingsContext';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport appInitializer from './utils/appInitializer';\nimport configManager from './utils/simpleConfigManager';\n\n// ÁªÑ‰ª∂ÂØºÂÖ•\nimport Header from './components/Header/Header';\nimport Search from './components/Search/Search';\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\nimport EnhancedSettingsPanel from './settings/EnhancedSettingsPanel';\nimport Loading from './components/Loading/Loading';\n\n// Ê®°ÂùóÂØºÂÖ•\nimport Calendar from './modules/Calendar/Calendar';\nimport Bookmark from './modules/Bookmark/Bookmark';\nimport Todo from './modules/Todo/Todo';\nimport Note from './modules/Note/Note';\nimport Quote from './modules/Quote/Quote';\nimport News from './modules/News/News';\n\n// Ê®°ÂºèÂØºÂÖ•\nimport ZenMode from './modes/ZenMode/ZenMode';\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: var(--background-color, #ffffff);\n  color: var(--text-color, #333333);\n  font-family: var(--font-family, 'Microsoft YaHei', sans-serif);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow-x: hidden;\n`;\n_c = AppContainer;\nconst MainContent = styled.main`\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n  min-height: calc(100vh - 80px);\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n_c2 = MainContent;\nconst ErrorContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: var(--background-color, #ffffff);\n  color: var(--text-color, #333333);\n  text-align: center;\n  padding: 20px;\n`;\n_c3 = ErrorContainer;\nconst ErrorContent = styled.div`\n  max-width: 500px;\n  \n  h2 {\n    color: #e74c3c;\n    margin-bottom: 15px;\n  }\n  \n  p {\n    margin-bottom: 20px;\n    line-height: 1.6;\n  }\n  \n  button {\n    background: var(--primary-color, #4a90e2);\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    \n    &:hover {\n      opacity: 0.9;\n    }\n  }\n`;\n\n// Ê®°ÂùóÊò†Â∞Ñ\n_c4 = ErrorContent;\nconst moduleComponents = {\n  calendar: Calendar,\n  bookmark: Bookmark,\n  todo: Todo,\n  note: Note,\n  quote: Quote,\n  news: News\n};\nfunction App() {\n  _s();\n  const [currentModule, setCurrentModule] = useState('quote');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [currentMode, setCurrentMode] = useState('normal');\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // ÈîôËØØËæπÁïåÂ§ÑÁêÜ\n  const handleError = useCallback((error, errorInfo) => {\n    console.error('Â∫îÁî®ÈîôËØØ:', error, errorInfo);\n    setError(error);\n  }, []);\n\n  // ÂàùÂßãÂåñÂ∫îÁî®\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        setIsLoading(true);\n\n        // ‰ΩøÁî®Â∫îÁî®ÂêØÂä®ÁÆ°ÁêÜÂô®ÂàùÂßãÂåñ\n        const result = await appInitializer.initialize({\n          delay: 150,\n          // ÂáèÂ∞ëÂª∂ËøüÔºåÊèêÂçáÂìçÂ∫îÈÄüÂ∫¶\n          showLoadingScreen: false // ‰ΩøÁî®Ëá™Â∑±ÁöÑÂä†ËΩΩÁªÑ‰ª∂\n        });\n        if (result.success) {\n          setCurrentModule(result.startupModule);\n          setIsInitialized(true);\n          console.log('‚úÖ Â∫îÁî®ÂàùÂßãÂåñÂÆåÊàê');\n          console.log('üì± ÂêØÂä®Ê®°Âùó:', result.startupModule);\n          console.log('‚öôÔ∏è ËÆæÁΩÆÂ∑≤Â∫îÁî®:', Object.keys(result.settings).length, 'È°πÈÖçÁΩÆ');\n        } else {\n          console.error('‚ùå Â∫îÁî®ÂàùÂßãÂåñÂ§±Ë¥•:', result.error);\n          handleError(result.error || new Error(result.message));\n          // Âç≥‰ΩøÂ§±Ë¥•‰πüËÆæÁΩÆÈªòËÆ§Áä∂ÊÄÅ\n          setCurrentModule('quote');\n          setIsInitialized(true);\n        }\n      } catch (error) {\n        console.error('üí• ÂàùÂßãÂåñÂ∫îÁî®Êó∂Âá∫Èîô:', error);\n        handleError(error);\n        // ËÆæÁΩÆÈªòËÆ§Áä∂ÊÄÅ\n        setCurrentModule('quote');\n        setIsInitialized(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    initializeApp();\n  }, [handleError]);\n\n  // Â§ÑÁêÜÊ®°ÂùóÂàáÊç¢\n  const handleModuleChange = useCallback(module => {\n    try {\n      if (moduleComponents[module]) {\n        setCurrentModule(module);\n        // ‰øùÂ≠òÂΩìÂâçÊ®°Âùó‰∏∫‰∏äÊ¨°‰ΩøÁî®ÁöÑÊ®°Âùó\n        configManager.set('data.lastActiveModule', module);\n      }\n    } catch (error) {\n      console.error('ÂàáÊç¢Ê®°ÂùóÊó∂Âá∫Èîô:', error);\n      handleError(error);\n    }\n  }, [handleError]);\n\n  // Â§ÑÁêÜËÆæÁΩÆÊõ¥Êñ∞\n  const handleSettingsUpdate = useCallback(newSettings => {\n    try {\n      // ‰ΩøÁî®Â∫îÁî®ÂêØÂä®ÁÆ°ÁêÜÂô®Êõ¥Êñ∞ËÆæÁΩÆ\n      appInitializer.updateSettings(newSettings);\n    } catch (error) {\n      console.error('Êõ¥Êñ∞ËÆæÁΩÆÊó∂Âá∫Èîô:', error);\n    }\n  }, []);\n\n  // Â§ÑÁêÜÊ®°ÂºèÂàáÊç¢\n  const handleModeChange = useCallback(mode => {\n    try {\n      setCurrentMode(mode);\n    } catch (error) {\n      console.error('ÂàáÊç¢Ê®°ÂºèÊó∂Âá∫Èîô:', error);\n      handleError(error);\n    }\n  }, [handleError]);\n\n  // Ê∏≤ÊüìÂΩìÂâçÊ®°Âùó\n  const renderCurrentModule = useCallback(() => {\n    try {\n      const ModuleComponent = moduleComponents[currentModule];\n      if (!ModuleComponent) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u6A21\\u5757\\u4E0D\\u5B58\\u5728: \", currentModule]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(ModuleComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 14\n      }, this);\n    } catch (error) {\n      console.error('Ê∏≤ÊüìÊ®°ÂùóÊó∂Âá∫Èîô:', error);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u6A21\\u5757\\u52A0\\u8F7D\\u5931\\u8D25\\uFF0C\\u8BF7\\u5237\\u65B0\\u9875\\u9762\\u91CD\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 14\n      }, this);\n    }\n  }, [currentModule]);\n\n  // ÈîôËØØÁä∂ÊÄÅ\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n      children: /*#__PURE__*/_jsxDEV(ErrorContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u5E94\\u7528\\u51FA\\u73B0\\u9519\\u8BEF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u62B1\\u6B49\\uFF0C\\u5E94\\u7528\\u9047\\u5230\\u4E86\\u4E00\\u4E2A\\u9519\\u8BEF\\u3002\\u8BF7\\u5C1D\\u8BD5\\u5237\\u65B0\\u9875\\u9762\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: 'var(--text-secondary-color)'\n          },\n          children: [\"\\u9519\\u8BEF\\u4FE1\\u606F: \", error.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          children: \"\\u5237\\u65B0\\u9875\\u9762\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Âä†ËΩΩÁä∂ÊÄÅ\n  if (isLoading || !isInitialized) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      text: \"\\u6B63\\u5728\\u52A0\\u8F7D...\",\n      subtext: \"\\u8BF7\\u7A0D\\u5019\\uFF0C\\u6B63\\u5728\\u521D\\u59CB\\u5316\\u5E94\\u7528\\u7A0B\\u5E8F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 12\n    }, this);\n  }\n\n  // ÁâπÊÆäÊ®°ÂºèÊ∏≤Êüì\n  if (currentMode === 'zen') {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n        children: /*#__PURE__*/_jsxDEV(ZenMode, {\n          onBack: () => handleModeChange('normal')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentMode === 'curtain') {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n        children: /*#__PURE__*/_jsxDEV(CurtainMode, {\n          onBack: () => handleModeChange('normal')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Ê≠£Â∏∏Ê®°ÂºèÊ∏≤Êüì\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n      children: /*#__PURE__*/_jsxDEV(AppContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          onSettingsClick: () => setIsSettingsOpen(true),\n          onModeChange: handleModeChange,\n          currentMode: currentMode,\n          showBackButton: false,\n          onBackClick: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n          children: [/*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModuleSwitch, {\n            activeModule: currentModule,\n            onModuleChange: handleModuleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), renderCurrentModule()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EnhancedSettingsPanel, {\n          isOpen: isSettingsOpen,\n          onClose: () => setIsSettingsOpen(false),\n          onSettingsUpdate: handleSettingsUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"wpPEA2eBu+Y6fjeKWLcGT16V8SQ=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"MainContent\");\n$RefreshReg$(_c3, \"ErrorContainer\");\n$RefreshReg$(_c4, \"ErrorContent\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","styled","SettingsProvider","ThemeProvider","appInitializer","configManager","Header","Search","ModuleSwitch","EnhancedSettingsPanel","Loading","Calendar","Bookmark","Todo","Note","Quote","News","ZenMode","CurtainMode","jsxDEV","_jsxDEV","AppContainer","div","_c","MainContent","main","_c2","ErrorContainer","_c3","ErrorContent","_c4","moduleComponents","calendar","bookmark","todo","note","quote","news","App","_s","currentModule","setCurrentModule","isSettingsOpen","setIsSettingsOpen","currentMode","setCurrentMode","isInitialized","setIsInitialized","error","setError","isLoading","setIsLoading","handleError","errorInfo","console","initializeApp","result","initialize","delay","showLoadingScreen","success","startupModule","log","Object","keys","settings","length","Error","message","handleModuleChange","module","set","handleSettingsUpdate","newSettings","updateSettings","handleModeChange","mode","renderCurrentModule","ModuleComponent","children","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","color","onClick","window","location","reload","text","subtext","onBack","onSettingsClick","onModeChange","showBackButton","onBackClick","activeModule","onModuleChange","isOpen","onClose","onSettingsUpdate","_c5","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { SettingsProvider } from './contexts/SettingsContext';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport appInitializer from './utils/appInitializer';\r\nimport configManager from './utils/simpleConfigManager';\r\n\r\n// ÁªÑ‰ª∂ÂØºÂÖ•\r\nimport Header from './components/Header/Header';\r\nimport Search from './components/Search/Search';\r\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\r\nimport EnhancedSettingsPanel from './settings/EnhancedSettingsPanel';\r\nimport Loading from './components/Loading/Loading';\r\n\r\n// Ê®°ÂùóÂØºÂÖ•\r\nimport Calendar from './modules/Calendar/Calendar';\r\nimport Bookmark from './modules/Bookmark/Bookmark';\r\nimport Todo from './modules/Todo/Todo';\r\nimport Note from './modules/Note/Note';\r\nimport Quote from './modules/Quote/Quote';\r\nimport News from './modules/News/News';\r\n\r\n// Ê®°ÂºèÂØºÂÖ•\r\nimport ZenMode from './modes/ZenMode/ZenMode';\r\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\r\n\r\nconst AppContainer = styled.div`\r\n  min-height: 100vh;\r\n  background: var(--background-color, #ffffff);\r\n  color: var(--text-color, #333333);\r\n  font-family: var(--font-family, 'Microsoft YaHei', sans-serif);\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst MainContent = styled.main`\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  min-height: calc(100vh - 80px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n`;\r\n\r\n\r\nconst ErrorContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: var(--background-color, #ffffff);\r\n  color: var(--text-color, #333333);\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nconst ErrorContent = styled.div`\r\n  max-width: 500px;\r\n  \r\n  h2 {\r\n    color: #e74c3c;\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  p {\r\n    margin-bottom: 20px;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  button {\r\n    background: var(--primary-color, #4a90e2);\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    \r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n`;\r\n\r\n// Ê®°ÂùóÊò†Â∞Ñ\r\nconst moduleComponents = {\r\n  calendar: Calendar,\r\n  bookmark: Bookmark,\r\n  todo: Todo,\r\n  note: Note,\r\n  quote: Quote,\r\n  news: News\r\n};\r\n\r\nfunction App() {\r\n  const [currentModule, setCurrentModule] = useState('quote');\r\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\r\n  const [currentMode, setCurrentMode] = useState('normal');\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // ÈîôËØØËæπÁïåÂ§ÑÁêÜ\r\n  const handleError = useCallback((error, errorInfo) => {\r\n    console.error('Â∫îÁî®ÈîôËØØ:', error, errorInfo);\r\n    setError(error);\r\n  }, []);\r\n\r\n  // ÂàùÂßãÂåñÂ∫îÁî®\r\n  useEffect(() => {\r\n    const initializeApp = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        // ‰ΩøÁî®Â∫îÁî®ÂêØÂä®ÁÆ°ÁêÜÂô®ÂàùÂßãÂåñ\r\n        const result = await appInitializer.initialize({\r\n          delay: 150, // ÂáèÂ∞ëÂª∂ËøüÔºåÊèêÂçáÂìçÂ∫îÈÄüÂ∫¶\r\n          showLoadingScreen: false // ‰ΩøÁî®Ëá™Â∑±ÁöÑÂä†ËΩΩÁªÑ‰ª∂\r\n        });\r\n        \r\n        if (result.success) {\r\n          setCurrentModule(result.startupModule);\r\n          setIsInitialized(true);\r\n          console.log('‚úÖ Â∫îÁî®ÂàùÂßãÂåñÂÆåÊàê');\r\n          console.log('üì± ÂêØÂä®Ê®°Âùó:', result.startupModule);\r\n          console.log('‚öôÔ∏è ËÆæÁΩÆÂ∑≤Â∫îÁî®:', Object.keys(result.settings).length, 'È°πÈÖçÁΩÆ');\r\n        } else {\r\n          console.error('‚ùå Â∫îÁî®ÂàùÂßãÂåñÂ§±Ë¥•:', result.error);\r\n          handleError(result.error || new Error(result.message));\r\n          // Âç≥‰ΩøÂ§±Ë¥•‰πüËÆæÁΩÆÈªòËÆ§Áä∂ÊÄÅ\r\n          setCurrentModule('quote');\r\n          setIsInitialized(true);\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('üí• ÂàùÂßãÂåñÂ∫îÁî®Êó∂Âá∫Èîô:', error);\r\n        handleError(error);\r\n        // ËÆæÁΩÆÈªòËÆ§Áä∂ÊÄÅ\r\n        setCurrentModule('quote');\r\n        setIsInitialized(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeApp();\r\n  }, [handleError]);\r\n\r\n  // Â§ÑÁêÜÊ®°ÂùóÂàáÊç¢\r\n  const handleModuleChange = useCallback((module) => {\r\n    try {\r\n      if (moduleComponents[module]) {\r\n        setCurrentModule(module);\r\n        // ‰øùÂ≠òÂΩìÂâçÊ®°Âùó‰∏∫‰∏äÊ¨°‰ΩøÁî®ÁöÑÊ®°Âùó\r\n        configManager.set('data.lastActiveModule', module);\r\n      }\r\n    } catch (error) {\r\n      console.error('ÂàáÊç¢Ê®°ÂùóÊó∂Âá∫Èîô:', error);\r\n      handleError(error);\r\n    }\r\n  }, [handleError]);\r\n\r\n  // Â§ÑÁêÜËÆæÁΩÆÊõ¥Êñ∞\r\n  const handleSettingsUpdate = useCallback((newSettings) => {\r\n    try {\r\n      // ‰ΩøÁî®Â∫îÁî®ÂêØÂä®ÁÆ°ÁêÜÂô®Êõ¥Êñ∞ËÆæÁΩÆ\r\n      appInitializer.updateSettings(newSettings);\r\n    } catch (error) {\r\n      console.error('Êõ¥Êñ∞ËÆæÁΩÆÊó∂Âá∫Èîô:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Â§ÑÁêÜÊ®°ÂºèÂàáÊç¢\r\n  const handleModeChange = useCallback((mode) => {\r\n    try {\r\n      setCurrentMode(mode);\r\n    } catch (error) {\r\n      console.error('ÂàáÊç¢Ê®°ÂºèÊó∂Âá∫Èîô:', error);\r\n      handleError(error);\r\n    }\r\n  }, [handleError]);\r\n\r\n  // Ê∏≤ÊüìÂΩìÂâçÊ®°Âùó\r\n  const renderCurrentModule = useCallback(() => {\r\n    try {\r\n      const ModuleComponent = moduleComponents[currentModule];\r\n      if (!ModuleComponent) {\r\n        return <div>Ê®°Âùó‰∏çÂ≠òÂú®: {currentModule}</div>;\r\n      }\r\n      return <ModuleComponent />;\r\n    } catch (error) {\r\n      console.error('Ê∏≤ÊüìÊ®°ÂùóÊó∂Âá∫Èîô:', error);\r\n      return <div>Ê®°ÂùóÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï</div>;\r\n    }\r\n  }, [currentModule]);\r\n\r\n  // ÈîôËØØÁä∂ÊÄÅ\r\n  if (error) {\r\n    return (\r\n      <ErrorContainer>\r\n        <ErrorContent>\r\n          <h2>Â∫îÁî®Âá∫Áé∞ÈîôËØØ</h2>\r\n          <p>Êä±Ê≠âÔºåÂ∫îÁî®ÈÅáÂà∞‰∫Ü‰∏Ä‰∏™ÈîôËØØ„ÄÇËØ∑Â∞ùËØïÂà∑Êñ∞È°µÈù¢„ÄÇ</p>\r\n          <p style={{ fontSize: '14px', color: 'var(--text-secondary-color)' }}>\r\n            ÈîôËØØ‰ø°ÊÅØ: {error.message}\r\n          </p>\r\n          <button onClick={() => window.location.reload()}>\r\n            Âà∑Êñ∞È°µÈù¢\r\n          </button>\r\n        </ErrorContent>\r\n      </ErrorContainer>\r\n    );\r\n  }\r\n\r\n  // Âä†ËΩΩÁä∂ÊÄÅ\r\n  if (isLoading || !isInitialized) {\r\n    return <Loading text=\"Ê≠£Âú®Âä†ËΩΩ...\" subtext=\"ËØ∑Á®çÂÄôÔºåÊ≠£Âú®ÂàùÂßãÂåñÂ∫îÁî®Á®ãÂ∫è\" />;\r\n  }\r\n\r\n  // ÁâπÊÆäÊ®°ÂºèÊ∏≤Êüì\r\n  if (currentMode === 'zen') {\r\n    return (\r\n      <ThemeProvider>\r\n        <SettingsProvider>\r\n          <ZenMode onBack={() => handleModeChange('normal')} />\r\n        </SettingsProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  if (currentMode === 'curtain') {\r\n    return (\r\n      <ThemeProvider>\r\n        <SettingsProvider>\r\n          <CurtainMode onBack={() => handleModeChange('normal')} />\r\n        </SettingsProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  // Ê≠£Â∏∏Ê®°ÂºèÊ∏≤Êüì\r\n  return (\r\n    <ThemeProvider>\r\n      <SettingsProvider>\r\n        <AppContainer>\r\n          <Header \r\n            onSettingsClick={() => setIsSettingsOpen(true)}\r\n            onModeChange={handleModeChange}\r\n            currentMode={currentMode}\r\n            showBackButton={false}\r\n            onBackClick={() => {}}\r\n          />\r\n          \r\n          <MainContent>\r\n            <Search />\r\n            \r\n            <ModuleSwitch \r\n              activeModule={currentModule}\r\n              onModuleChange={handleModuleChange}\r\n            />\r\n            \r\n            {renderCurrentModule()}\r\n          </MainContent>\r\n          \r\n        <EnhancedSettingsPanel \r\n          isOpen={isSettingsOpen}\r\n          onClose={() => setIsSettingsOpen(false)}\r\n          onSettingsUpdate={handleSettingsUpdate}\r\n        />\r\n        </AppContainer>\r\n      </SettingsProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}