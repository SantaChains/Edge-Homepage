{"ast":null,"code":"import React,{createContext,useState,useEffect,useCallback}from'react';import{getFromStorage,saveToStorage}from'../utils/storage';// 默认设置\nimport{jsx as _jsx}from\"react/jsx-runtime\";const defaultSettings={theme:'light',startupModule:{type:'last',// 'last' | 'specific'\nmodule:'quote'// 当 type 为 'specific' 时使用\n},background:{type:'color',// 'color' | 'image' | 'gradient'\nvalue:'#ffffff',opacity:1,brightness:1,blurAmount:0,size:'cover',repeat:'no-repeat',overlayOpacity:0},search:{defaultEngine:'bing',autoCleanUrl:false,removeNonUrl:false,openInNewTab:true,customEngines:[]},modules:{calendar:{showWeather:true,showCountdown:true},bookmark:{showFavicons:true,gridColumns:4},todo:{showCompleted:false,autoSort:true},note:{autoSave:true,fontSize:14},quote:{autoRefresh:true,refreshInterval:3600000// 1小时\n},news:{sources:['tech','general'],refreshInterval:1800000// 30分钟\n}}};// 创建上下文\nexport const SettingsContext=/*#__PURE__*/createContext({settings:defaultSettings,isLoaded:false,updateSettings:()=>{},updateSpecificSettings:()=>{},resetSettings:()=>{}});// 设置提供者组件\nexport const SettingsProvider=_ref=>{let{children}=_ref;const[settings,setSettings]=useState(defaultSettings);const[isLoaded,setIsLoaded]=useState(false);// 应用设置到DOM\nconst applySettings=useCallback(settingsToApply=>{try{const root=document.documentElement;// 应用主题\nif(settingsToApply.theme){root.setAttribute('data-theme',settingsToApply.theme);if(settingsToApply.theme==='dark'){// 深色模式CSS变量\nroot.style.setProperty('--background-color','#121212');root.style.setProperty('--card-background','#1e1e1e');root.style.setProperty('--border-color','#333333');root.style.setProperty('--shadow-color','rgba(0, 0, 0, 0.3)');root.style.setProperty('--text-color','#e0e0e0');root.style.setProperty('--text-secondary-color','#a0a0a0');root.style.setProperty('--primary-color','#4a90e2');root.style.setProperty('--primary-color-light','rgba(74, 144, 226, 0.2)');root.style.setProperty('--transition-speed','0.3s');document.body.classList.add('dark-mode');}else{// 浅色模式CSS变量\nroot.style.setProperty('--background-color','#ffffff');root.style.setProperty('--card-background','#f8f8f8');root.style.setProperty('--border-color','#e0e0e0');root.style.setProperty('--shadow-color','rgba(0, 0, 0, 0.1)');root.style.setProperty('--text-color','#333333');root.style.setProperty('--text-secondary-color','#666666');root.style.setProperty('--primary-color','#4a90e2');root.style.setProperty('--primary-color-light','rgba(74, 144, 226, 0.1)');root.style.setProperty('--transition-speed','0.3s');document.body.classList.remove('dark-mode');}}// 应用背景设置\nif(settingsToApply.background){const body=document.body;const bg=settingsToApply.background;if(bg.type==='color'){body.style.background=bg.value||'#ffffff';body.style.backgroundImage='none';}else if(bg.type==='image'&&bg.value){body.style.backgroundImage=`url(${bg.value})`;body.style.backgroundSize=bg.size||'cover';body.style.backgroundPosition='center';body.style.backgroundRepeat=bg.repeat||'no-repeat';body.style.backgroundAttachment='fixed';}else if(bg.type==='gradient'&&bg.value){body.style.background=bg.value;body.style.backgroundImage='none';}// 应用背景效果\nif(bg.opacity!==undefined){body.style.opacity=bg.opacity;}if(bg.brightness!==undefined){body.style.filter=`brightness(${bg.brightness})`;}}}catch(error){console.error('应用设置时出错:',error);}},[]);// 初始化设置\nuseEffect(()=>{const initializeSettings=()=>{try{// 从本地存储获取设置\nconst savedSettings=getFromStorage('homepage-settings',null);if(savedSettings){var _savedSettings$module,_savedSettings$module2,_savedSettings$module3,_savedSettings$module4,_savedSettings$module5,_savedSettings$module6;// 合并默认设置和保存的设置\nconst mergedSettings={...defaultSettings,...savedSettings,// 深度合并嵌套对象\nstartupModule:{...defaultSettings.startupModule,...(savedSettings.startupModule||{})},background:{...defaultSettings.background,...(savedSettings.background||{})},search:{...defaultSettings.search,...(savedSettings.search||{})},modules:{...defaultSettings.modules,...(savedSettings.modules||{}),calendar:{...defaultSettings.modules.calendar,...(((_savedSettings$module=savedSettings.modules)===null||_savedSettings$module===void 0?void 0:_savedSettings$module.calendar)||{})},bookmark:{...defaultSettings.modules.bookmark,...(((_savedSettings$module2=savedSettings.modules)===null||_savedSettings$module2===void 0?void 0:_savedSettings$module2.bookmark)||{})},todo:{...defaultSettings.modules.todo,...(((_savedSettings$module3=savedSettings.modules)===null||_savedSettings$module3===void 0?void 0:_savedSettings$module3.todo)||{})},note:{...defaultSettings.modules.note,...(((_savedSettings$module4=savedSettings.modules)===null||_savedSettings$module4===void 0?void 0:_savedSettings$module4.note)||{})},quote:{...defaultSettings.modules.quote,...(((_savedSettings$module5=savedSettings.modules)===null||_savedSettings$module5===void 0?void 0:_savedSettings$module5.quote)||{})},news:{...defaultSettings.modules.news,...(((_savedSettings$module6=savedSettings.modules)===null||_savedSettings$module6===void 0?void 0:_savedSettings$module6.news)||{})}}};setSettings(mergedSettings);applySettings(mergedSettings);}else{// 如果没有保存的设置，使用默认设置\nsetSettings(defaultSettings);applySettings(defaultSettings);// 保存默认设置到本地存储\nsaveToStorage('homepage-settings',defaultSettings);}}catch(error){console.error('初始化设置时出错:',error);// 出错时使用默认设置\nsetSettings(defaultSettings);applySettings(defaultSettings);}finally{setIsLoaded(true);}};// 延迟初始化以避免闪烁\nconst timer=setTimeout(initializeSettings,100);return()=>clearTimeout(timer);},[applySettings]);// 更新设置\nconst updateSettings=useCallback(newSettings=>{try{const updatedSettings={...settings,...newSettings};setSettings(updatedSettings);applySettings(updatedSettings);saveToStorage('homepage-settings',updatedSettings);}catch(error){console.error('更新设置时出错:',error);}},[settings,applySettings]);// 更新特定设置\nconst updateSpecificSettings=useCallback((path,value)=>{try{const pathArray=path.split('.');const updatedSettings={...settings};// 深度设置值\nlet current=updatedSettings;for(let i=0;i<pathArray.length-1;i++){const key=pathArray[i];if(!current[key]||typeof current[key]!=='object'){current[key]={};}else{current[key]={...current[key]};}current=current[key];}current[pathArray[pathArray.length-1]]=value;setSettings(updatedSettings);applySettings(updatedSettings);saveToStorage('homepage-settings',updatedSettings);}catch(error){console.error('更新特定设置时出错:',error);}},[settings,applySettings]);// 重置设置\nconst resetSettings=useCallback(()=>{try{setSettings(defaultSettings);applySettings(defaultSettings);saveToStorage('homepage-settings',defaultSettings);}catch(error){console.error('重置设置时出错:',error);}},[applySettings]);const contextValue={settings,isLoaded,updateSettings,updateSpecificSettings,resetSettings};return/*#__PURE__*/_jsx(SettingsContext.Provider,{value:contextValue,children:children});};export default SettingsContext;","map":{"version":3,"names":["React","createContext","useState","useEffect","useCallback","getFromStorage","saveToStorage","jsx","_jsx","defaultSettings","theme","startupModule","type","module","background","value","opacity","brightness","blurAmount","size","repeat","overlayOpacity","search","defaultEngine","autoCleanUrl","removeNonUrl","openInNewTab","customEngines","modules","calendar","showWeather","showCountdown","bookmark","showFavicons","gridColumns","todo","showCompleted","autoSort","note","autoSave","fontSize","quote","autoRefresh","refreshInterval","news","sources","SettingsContext","settings","isLoaded","updateSettings","updateSpecificSettings","resetSettings","SettingsProvider","_ref","children","setSettings","setIsLoaded","applySettings","settingsToApply","root","document","documentElement","setAttribute","style","setProperty","body","classList","add","remove","bg","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","undefined","filter","error","console","initializeSettings","savedSettings","_savedSettings$module","_savedSettings$module2","_savedSettings$module3","_savedSettings$module4","_savedSettings$module5","_savedSettings$module6","mergedSettings","timer","setTimeout","clearTimeout","newSettings","updatedSettings","path","pathArray","split","current","i","length","key","contextValue","Provider"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/contexts/SettingsContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useCallback } from 'react';\r\nimport { getFromStorage, saveToStorage } from '../utils/storage';\r\n\r\n// 默认设置\r\nconst defaultSettings = {\r\n  theme: 'light',\r\n  startupModule: {\r\n    type: 'last', // 'last' | 'specific'\r\n    module: 'quote' // 当 type 为 'specific' 时使用\r\n  },\r\n  background: {\r\n    type: 'color', // 'color' | 'image' | 'gradient'\r\n    value: '#ffffff',\r\n    opacity: 1,\r\n    brightness: 1,\r\n    blurAmount: 0,\r\n    size: 'cover',\r\n    repeat: 'no-repeat',\r\n    overlayOpacity: 0\r\n  },\r\n  search: {\r\n    defaultEngine: 'bing',\r\n    autoCleanUrl: false,\r\n    removeNonUrl: false,\r\n    openInNewTab: true,\r\n    customEngines: []\r\n  },\r\n  modules: {\r\n    calendar: {\r\n      showWeather: true,\r\n      showCountdown: true\r\n    },\r\n    bookmark: {\r\n      showFavicons: true,\r\n      gridColumns: 4\r\n    },\r\n    todo: {\r\n      showCompleted: false,\r\n      autoSort: true\r\n    },\r\n    note: {\r\n      autoSave: true,\r\n      fontSize: 14\r\n    },\r\n    quote: {\r\n      autoRefresh: true,\r\n      refreshInterval: 3600000 // 1小时\r\n    },\r\n    news: {\r\n      sources: ['tech', 'general'],\r\n      refreshInterval: 1800000 // 30分钟\r\n    }\r\n  }\r\n};\r\n\r\n// 创建上下文\r\nexport const SettingsContext = createContext({\r\n  settings: defaultSettings,\r\n  isLoaded: false,\r\n  updateSettings: () => {},\r\n  updateSpecificSettings: () => {},\r\n  resetSettings: () => {}\r\n});\r\n\r\n// 设置提供者组件\r\nexport const SettingsProvider = ({ children }) => {\r\n  const [settings, setSettings] = useState(defaultSettings);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  // 应用设置到DOM\r\n  const applySettings = useCallback((settingsToApply) => {\r\n    try {\r\n      const root = document.documentElement;\r\n      \r\n      // 应用主题\r\n      if (settingsToApply.theme) {\r\n        root.setAttribute('data-theme', settingsToApply.theme);\r\n        \r\n        if (settingsToApply.theme === 'dark') {\r\n          // 深色模式CSS变量\r\n          root.style.setProperty('--background-color', '#121212');\r\n          root.style.setProperty('--card-background', '#1e1e1e');\r\n          root.style.setProperty('--border-color', '#333333');\r\n          root.style.setProperty('--shadow-color', 'rgba(0, 0, 0, 0.3)');\r\n          root.style.setProperty('--text-color', '#e0e0e0');\r\n          root.style.setProperty('--text-secondary-color', '#a0a0a0');\r\n          root.style.setProperty('--primary-color', '#4a90e2');\r\n          root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.2)');\r\n          root.style.setProperty('--transition-speed', '0.3s');\r\n          document.body.classList.add('dark-mode');\r\n        } else {\r\n          // 浅色模式CSS变量\r\n          root.style.setProperty('--background-color', '#ffffff');\r\n          root.style.setProperty('--card-background', '#f8f8f8');\r\n          root.style.setProperty('--border-color', '#e0e0e0');\r\n          root.style.setProperty('--shadow-color', 'rgba(0, 0, 0, 0.1)');\r\n          root.style.setProperty('--text-color', '#333333');\r\n          root.style.setProperty('--text-secondary-color', '#666666');\r\n          root.style.setProperty('--primary-color', '#4a90e2');\r\n          root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.1)');\r\n          root.style.setProperty('--transition-speed', '0.3s');\r\n          document.body.classList.remove('dark-mode');\r\n        }\r\n      }\r\n      \r\n      // 应用背景设置\r\n      if (settingsToApply.background) {\r\n        const body = document.body;\r\n        const bg = settingsToApply.background;\r\n        \r\n        if (bg.type === 'color') {\r\n          body.style.background = bg.value || '#ffffff';\r\n          body.style.backgroundImage = 'none';\r\n        } else if (bg.type === 'image' && bg.value) {\r\n          body.style.backgroundImage = `url(${bg.value})`;\r\n          body.style.backgroundSize = bg.size || 'cover';\r\n          body.style.backgroundPosition = 'center';\r\n          body.style.backgroundRepeat = bg.repeat || 'no-repeat';\r\n          body.style.backgroundAttachment = 'fixed';\r\n        } else if (bg.type === 'gradient' && bg.value) {\r\n          body.style.background = bg.value;\r\n          body.style.backgroundImage = 'none';\r\n        }\r\n        \r\n        // 应用背景效果\r\n        if (bg.opacity !== undefined) {\r\n          body.style.opacity = bg.opacity;\r\n        }\r\n        if (bg.brightness !== undefined) {\r\n          body.style.filter = `brightness(${bg.brightness})`;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('应用设置时出错:', error);\r\n    }\r\n  }, []);\r\n\r\n  // 初始化设置\r\n  useEffect(() => {\r\n    const initializeSettings = () => {\r\n      try {\r\n        // 从本地存储获取设置\r\n        const savedSettings = getFromStorage('homepage-settings', null);\r\n        \r\n        if (savedSettings) {\r\n          // 合并默认设置和保存的设置\r\n          const mergedSettings = {\r\n            ...defaultSettings,\r\n            ...savedSettings,\r\n            // 深度合并嵌套对象\r\n            startupModule: {\r\n              ...defaultSettings.startupModule,\r\n              ...(savedSettings.startupModule || {})\r\n            },\r\n            background: {\r\n              ...defaultSettings.background,\r\n              ...(savedSettings.background || {})\r\n            },\r\n            search: {\r\n              ...defaultSettings.search,\r\n              ...(savedSettings.search || {})\r\n            },\r\n            modules: {\r\n              ...defaultSettings.modules,\r\n              ...(savedSettings.modules || {}),\r\n              calendar: {\r\n                ...defaultSettings.modules.calendar,\r\n                ...(savedSettings.modules?.calendar || {})\r\n              },\r\n              bookmark: {\r\n                ...defaultSettings.modules.bookmark,\r\n                ...(savedSettings.modules?.bookmark || {})\r\n              },\r\n              todo: {\r\n                ...defaultSettings.modules.todo,\r\n                ...(savedSettings.modules?.todo || {})\r\n              },\r\n              note: {\r\n                ...defaultSettings.modules.note,\r\n                ...(savedSettings.modules?.note || {})\r\n              },\r\n              quote: {\r\n                ...defaultSettings.modules.quote,\r\n                ...(savedSettings.modules?.quote || {})\r\n              },\r\n              news: {\r\n                ...defaultSettings.modules.news,\r\n                ...(savedSettings.modules?.news || {})\r\n              }\r\n            }\r\n          };\r\n          \r\n          setSettings(mergedSettings);\r\n          applySettings(mergedSettings);\r\n        } else {\r\n          // 如果没有保存的设置，使用默认设置\r\n          setSettings(defaultSettings);\r\n          applySettings(defaultSettings);\r\n          // 保存默认设置到本地存储\r\n          saveToStorage('homepage-settings', defaultSettings);\r\n        }\r\n      } catch (error) {\r\n        console.error('初始化设置时出错:', error);\r\n        // 出错时使用默认设置\r\n        setSettings(defaultSettings);\r\n        applySettings(defaultSettings);\r\n      } finally {\r\n        setIsLoaded(true);\r\n      }\r\n    };\r\n\r\n    // 延迟初始化以避免闪烁\r\n    const timer = setTimeout(initializeSettings, 100);\r\n    return () => clearTimeout(timer);\r\n  }, [applySettings]);\r\n\r\n  // 更新设置\r\n  const updateSettings = useCallback((newSettings) => {\r\n    try {\r\n      const updatedSettings = {\r\n        ...settings,\r\n        ...newSettings\r\n      };\r\n      \r\n      setSettings(updatedSettings);\r\n      applySettings(updatedSettings);\r\n      saveToStorage('homepage-settings', updatedSettings);\r\n    } catch (error) {\r\n      console.error('更新设置时出错:', error);\r\n    }\r\n  }, [settings, applySettings]);\r\n\r\n  // 更新特定设置\r\n  const updateSpecificSettings = useCallback((path, value) => {\r\n    try {\r\n      const pathArray = path.split('.');\r\n      const updatedSettings = { ...settings };\r\n      \r\n      // 深度设置值\r\n      let current = updatedSettings;\r\n      for (let i = 0; i < pathArray.length - 1; i++) {\r\n        const key = pathArray[i];\r\n        if (!current[key] || typeof current[key] !== 'object') {\r\n          current[key] = {};\r\n        } else {\r\n          current[key] = { ...current[key] };\r\n        }\r\n        current = current[key];\r\n      }\r\n      current[pathArray[pathArray.length - 1]] = value;\r\n      \r\n      setSettings(updatedSettings);\r\n      applySettings(updatedSettings);\r\n      saveToStorage('homepage-settings', updatedSettings);\r\n    } catch (error) {\r\n      console.error('更新特定设置时出错:', error);\r\n    }\r\n  }, [settings, applySettings]);\r\n\r\n  // 重置设置\r\n  const resetSettings = useCallback(() => {\r\n    try {\r\n      setSettings(defaultSettings);\r\n      applySettings(defaultSettings);\r\n      saveToStorage('homepage-settings', defaultSettings);\r\n    } catch (error) {\r\n      console.error('重置设置时出错:', error);\r\n    }\r\n  }, [applySettings]);\r\n\r\n  const contextValue = {\r\n    settings,\r\n    isLoaded,\r\n    updateSettings,\r\n    updateSpecificSettings,\r\n    resetSettings\r\n  };\r\n\r\n  return (\r\n    <SettingsContext.Provider value={contextValue}>\r\n      {children}\r\n    </SettingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SettingsContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}