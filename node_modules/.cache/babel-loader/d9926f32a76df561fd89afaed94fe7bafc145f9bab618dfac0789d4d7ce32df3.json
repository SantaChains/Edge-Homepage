{"ast":null,"code":"import React,{useState,useContext,useRef,useEffect}from'react';import styled from'styled-components';import{buildSearchUrl,cleanSearchQuery,isValidUrl}from'../../utils/urlHandler';import{SettingsContext}from'../../contexts/SettingsContext';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';// 图标导入\nimport SearchIcon from'@mui/icons-material/Search';import CleaningServicesIcon from'@mui/icons-material/CleaningServices';import ArrowDropDownIcon from'@mui/icons-material/ArrowDropDown';import EditIcon from'@mui/icons-material/Edit';import DeleteIcon from'@mui/icons-material/Delete';import CheckIcon from'@mui/icons-material/Check';import CloseIcon from'@mui/icons-material/Close';import DragIndicatorIcon from'@mui/icons-material/DragIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchContainer=styled.div`\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 10px;\n  position: relative;\n`;const SearchForm=styled.form`\n  display: flex;\n  align-items: center;\n  background: ${props=>props.theme==='dark'?'rgba(45, 45, 45, 0.95)':'rgba(255, 255, 255, 0.95)'};\n  border-radius: 24px;\n  padding: 5px 15px;\n  box-shadow: ${props=>props.theme==='dark'?'0 4px 20px rgba(0, 0, 0, 0.4)':'0 4px 20px rgba(0, 0, 0, 0.1)'};\n  transition: all 0.3s ease;\n  border: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  backdrop-filter: blur(10px);\n  \n  &:focus-within {\n    box-shadow: ${props=>props.theme==='dark'?'0 6px 25px rgba(74, 144, 226, 0.3)':'0 6px 25px rgba(74, 144, 226, 0.2)'};\n    transform: translateY(-2px);\n    border-color: #4a90e2;\n  }\n`;const SearchInput=styled.input`\n  flex: 1;\n  border: none;\n  background: transparent;\n  padding: 10px;\n  font-size: 16px;\n  color: ${props=>props.theme==='dark'?'#e0e0e0':'#333333'};\n  outline: none;\n  \n  &::placeholder {\n    color: ${props=>props.theme==='dark'?'#888888':'#999999'};\n  }\n`;const SearchButton=styled.button`\n  background: none;\n  border: none;\n  color: ${props=>props.theme==='dark'?'#a0a0a0':'#666666'};\n  cursor: pointer;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.3s ease;\n  border-radius: 50%;\n  \n  &:hover {\n    color: #4a90e2;\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.1)':'rgba(74, 144, 226, 0.1)'};\n  }\n`;const CleanButton=styled(SearchButton)`\n  margin-right: 5px;\n  color: ${props=>props.active?'#4a90e2':props.theme==='dark'?'#a0a0a0':'#666666'};\n  background: ${props=>props.active?props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)':'transparent'};\n`;const EngineButton=styled(SearchButton)`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  margin-right: 5px;\n  font-weight: 500;\n  color: #4a90e2;\n  padding: 6px 10px;\n  border-radius: 12px;\n  \n  &:hover {\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)'};\n  }\n`;const EngineDropdown=styled.div`\n  position: absolute;\n  top: 60px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: ${props=>props.theme==='dark'?'rgba(35, 35, 35, 0.98)':'rgba(255, 255, 255, 0.98)'};\n  border-radius: 12px;\n  box-shadow: ${props=>props.theme==='dark'?'0 8px 32px rgba(0, 0, 0, 0.5)':'0 8px 32px rgba(0, 0, 0, 0.15)'};\n  padding: 15px;\n  z-index: 100;\n  width: 90%;\n  max-width: 500px;\n  display: ${props=>props.show?'block':'none'};\n  border: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  backdrop-filter: blur(20px);\n`;const EngineGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n  margin-bottom: 15px;\n`;const EngineOption=styled.button`\n  background: ${props=>props.active?props.theme==='dark'?'rgba(74, 144, 226, 0.3)':'rgba(74, 144, 226, 0.15)':props.theme==='dark'?'rgba(255, 255, 255, 0.05)':'rgba(0, 0, 0, 0.03)'};\n  border: 1px solid ${props=>props.active?'#4a90e2':props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  border-radius: 8px;\n  padding: 10px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  color: ${props=>props.active?'#4a90e2':props.theme==='dark'?'#e0e0e0':'#333333'};\n  font-weight: ${props=>props.active?'500':'normal'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;const CustomEngineForm=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  border-top: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  padding-top: 15px;\n`;const CustomEngineList=styled.div`\n  margin-top: 15px;\n  border-top: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  padding-top: 15px;\n`;const CustomEngineItem=styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px;\n  border: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: ${props=>props.isDragging?props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)':props.theme==='dark'?'rgba(255, 255, 255, 0.03)':'rgba(0, 0, 0, 0.02)'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.15)':'rgba(74, 144, 226, 0.08)'};\n    border-color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;const DragHandle=styled.div`\n  cursor: grab;\n  color: ${props=>props.theme==='dark'?'#888888':'#999999'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 8px;\n  transition: color 0.3s ease;\n  \n  &:hover {\n    color: #4a90e2;\n  }\n  \n  &:active {\n    cursor: grabbing;\n  }\n`;const EngineName=styled.div`\n  flex: 1;\n  font-weight: ${props=>props.active?'500':'normal'};\n  color: ${props=>props.active?'#4a90e2':props.theme==='dark'?'#e0e0e0':'#333333'};\n  margin-left: 8px;\n`;const EngineUrl=styled.div`\n  flex: 2;\n  font-size: 12px;\n  color: ${props=>props.theme==='dark'?'#888888':'#999999'};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 10px;\n`;const ActionButtons=styled.div`\n  display: flex;\n  gap: 4px;\n`;const ActionButton=styled.button`\n  background: none;\n  border: none;\n  color: ${props=>props.theme==='dark'?'#888888':'#999999'};\n  cursor: pointer;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    color: #4a90e2;\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.1)':'rgba(74, 144, 226, 0.1)'};\n  }\n`;const TestButton=styled.button`\n  background: ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.05)':'rgba(0, 0, 0, 0.03)'};\n  border: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  padding: 6px 10px;\n  font-size: 12px;\n  cursor: pointer;\n  color: ${props=>props.theme==='dark'?'#e0e0e0':'#333333'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    color: #4a90e2;\n  }\n`;const EditForm=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 12px;\n  border: 2px solid #4a90e2;\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.1)':'rgba(74, 144, 226, 0.05)'};\n`;const EditFormButtons=styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n`;const EditFormButton=styled.button`\n  background: ${props=>props.primary?'#4a90e2':props.theme==='dark'?'rgba(255, 255, 255, 0.05)':'rgba(0, 0, 0, 0.03)'};\n  color: ${props=>props.primary?'white':props.theme==='dark'?'#e0e0e0':'#333333'};\n  border: 1px solid ${props=>props.primary?'#4a90e2':props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props=>props.primary?'#3a7bc8':props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;const FormRow=styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n`;const Label=styled.label`\n  font-size: 14px;\n  color: ${props=>props.theme==='dark'?'#e0e0e0':'#333333'};\n  width: 80px;\n  font-weight: 500;\n`;const Input=styled.input`\n  flex: 1;\n  padding: 10px;\n  border: 1px solid ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  background: ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.05)':'rgba(0, 0, 0, 0.02)'};\n  color: ${props=>props.theme==='dark'?'#e0e0e0':'#333333'};\n  font-size: 14px;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    border-color: #4a90e2;\n    outline: none;\n    background: ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.1)':'rgba(74, 144, 226, 0.05)'};\n    box-shadow: 0 0 0 3px ${props=>props.theme==='dark'?'rgba(74, 144, 226, 0.2)':'rgba(74, 144, 226, 0.1)'};\n  }\n  \n  &::placeholder {\n    color: ${props=>props.theme==='dark'?'#888888':'#999999'};\n  }\n`;const AddButton=styled.button`\n  background: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 10px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: auto;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: #3a7bc8;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\n  }\n`;const SwitchContainer=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n`;const SwitchLabel=styled.span`\n  font-size: 14px;\n  color: ${props=>props.theme==='dark'?'#e0e0e0':'#333333'};\n  font-weight: 500;\n`;const Switch=styled.label`\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n  \n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n`;const Slider2=styled.span`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.2)':'rgba(0, 0, 0, 0.2)'};\n  transition: 0.4s;\n  border-radius: 24px;\n  \n  &:before {\n    position: absolute;\n    content: \"\";\n    height: 18px;\n    width: 18px;\n    left: 3px;\n    bottom: 3px;\n    background: ${props=>props.theme==='dark'?'rgba(255, 255, 255, 0.9)':'white'};\n    transition: 0.4s;\n    border-radius: 50%;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  }\n  \n  input:checked + & {\n    background: #4a90e2;\n  }\n  \n  input:checked + &:before {\n    transform: translateX(20px);\n  }\n`;const Search=()=>{const{settings,updateSpecificSettings}=useContext(SettingsContext);const[query,setQuery]=useState('');const[autoClean,setAutoClean]=useState(false);const[removeNonUrl,setRemoveNonUrl]=useState(false);const[engine,setEngine]=useState('bing');const[showEngineDropdown,setShowEngineDropdown]=useState(false);const[customEngineName,setCustomEngineName]=useState('');const[customEngineUrl,setCustomEngineUrl]=useState('');const[customEngines,setCustomEngines]=useState([]);const[editingEngine,setEditingEngine]=useState(null);const[editName,setEditName]=useState('');const[editUrl,setEditUrl]=useState('');const testQuery='测试查询[移除]';const dropdownRef=useRef(null);const searchFormRef=useRef(null);// 获取当前主题\nconst currentTheme=settings&&settings.theme?settings.theme:'light';// 点击外部关闭下拉菜单\nuseEffect(()=>{const handleClickOutside=event=>{try{if(dropdownRef.current&&searchFormRef.current&&event.target){if(!dropdownRef.current.contains(event.target)&&!searchFormRef.current.contains(event.target)){setShowEngineDropdown(false);}}}catch(error){console.error('处理点击外部事件时出错:',error);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// 初始化设置\nuseEffect(()=>{if(settings&&settings.search){setAutoClean(settings.search.autoCleanUrl||false);setRemoveNonUrl(settings.search.removeNonUrl||false);setEngine(settings.search.defaultEngine||'bing');setCustomEngines(Array.isArray(settings.search.customEngines)?settings.search.customEngines:[]);}},[settings]);// 处理搜索提交\nconst handleSubmit=e=>{e.preventDefault();if(!query.trim())return;try{let processedQuery=query;let originalIsUrl=false;// 首先检查原始查询是否是有效URL\nif(isValidUrl&&(isValidUrl(query)||query.startsWith('file:/')||query.startsWith('http'))){originalIsUrl=true;// 如果是URL，直接跳转\nif(!autoClean){if(settings&&settings.search&&settings.search.openInNewTab){window.open(query,'_blank');}else{window.location.href=query;}return;}}// 如果启用了URL清理\nif(autoClean&&cleanSearchQuery){processedQuery=cleanSearchQuery(query);// 如果清理后的查询是有效URL，直接跳转\nif(isValidUrl&&(isValidUrl(processedQuery)||processedQuery.startsWith('file:/')||processedQuery.startsWith('http'))){if(settings&&settings.search&&settings.search.openInNewTab){window.open(processedQuery,'_blank');}else{window.location.href=processedQuery;}return;}// 如果原始查询是URL但清理后不是，使用原始URL\nif(originalIsUrl){if(settings&&settings.search&&settings.search.openInNewTab){window.open(query,'_blank');}else{window.location.href=query;}return;}}// 如果不是URL，使用搜索引擎\nconst customEngine=Array.isArray(customEngines)?customEngines.find(e=>e&&e.id===engine):null;let searchUrl;if(customEngine&&customEngine.url){searchUrl=customEngine.url.replace('{query}',encodeURIComponent(processedQuery));}else if(buildSearchUrl){searchUrl=buildSearchUrl(processedQuery,engine,removeNonUrl,customEngines);}else{// 后备搜索URL\nsearchUrl=`https://www.bing.com/search?q=${encodeURIComponent(processedQuery)}`;}if(settings&&settings.search&&settings.search.openInNewTab){window.open(searchUrl,'_blank');}else{window.location.href=searchUrl;}}catch(error){console.error('搜索处理错误:',error);// 使用默认搜索引擎作为后备\nconst backupUrl=`https://www.bing.com/search?q=${encodeURIComponent(query)}`;window.open(backupUrl,'_blank');}};// 处理输入变化\nconst handleInputChange=e=>{setQuery(e.target.value);};// 切换自动清理URL\nconst toggleAutoClean=()=>{const newValue=!autoClean;setAutoClean(newValue);if(updateSpecificSettings){updateSpecificSettings('search.autoCleanUrl',newValue);}};// 切换移除非URL字符\n// const toggleRemoveNonUrl = () => {\n//   const newValue = !removeNonUrl;\n//   setRemoveNonUrl(newValue);\n//   if (updateSpecificSettings) {\n//     updateSpecificSettings('search.removeNonUrl', newValue);\n//   }\n// };\n// 切换搜索引擎\nconst changeEngine=newEngine=>{setEngine(newEngine);if(updateSpecificSettings){updateSpecificSettings('search.defaultEngine',newEngine);}setShowEngineDropdown(false);};// 添加自定义搜索引擎\nconst addCustomEngine=()=>{if(!customEngineName.trim()||!customEngineUrl.trim()||!customEngineUrl.includes('{query}')){alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');return;}const newEngine={id:`custom_${Date.now()}`,name:customEngineName,url:customEngineUrl};const updatedEngines=[...customEngines,newEngine];setCustomEngines(updatedEngines);if(updateSpecificSettings){updateSpecificSettings('search.customEngines',updatedEngines);}// 切换到新添加的引擎\nsetEngine(newEngine.id);if(updateSpecificSettings){updateSpecificSettings('search.defaultEngine',newEngine.id);}// 清空输入框\nsetCustomEngineName('');setCustomEngineUrl('');};// 开始编辑自定义搜索引擎\nconst startEditEngine=engine=>{setEditingEngine(engine.id);setEditName(engine.name);setEditUrl(engine.url);};// 保存编辑的自定义搜索引擎\nconst saveEditEngine=()=>{if(!editName.trim()||!editUrl.trim()||!editUrl.includes('{query}')){alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');return;}const updatedEngines=customEngines.map(engine=>engine&&engine.id===editingEngine?{...engine,name:editName,url:editUrl}:engine);setCustomEngines(updatedEngines);if(updateSpecificSettings){updateSpecificSettings('search.customEngines',updatedEngines);}// 取消编辑状态\ncancelEditEngine();};// 取消编辑\nconst cancelEditEngine=()=>{setEditingEngine(null);setEditName('');setEditUrl('');};// 删除自定义搜索引擎\nconst deleteEngine=engineId=>{if(window.confirm('确定要删除这个搜索引擎吗？')){const updatedEngines=customEngines.filter(engine=>engine&&engine.id!==engineId);setCustomEngines(updatedEngines);if(updateSpecificSettings){updateSpecificSettings('search.customEngines',updatedEngines);}// 如果删除的是当前选中的引擎，切换到默认引擎\nif(engine===engineId){setEngine('bing');if(updateSpecificSettings){updateSpecificSettings('search.defaultEngine','bing');}}}};// 处理拖拽结束\nconst handleDragEnd=result=>{try{var _result$source,_result$destination;if(!result||!result.destination||!Array.isArray(customEngines))return;const sourceIndex=(_result$source=result.source)===null||_result$source===void 0?void 0:_result$source.index;const destinationIndex=(_result$destination=result.destination)===null||_result$destination===void 0?void 0:_result$destination.index;if(sourceIndex===undefined||destinationIndex===undefined||sourceIndex===destinationIndex)return;const updatedEngines=[...customEngines];const[removed]=updatedEngines.splice(sourceIndex,1);updatedEngines.splice(destinationIndex,0,removed);setCustomEngines(updatedEngines);if(updateSpecificSettings){updateSpecificSettings('search.customEngines',updatedEngines);}}catch(error){console.error('处理拖拽时出错:',error);}};// 测试自定义搜索引擎\nconst testEngine=engineUrl=>{try{// 处理测试查询\nlet processedQuery=testQuery;if(autoClean&&cleanSearchQuery){processedQuery=cleanSearchQuery(testQuery);}const testUrl=engineUrl.replace('{query}',encodeURIComponent(processedQuery));window.open(testUrl,'_blank');}catch(error){console.error('测试搜索引擎失败:',error);alert('测试失败，请检查URL格式');}};// 获取当前引擎名称\nconst getCurrentEngineName=()=>{const predefinedEngines={'bing':'必应','google':'谷歌','baidu':'百度','sogou':'搜狗','mita':'秘塔AI'};if(predefinedEngines[engine]){return predefinedEngines[engine];}const customEngine=Array.isArray(customEngines)?customEngines.find(e=>e&&e.id===engine):null;return customEngine&&customEngine.name?customEngine.name:'必应';};return/*#__PURE__*/_jsxs(SearchContainer,{children:[/*#__PURE__*/_jsxs(SearchForm,{onSubmit:handleSubmit,ref:searchFormRef,theme:currentTheme,children:[/*#__PURE__*/_jsxs(EngineButton,{type:\"button\",onClick:()=>setShowEngineDropdown(!showEngineDropdown),title:\"\\u9009\\u62E9\\u641C\\u7D22\\u5F15\\u64CE\",theme:currentTheme,children:[getCurrentEngineName(),/*#__PURE__*/_jsx(ArrowDropDownIcon,{fontSize:\"small\"})]}),/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"\\u641C\\u7D22\\u6216\\u8F93\\u5165\\u7F51\\u5740\",value:query,onChange:handleInputChange,autoFocus:true,theme:currentTheme}),/*#__PURE__*/_jsx(CleanButton,{type:\"button\",onClick:toggleAutoClean,active:autoClean,title:autoClean?'已启用URL清理':'已禁用URL清理',theme:currentTheme,children:/*#__PURE__*/_jsx(CleaningServicesIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(SearchButton,{type:\"submit\",title:\"\\u641C\\u7D22\",theme:currentTheme,children:/*#__PURE__*/_jsx(SearchIcon,{})})]}),showEngineDropdown&&/*#__PURE__*/_jsxs(EngineDropdown,{show:showEngineDropdown,ref:dropdownRef,theme:currentTheme,children:[/*#__PURE__*/_jsxs(EngineGrid,{children:[/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('bing'),active:engine==='bing',theme:currentTheme,children:\"\\u5FC5\\u5E94\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('google'),active:engine==='google',theme:currentTheme,children:\"\\u8C37\\u6B4C\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('baidu'),active:engine==='baidu',theme:currentTheme,children:\"\\u767E\\u5EA6\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('sogou'),active:engine==='sogou',theme:currentTheme,children:\"\\u641C\\u72D7\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('mita'),active:engine==='mita',theme:currentTheme,children:\"\\u79D8\\u5854AI\"}),Array.isArray(customEngines)&&customEngines.map(customEngine=>customEngine&&customEngine.id?/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine(customEngine.id),active:engine===customEngine.id,theme:currentTheme,children:customEngine.name||'未命名'},customEngine.id):null)]}),/*#__PURE__*/_jsxs(CustomEngineForm,{theme:currentTheme,children:[/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{theme:currentTheme,children:\"\\u540D\\u79F0:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:customEngineName,onChange:e=>setCustomEngineName(e.target.value),placeholder:\"\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\\u540D\\u79F0\",theme:currentTheme})]}),/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{theme:currentTheme,children:\"URL:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:customEngineUrl,onChange:e=>setCustomEngineUrl(e.target.value),placeholder:\"https://example.com/search?q={query}\",theme:currentTheme})]}),/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsxs(SwitchContainer,{children:[/*#__PURE__*/_jsx(SwitchLabel,{theme:currentTheme,children:\"URL\\u6E05\\u7406\"}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:autoClean,onChange:toggleAutoClean}),/*#__PURE__*/_jsx(Slider2,{theme:currentTheme})]})]}),/*#__PURE__*/_jsx(AddButton,{onClick:addCustomEngine,children:\"\\u6DFB\\u52A0\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\"})]})]}),Array.isArray(customEngines)&&customEngines.length>0&&/*#__PURE__*/_jsx(CustomEngineList,{theme:currentTheme,children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"custom-engines\",children:provided=>{if(!provided||!provided.innerRef){return/*#__PURE__*/_jsx(\"div\",{children:customEngines.map((customEngine,index)=>{if(!customEngine||!customEngine.id)return null;return/*#__PURE__*/_jsxs(CustomEngineItem,{theme:currentTheme,children:[/*#__PURE__*/_jsx(EngineName,{active:engine===customEngine.id,theme:currentTheme,children:customEngine.name||'未命名'}),/*#__PURE__*/_jsx(EngineUrl,{theme:currentTheme,children:customEngine.url||''})]},customEngine.id);})});}return/*#__PURE__*/_jsxs(\"div\",{...(provided.droppableProps||{}),ref:provided.innerRef,children:[customEngines.map((customEngine,index)=>{if(!customEngine||!customEngine.id)return null;if(editingEngine===customEngine.id){return/*#__PURE__*/_jsxs(EditForm,{theme:currentTheme,children:[/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{theme:currentTheme,children:\"\\u540D\\u79F0:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:editName,onChange:e=>setEditName(e.target.value),theme:currentTheme})]}),/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{theme:currentTheme,children:\"URL:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:editUrl,onChange:e=>setEditUrl(e.target.value),theme:currentTheme})]}),/*#__PURE__*/_jsxs(EditFormButtons,{children:[/*#__PURE__*/_jsxs(EditFormButton,{onClick:cancelEditEngine,theme:currentTheme,children:[/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"}),\" \\u53D6\\u6D88\"]}),/*#__PURE__*/_jsxs(EditFormButton,{primary:true,onClick:saveEditEngine,theme:currentTheme,children:[/*#__PURE__*/_jsx(CheckIcon,{fontSize:\"small\"}),\" \\u4FDD\\u5B58\"]})]})]},customEngine.id);}return/*#__PURE__*/_jsx(Draggable,{draggableId:customEngine.id,index:index,children:(provided,snapshot)=>{var _provided$draggablePr;if(!provided||!provided.innerRef){return/*#__PURE__*/_jsxs(CustomEngineItem,{theme:currentTheme,children:[/*#__PURE__*/_jsx(EngineName,{active:engine===customEngine.id,theme:currentTheme,children:customEngine.name||'未命名'}),/*#__PURE__*/_jsx(EngineUrl,{theme:currentTheme,children:customEngine.url||''})]});}return/*#__PURE__*/_jsx(\"div\",{ref:provided.innerRef,...provided.draggableProps,style:((_provided$draggablePr=provided.draggableProps)===null||_provided$draggablePr===void 0?void 0:_provided$draggablePr.style)||{},children:/*#__PURE__*/_jsxs(CustomEngineItem,{isDragging:(snapshot===null||snapshot===void 0?void 0:snapshot.isDragging)||false,theme:currentTheme,children:[/*#__PURE__*/_jsx(DragHandle,{...(provided.dragHandleProps||{}),theme:currentTheme,children:/*#__PURE__*/_jsx(DragIndicatorIcon,{})}),/*#__PURE__*/_jsx(EngineName,{active:engine===customEngine.id,theme:currentTheme,children:customEngine.name||'未命名'}),/*#__PURE__*/_jsx(EngineUrl,{theme:currentTheme,children:customEngine.url||''}),/*#__PURE__*/_jsxs(ActionButtons,{children:[/*#__PURE__*/_jsx(TestButton,{onClick:()=>testEngine(customEngine.url),title:\"\\u6D4B\\u8BD5\\u641C\\u7D22\\u5F15\\u64CE\",theme:currentTheme,children:\"\\u6D4B\\u8BD5\"}),/*#__PURE__*/_jsx(ActionButton,{onClick:()=>startEditEngine(customEngine),title:\"\\u7F16\\u8F91\",theme:currentTheme,children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ActionButton,{onClick:()=>deleteEngine(customEngine.id),title:\"\\u5220\\u9664\",theme:currentTheme,children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})]})]})});}},customEngine.id);}),provided.placeholder]});}})})})]})]});};export default Search;","map":{"version":3,"names":["React","useState","useContext","useRef","useEffect","styled","buildSearchUrl","cleanSearchQuery","isValidUrl","SettingsContext","DragDropContext","Droppable","Draggable","SearchIcon","CleaningServicesIcon","ArrowDropDownIcon","EditIcon","DeleteIcon","CheckIcon","CloseIcon","DragIndicatorIcon","jsx","_jsx","jsxs","_jsxs","SearchContainer","div","SearchForm","form","props","theme","SearchInput","input","SearchButton","button","CleanButton","active","EngineButton","EngineDropdown","show","EngineGrid","EngineOption","CustomEngineForm","CustomEngineList","CustomEngineItem","isDragging","DragHandle","EngineName","EngineUrl","ActionButtons","ActionButton","TestButton","EditForm","EditFormButtons","EditFormButton","primary","FormRow","Label","label","Input","AddButton","SwitchContainer","SwitchLabel","span","Switch","Slider2","Search","settings","updateSpecificSettings","query","setQuery","autoClean","setAutoClean","removeNonUrl","setRemoveNonUrl","engine","setEngine","showEngineDropdown","setShowEngineDropdown","customEngineName","setCustomEngineName","customEngineUrl","setCustomEngineUrl","customEngines","setCustomEngines","editingEngine","setEditingEngine","editName","setEditName","editUrl","setEditUrl","testQuery","dropdownRef","searchFormRef","currentTheme","handleClickOutside","event","current","target","contains","error","console","document","addEventListener","removeEventListener","search","autoCleanUrl","defaultEngine","Array","isArray","handleSubmit","e","preventDefault","trim","processedQuery","originalIsUrl","startsWith","openInNewTab","window","open","location","href","customEngine","find","id","searchUrl","url","replace","encodeURIComponent","backupUrl","handleInputChange","value","toggleAutoClean","newValue","changeEngine","newEngine","addCustomEngine","includes","alert","Date","now","name","updatedEngines","startEditEngine","saveEditEngine","map","cancelEditEngine","deleteEngine","engineId","confirm","filter","handleDragEnd","result","_result$source","_result$destination","destination","sourceIndex","source","index","destinationIndex","undefined","removed","splice","testEngine","engineUrl","testUrl","getCurrentEngineName","predefinedEngines","children","onSubmit","ref","type","onClick","title","fontSize","placeholder","onChange","autoFocus","checked","length","onDragEnd","droppableId","provided","innerRef","droppableProps","draggableId","snapshot","_provided$draggablePr","draggableProps","style","dragHandleProps"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/components/Search/Search.js"],"sourcesContent":["import React, { useState, useContext, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { buildSearchUrl, cleanSearchQuery, isValidUrl } from '../../utils/urlHandler';\r\nimport { SettingsContext } from '../../contexts/SettingsContext';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\n// 图标导入\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CleaningServicesIcon from '@mui/icons-material/CleaningServices';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\r\n\r\nconst SearchContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n  position: relative;\r\n`;\r\n\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(45, 45, 45, 0.95)' \r\n    : 'rgba(255, 255, 255, 0.95)'};\r\n  border-radius: 24px;\r\n  padding: 5px 15px;\r\n  box-shadow: ${props => props.theme === 'dark' \r\n    ? '0 4px 20px rgba(0, 0, 0, 0.4)' \r\n    : '0 4px 20px rgba(0, 0, 0, 0.1)'};\r\n  transition: all 0.3s ease;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  backdrop-filter: blur(10px);\r\n  \r\n  &:focus-within {\r\n    box-shadow: ${props => props.theme === 'dark' \r\n      ? '0 6px 25px rgba(74, 144, 226, 0.3)' \r\n      : '0 6px 25px rgba(74, 144, 226, 0.2)'};\r\n    transform: translateY(-2px);\r\n    border-color: #4a90e2;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  outline: none;\r\n  \r\n  &::placeholder {\r\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  }\r\n`;\r\n\r\nconst SearchButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: ${props => props.theme === 'dark' ? '#a0a0a0' : '#666666'};\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: color 0.3s ease;\r\n  border-radius: 50%;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst CleanButton = styled(SearchButton)`\r\n  margin-right: 5px;\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#a0a0a0' : '#666666'};\r\n  background: ${props => props.active \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'\r\n    : 'transparent'};\r\n`;\r\n\r\nconst EngineButton = styled(SearchButton)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2px;\r\n  margin-right: 5px;\r\n  font-weight: 500;\r\n  color: #4a90e2;\r\n  padding: 6px 10px;\r\n  border-radius: 12px;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst EngineDropdown = styled.div`\r\n  position: absolute;\r\n  top: 60px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(35, 35, 35, 0.98)' \r\n    : 'rgba(255, 255, 255, 0.98)'};\r\n  border-radius: 12px;\r\n  box-shadow: ${props => props.theme === 'dark' \r\n    ? '0 8px 32px rgba(0, 0, 0, 0.5)' \r\n    : '0 8px 32px rgba(0, 0, 0, 0.15)'};\r\n  padding: 15px;\r\n  z-index: 100;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  backdrop-filter: blur(20px);\r\n`;\r\n\r\nconst EngineGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst EngineOption = styled.button`\r\n  background: ${props => props.active \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.3)' \r\n      : 'rgba(74, 144, 226, 0.15)'\r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.05)' \r\n      : 'rgba(0, 0, 0, 0.03)'};\r\n  border: 1px solid ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.1)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 8px;\r\n  padding: 10px 12px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-weight: ${props => props.active ? '500' : 'normal'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst CustomEngineForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  border-top: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst CustomEngineList = styled.div`\r\n  margin-top: 15px;\r\n  border-top: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst CustomEngineItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: ${props => props.isDragging \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'\r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.03)' \r\n      : 'rgba(0, 0, 0, 0.02)'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.15)' \r\n      : 'rgba(74, 144, 226, 0.08)'};\r\n    border-color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst DragHandle = styled.div`\r\n  cursor: grab;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 8px;\r\n  transition: color 0.3s ease;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n  }\r\n  \r\n  &:active {\r\n    cursor: grabbing;\r\n  }\r\n`;\r\n\r\nconst EngineName = styled.div`\r\n  flex: 1;\r\n  font-weight: ${props => props.active ? '500' : 'normal'};\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst EngineUrl = styled.div`\r\n  flex: 2;\r\n  font-size: 12px;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  margin: 0 10px;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  cursor: pointer;\r\n  padding: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst TestButton = styled.button`\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.05)' \r\n    : 'rgba(0, 0, 0, 0.03)'};\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  padding: 6px 10px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    color: #4a90e2;\r\n  }\r\n`;\r\n\r\nconst EditForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  padding: 12px;\r\n  border: 2px solid #4a90e2;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(74, 144, 226, 0.1)' \r\n    : 'rgba(74, 144, 226, 0.05)'};\r\n`;\r\n\r\nconst EditFormButtons = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 8px;\r\n`;\r\n\r\nconst EditFormButton = styled.button`\r\n  background: ${props => props.primary \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.05)' \r\n      : 'rgba(0, 0, 0, 0.03)'};\r\n  color: ${props => props.primary \r\n    ? 'white' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  border: 1px solid ${props => props.primary \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.1)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.primary \r\n      ? '#3a7bc8' \r\n      : props.theme === 'dark' \r\n        ? 'rgba(74, 144, 226, 0.2)' \r\n        : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst FormRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-size: 14px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  width: 80px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.05)' \r\n    : 'rgba(0, 0, 0, 0.02)'};\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:focus {\r\n    border-color: #4a90e2;\r\n    outline: none;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.05)'};\r\n    box-shadow: 0 0 0 3px ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n  \r\n  &::placeholder {\r\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  }\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background: #4a90e2;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 10px 16px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-left: auto;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: #3a7bc8;\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\r\n  }\r\n`;\r\n\r\nconst SwitchContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst SwitchLabel = styled.span`\r\n  font-size: 14px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Switch = styled.label`\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 44px;\r\n  height: 24px;\r\n  \r\n  input {\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n`;\r\n\r\nconst Slider2 = styled.span`\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.2)' \r\n    : 'rgba(0, 0, 0, 0.2)'};\r\n  transition: 0.4s;\r\n  border-radius: 24px;\r\n  \r\n  &:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 18px;\r\n    width: 18px;\r\n    left: 3px;\r\n    bottom: 3px;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.9)' \r\n      : 'white'};\r\n    transition: 0.4s;\r\n    border-radius: 50%;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  input:checked + & {\r\n    background: #4a90e2;\r\n  }\r\n  \r\n  input:checked + &:before {\r\n    transform: translateX(20px);\r\n  }\r\n`;\r\n\r\nconst Search = () => {\r\n  const { settings, updateSpecificSettings } = useContext(SettingsContext);\r\n  const [query, setQuery] = useState('');\r\n  const [autoClean, setAutoClean] = useState(false);\r\n  const [removeNonUrl, setRemoveNonUrl] = useState(false);\r\n  const [engine, setEngine] = useState('bing');\r\n  const [showEngineDropdown, setShowEngineDropdown] = useState(false);\r\n  const [customEngineName, setCustomEngineName] = useState('');\r\n  const [customEngineUrl, setCustomEngineUrl] = useState('');\r\n  const [customEngines, setCustomEngines] = useState([]);\r\n  const [editingEngine, setEditingEngine] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n  const [editUrl, setEditUrl] = useState('');\r\n  const testQuery = '测试查询[移除]';\r\n  \r\n  const dropdownRef = useRef(null);\r\n  const searchFormRef = useRef(null);\r\n  \r\n  // 获取当前主题\r\n  const currentTheme = (settings && settings.theme) ? settings.theme : 'light';\r\n  \r\n  // 点击外部关闭下拉菜单\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      try {\r\n        if (dropdownRef.current && searchFormRef.current && event.target) {\r\n          if (!dropdownRef.current.contains(event.target) &&\r\n              !searchFormRef.current.contains(event.target)) {\r\n            setShowEngineDropdown(false);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('处理点击外部事件时出错:', error);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n  \r\n  // 初始化设置\r\n  useEffect(() => {\r\n    if (settings && settings.search) {\r\n      setAutoClean(settings.search.autoCleanUrl || false);\r\n      setRemoveNonUrl(settings.search.removeNonUrl || false);\r\n      setEngine(settings.search.defaultEngine || 'bing');\r\n      setCustomEngines(Array.isArray(settings.search.customEngines) ? settings.search.customEngines : []);\r\n    }\r\n  }, [settings]);\r\n  \r\n  // 处理搜索提交\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!query.trim()) return;\r\n    \r\n    try {\r\n      let processedQuery = query;\r\n      let originalIsUrl = false;\r\n      \r\n      // 首先检查原始查询是否是有效URL\r\n      if (isValidUrl && (isValidUrl(query) || query.startsWith('file:/') || query.startsWith('http'))) {\r\n        originalIsUrl = true;\r\n        \r\n        // 如果是URL，直接跳转\r\n        if (!autoClean) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(query, '_blank');\r\n          } else {\r\n            window.location.href = query;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // 如果启用了URL清理\r\n      if (autoClean && cleanSearchQuery) {\r\n        processedQuery = cleanSearchQuery(query);\r\n        \r\n        // 如果清理后的查询是有效URL，直接跳转\r\n        if (isValidUrl && (isValidUrl(processedQuery) || processedQuery.startsWith('file:/') || processedQuery.startsWith('http'))) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(processedQuery, '_blank');\r\n          } else {\r\n            window.location.href = processedQuery;\r\n          }\r\n          return;\r\n        }\r\n        \r\n        // 如果原始查询是URL但清理后不是，使用原始URL\r\n        if (originalIsUrl) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(query, '_blank');\r\n          } else {\r\n            window.location.href = query;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // 如果不是URL，使用搜索引擎\r\n      const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\r\n      \r\n      let searchUrl;\r\n      if (customEngine && customEngine.url) {\r\n        searchUrl = customEngine.url.replace('{query}', encodeURIComponent(processedQuery));\r\n      } else if (buildSearchUrl) {\r\n        searchUrl = buildSearchUrl(processedQuery, engine, removeNonUrl, customEngines);\r\n      } else {\r\n        // 后备搜索URL\r\n        searchUrl = `https://www.bing.com/search?q=${encodeURIComponent(processedQuery)}`;\r\n      }\r\n      \r\n      if (settings && settings.search && settings.search.openInNewTab) {\r\n        window.open(searchUrl, '_blank');\r\n      } else {\r\n        window.location.href = searchUrl;\r\n      }\r\n    } catch (error) {\r\n      console.error('搜索处理错误:', error);\r\n      // 使用默认搜索引擎作为后备\r\n      const backupUrl = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;\r\n      window.open(backupUrl, '_blank');\r\n    }\r\n  };\r\n  \r\n  // 处理输入变化\r\n  const handleInputChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n  \r\n  // 切换自动清理URL\r\n  const toggleAutoClean = () => {\r\n    const newValue = !autoClean;\r\n    setAutoClean(newValue);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.autoCleanUrl', newValue);\r\n    }\r\n  };\r\n  \r\n  // 切换移除非URL字符\r\n  // const toggleRemoveNonUrl = () => {\r\n  //   const newValue = !removeNonUrl;\r\n  //   setRemoveNonUrl(newValue);\r\n  //   if (updateSpecificSettings) {\r\n  //     updateSpecificSettings('search.removeNonUrl', newValue);\r\n  //   }\r\n  // };\r\n  \r\n  // 切换搜索引擎\r\n  const changeEngine = (newEngine) => {\r\n    setEngine(newEngine);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.defaultEngine', newEngine);\r\n    }\r\n    setShowEngineDropdown(false);\r\n  };\r\n  \r\n  // 添加自定义搜索引擎\r\n  const addCustomEngine = () => {\r\n    if (!customEngineName.trim() || !customEngineUrl.trim() || !customEngineUrl.includes('{query}')) {\r\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\r\n      return;\r\n    }\r\n    \r\n    const newEngine = {\r\n      id: `custom_${Date.now()}`,\r\n      name: customEngineName,\r\n      url: customEngineUrl\r\n    };\r\n    \r\n    const updatedEngines = [...customEngines, newEngine];\r\n    setCustomEngines(updatedEngines);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.customEngines', updatedEngines);\r\n    }\r\n    \r\n    // 切换到新添加的引擎\r\n    setEngine(newEngine.id);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.defaultEngine', newEngine.id);\r\n    }\r\n    \r\n    // 清空输入框\r\n    setCustomEngineName('');\r\n    setCustomEngineUrl('');\r\n  };\r\n  \r\n  // 开始编辑自定义搜索引擎\r\n  const startEditEngine = (engine) => {\r\n    setEditingEngine(engine.id);\r\n    setEditName(engine.name);\r\n    setEditUrl(engine.url);\r\n  };\r\n  \r\n  // 保存编辑的自定义搜索引擎\r\n  const saveEditEngine = () => {\r\n    if (!editName.trim() || !editUrl.trim() || !editUrl.includes('{query}')) {\r\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\r\n      return;\r\n    }\r\n    \r\n    const updatedEngines = customEngines.map(engine => \r\n      engine && engine.id === editingEngine \r\n        ? { ...engine, name: editName, url: editUrl } \r\n        : engine\r\n    );\r\n    \r\n    setCustomEngines(updatedEngines);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.customEngines', updatedEngines);\r\n    }\r\n    \r\n    // 取消编辑状态\r\n    cancelEditEngine();\r\n  };\r\n  \r\n  // 取消编辑\r\n  const cancelEditEngine = () => {\r\n    setEditingEngine(null);\r\n    setEditName('');\r\n    setEditUrl('');\r\n  };\r\n  \r\n  // 删除自定义搜索引擎\r\n  const deleteEngine = (engineId) => {\r\n    if (window.confirm('确定要删除这个搜索引擎吗？')) {\r\n      const updatedEngines = customEngines.filter(engine => engine && engine.id !== engineId);\r\n      setCustomEngines(updatedEngines);\r\n      if (updateSpecificSettings) {\r\n        updateSpecificSettings('search.customEngines', updatedEngines);\r\n      }\r\n      \r\n      // 如果删除的是当前选中的引擎，切换到默认引擎\r\n      if (engine === engineId) {\r\n        setEngine('bing');\r\n        if (updateSpecificSettings) {\r\n          updateSpecificSettings('search.defaultEngine', 'bing');\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 处理拖拽结束\r\n  const handleDragEnd = (result) => {\r\n    try {\r\n      if (!result || !result.destination || !Array.isArray(customEngines)) return;\r\n      \r\n      const sourceIndex = result.source?.index;\r\n      const destinationIndex = result.destination?.index;\r\n      \r\n      if (sourceIndex === undefined || destinationIndex === undefined || sourceIndex === destinationIndex) return;\r\n      \r\n      const updatedEngines = [...customEngines];\r\n      const [removed] = updatedEngines.splice(sourceIndex, 1);\r\n      updatedEngines.splice(destinationIndex, 0, removed);\r\n      \r\n      setCustomEngines(updatedEngines);\r\n      if (updateSpecificSettings) {\r\n        updateSpecificSettings('search.customEngines', updatedEngines);\r\n      }\r\n    } catch (error) {\r\n      console.error('处理拖拽时出错:', error);\r\n    }\r\n  };\r\n  \r\n  // 测试自定义搜索引擎\r\n  const testEngine = (engineUrl) => {\r\n    try {\r\n      // 处理测试查询\r\n      let processedQuery = testQuery;\r\n      if (autoClean && cleanSearchQuery) {\r\n        processedQuery = cleanSearchQuery(testQuery);\r\n      }\r\n      \r\n      const testUrl = engineUrl.replace('{query}', encodeURIComponent(processedQuery));\r\n      window.open(testUrl, '_blank');\r\n    } catch (error) {\r\n      console.error('测试搜索引擎失败:', error);\r\n      alert('测试失败，请检查URL格式');\r\n    }\r\n  };\r\n  \r\n  // 获取当前引擎名称\r\n  const getCurrentEngineName = () => {\r\n    const predefinedEngines = {\r\n      'bing': '必应',\r\n      'google': '谷歌',\r\n      'baidu': '百度',\r\n      'sogou': '搜狗',\r\n      'mita': '秘塔AI'\r\n    };\r\n    \r\n    if (predefinedEngines[engine]) {\r\n      return predefinedEngines[engine];\r\n    }\r\n    \r\n    const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\r\n    return (customEngine && customEngine.name) ? customEngine.name : '必应';\r\n  };\r\n  \r\n  return (\r\n    <SearchContainer>\r\n      <SearchForm onSubmit={handleSubmit} ref={searchFormRef} theme={currentTheme}>\r\n        <EngineButton \r\n          type=\"button\" \r\n          onClick={() => setShowEngineDropdown(!showEngineDropdown)}\r\n          title=\"选择搜索引擎\"\r\n          theme={currentTheme}\r\n        >\r\n          {getCurrentEngineName()}\r\n          <ArrowDropDownIcon fontSize=\"small\" />\r\n        </EngineButton>\r\n        <SearchInput\r\n          type=\"text\"\r\n          placeholder=\"搜索或输入网址\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n          autoFocus\r\n          theme={currentTheme}\r\n        />\r\n        <CleanButton\r\n          type=\"button\"\r\n          onClick={toggleAutoClean}\r\n          active={autoClean}\r\n          title={autoClean ? '已启用URL清理' : '已禁用URL清理'}\r\n          theme={currentTheme}\r\n        >\r\n          <CleaningServicesIcon fontSize=\"small\" />\r\n        </CleanButton>\r\n        <SearchButton type=\"submit\" title=\"搜索\" theme={currentTheme}>\r\n          <SearchIcon />\r\n        </SearchButton>\r\n      </SearchForm>\r\n      \r\n      {showEngineDropdown && (\r\n        <EngineDropdown show={showEngineDropdown} ref={dropdownRef} theme={currentTheme}>\r\n          <EngineGrid>\r\n            <EngineOption\r\n              onClick={() => changeEngine('bing')}\r\n              active={engine === 'bing'}\r\n              theme={currentTheme}\r\n            >\r\n              必应\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('google')}\r\n              active={engine === 'google'}\r\n              theme={currentTheme}\r\n            >\r\n              谷歌\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('baidu')}\r\n              active={engine === 'baidu'}\r\n              theme={currentTheme}\r\n            >\r\n              百度\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('sogou')}\r\n              active={engine === 'sogou'}\r\n              theme={currentTheme}\r\n            >\r\n              搜狗\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('mita')}\r\n              active={engine === 'mita'}\r\n              theme={currentTheme}\r\n            >\r\n              秘塔AI\r\n            </EngineOption>\r\n            \r\n            {Array.isArray(customEngines) && customEngines.map(customEngine => (\r\n              customEngine && customEngine.id ? (\r\n                <EngineOption\r\n                  key={customEngine.id}\r\n                  onClick={() => changeEngine(customEngine.id)}\r\n                  active={engine === customEngine.id}\r\n                  theme={currentTheme}\r\n                >\r\n                  {customEngine.name || '未命名'}\r\n                </EngineOption>\r\n              ) : null\r\n            ))}\r\n          </EngineGrid>\r\n          \r\n          <CustomEngineForm theme={currentTheme}>\r\n            <FormRow>\r\n              <Label theme={currentTheme}>名称:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineName}\r\n                onChange={(e) => setCustomEngineName(e.target.value)}\r\n                placeholder=\"自定义引擎名称\"\r\n                theme={currentTheme}\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <Label theme={currentTheme}>URL:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineUrl}\r\n                onChange={(e) => setCustomEngineUrl(e.target.value)}\r\n                placeholder=\"https://example.com/search?q={query}\"\r\n                theme={currentTheme}\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <SwitchContainer>\r\n                <SwitchLabel theme={currentTheme}>URL清理</SwitchLabel>\r\n                <Switch>\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    checked={autoClean} \r\n                    onChange={toggleAutoClean}\r\n                  />\r\n                  <Slider2 theme={currentTheme} />\r\n                </Switch>\r\n              </SwitchContainer>\r\n              <AddButton onClick={addCustomEngine}>添加自定义引擎</AddButton>\r\n            </FormRow>\r\n          </CustomEngineForm>\r\n          \r\n          {Array.isArray(customEngines) && customEngines.length > 0 && (\r\n            <CustomEngineList theme={currentTheme}>\r\n              <DragDropContext onDragEnd={handleDragEnd}>\r\n                <Droppable droppableId=\"custom-engines\">\r\n                  {(provided) => {\r\n                    if (!provided || !provided.innerRef) {\r\n                      return (\r\n                        <div>\r\n                          {customEngines.map((customEngine, index) => {\r\n                            if (!customEngine || !customEngine.id) return null;\r\n                            return (\r\n                              <CustomEngineItem key={customEngine.id} theme={currentTheme}>\r\n                                <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                  {customEngine.name || '未命名'}\r\n                                </EngineName>\r\n                                <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                              </CustomEngineItem>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    \r\n                    return (\r\n                      <div\r\n                        {...(provided.droppableProps || {})}\r\n                        ref={provided.innerRef}\r\n                      >\r\n                      {customEngines.map((customEngine, index) => {\r\n                        if (!customEngine || !customEngine.id) return null;\r\n                        \r\n                        if (editingEngine === customEngine.id) {\r\n                          return (\r\n                            <EditForm key={customEngine.id} theme={currentTheme}>\r\n                              <FormRow>\r\n                                <Label theme={currentTheme}>名称:</Label>\r\n                                <Input \r\n                                  type=\"text\" \r\n                                  value={editName}\r\n                                  onChange={(e) => setEditName(e.target.value)}\r\n                                  theme={currentTheme}\r\n                                />\r\n                              </FormRow>\r\n                              <FormRow>\r\n                                <Label theme={currentTheme}>URL:</Label>\r\n                                <Input \r\n                                  type=\"text\" \r\n                                  value={editUrl}\r\n                                  onChange={(e) => setEditUrl(e.target.value)}\r\n                                  theme={currentTheme}\r\n                                />\r\n                              </FormRow>\r\n                              <EditFormButtons>\r\n                                <EditFormButton onClick={cancelEditEngine} theme={currentTheme}>\r\n                                  <CloseIcon fontSize=\"small\" /> 取消\r\n                                </EditFormButton>\r\n                                <EditFormButton primary onClick={saveEditEngine} theme={currentTheme}>\r\n                                  <CheckIcon fontSize=\"small\" /> 保存\r\n                                </EditFormButton>\r\n                              </EditFormButtons>\r\n                            </EditForm>\r\n                          );\r\n                        }\r\n                        \r\n                        return (\r\n                          <Draggable \r\n                            key={customEngine.id} \r\n                            draggableId={customEngine.id} \r\n                            index={index}\r\n                          >\r\n                            {(provided, snapshot) => {\r\n                              if (!provided || !provided.innerRef) {\r\n                                return (\r\n                                  <CustomEngineItem theme={currentTheme}>\r\n                                    <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                      {customEngine.name || '未命名'}\r\n                                    </EngineName>\r\n                                    <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                                  </CustomEngineItem>\r\n                                );\r\n                              }\r\n                              \r\n                              return (\r\n                                <div\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                  style={provided.draggableProps?.style || {}}\r\n                                >\r\n                                  <CustomEngineItem\r\n                                    isDragging={snapshot?.isDragging || false}\r\n                                    theme={currentTheme}\r\n                                  >\r\n                                    <DragHandle {...(provided.dragHandleProps || {})} theme={currentTheme}>\r\n                                      <DragIndicatorIcon />\r\n                                    </DragHandle>\r\n                                    <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                      {customEngine.name || '未命名'}\r\n                                    </EngineName>\r\n                                    <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                                    <ActionButtons>\r\n                                      <TestButton \r\n                                        onClick={() => testEngine(customEngine.url)}\r\n                                        title=\"测试搜索引擎\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        测试\r\n                                      </TestButton>\r\n                                      <ActionButton \r\n                                        onClick={() => startEditEngine(customEngine)}\r\n                                        title=\"编辑\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        <EditIcon fontSize=\"small\" />\r\n                                      </ActionButton>\r\n                                      <ActionButton \r\n                                        onClick={() => deleteEngine(customEngine.id)}\r\n                                        title=\"删除\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        <DeleteIcon fontSize=\"small\" />\r\n                                      </ActionButton>\r\n                                    </ActionButtons>\r\n                                  </CustomEngineItem>\r\n                                </div>\r\n                              );\r\n                            }}\r\n                          </Draggable>\r\n                        );\r\n                      })}\r\n                      {provided.placeholder}\r\n                    </div>\r\n                  );\r\n                }}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </CustomEngineList>\r\n          )}\r\n        </EngineDropdown>\r\n      )}\r\n    </SearchContainer>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}