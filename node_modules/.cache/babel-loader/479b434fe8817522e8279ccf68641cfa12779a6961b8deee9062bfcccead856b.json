{"ast":null,"code":"/**\r\n * 简化的配置管理器 - 使用localStorage和config.json的混合方案\r\n */// 默认配置\nconst DEFAULT_CONFIG={version:\"1.0.0\",lastUpdated:new Date().toISOString(),settings:{theme:'light',backgroundType:'color',backgroundColor:'#ffffff',backgroundImage:'',backgroundOpacity:1,backgroundBrightness:1,backgroundBlur:0,backgroundFit:'cover',textColor:'#000000',linkColor:'#4a90e2',fontFamily:'Arial, sans-serif',gradientType:'linear',gradientDirection:'to right',gradientColors:['#4a90e2','#9b59b6'],gradientStops:[0,100],showBackground:true,startupModuleType:'last',startupModule:'quote'},data:{lastActiveModule:'quote',bookmarks:[],todos:[],notes:[],calendar:{events:[],countdowns:[]}}};class SimpleConfigManager{constructor(){this.config=null;this.isInitialized=false;this.isLoading=false;this.loadPromise=null;this.saveQueue=[];this.autoSaveTimer=null;}/**\r\n   * 初始化配置管理器\r\n   */async initialize(){if(this.isInitialized)return this.config;if(this.isLoading)return this.loadPromise;this.isLoading=true;this.loadPromise=this._doInitialize();try{await this.loadPromise;this.startAutoSave();return this.config;}finally{this.isLoading=false;}}async _doInitialize(){try{// 尝试从localStorage加载现有配置\nconst savedConfig=this.getFromLocalStorage('homepage-config',null);if(savedConfig){this.config=this.mergeWithDefaults(savedConfig);}else{// 迁移旧数据\nawait this.migrateFromOldStorage();}this.isInitialized=true;console.log('简化配置管理器初始化成功');}catch(error){console.error('配置管理器初始化失败:',error);this.config={...DEFAULT_CONFIG};this.isInitialized=true;}}/**\r\n   * 从旧存储迁移数据\r\n   */async migrateFromOldStorage(){const migratedConfig={...DEFAULT_CONFIG};// 迁移设置\nconst oldSettings=this.getFromLocalStorage('homepage-settings',{});if(Object.keys(oldSettings).length>0){migratedConfig.settings={...migratedConfig.settings,...oldSettings};}// 迁移数据\nmigratedConfig.data.lastActiveModule=this.getFromLocalStorage('last-active-module','quote');migratedConfig.data.bookmarks=this.getFromLocalStorage('homepage-bookmarks',[]);migratedConfig.data.todos=this.getFromLocalStorage('homepage-todos',[]);migratedConfig.data.notes=this.getFromLocalStorage('homepage-notes',[]);const calendarData=this.getFromLocalStorage('homepage-calendar',{});if(calendarData.events)migratedConfig.data.calendar.events=calendarData.events;if(calendarData.countdowns)migratedConfig.data.calendar.countdowns=calendarData.countdowns;this.config=migratedConfig;await this.saveConfig();console.log('数据迁移完成');}/**\r\n   * 合并配置与默认值\r\n   */mergeWithDefaults(config){const merged=JSON.parse(JSON.stringify(DEFAULT_CONFIG));const deepMerge=(target,source)=>{for(const key in source){if(source[key]&&typeof source[key]==='object'&&!Array.isArray(source[key])){if(!target[key])target[key]={};deepMerge(target[key],source[key]);}else{target[key]=source[key];}}};deepMerge(merged,config);merged.lastUpdated=new Date().toISOString();return merged;}/**\r\n   * 保存配置\r\n   */async saveConfig(){if(!this.config)return;try{this.config.lastUpdated=new Date().toISOString();// 保存到localStorage\nthis.saveToLocalStorage('homepage-config',this.config);console.log('配置保存成功');}catch(error){console.error('保存配置失败:',error);}}/**\r\n   * 获取配置值\r\n   */get(path){let defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!this.config)return defaultValue;const keys=path.split('.');let current=this.config;for(const key of keys){if(current&&typeof current==='object'&&key in current){current=current[key];}else{return defaultValue;}}return current;}/**\r\n   * 设置配置值\r\n   */async set(path,value){if(!this.config)await this.initialize();const keys=path.split('.');let current=this.config;// 导航到父级对象\nfor(let i=0;i<keys.length-1;i++){const key=keys[i];if(!current[key]||typeof current[key]!=='object'){current[key]={};}current=current[key];}// 设置值\nconst lastKey=keys[keys.length-1];current[lastKey]=value;// 队列保存，避免频繁保存\nthis.queueSave();}/**\r\n   * 队列保存（防抖）\r\n   */queueSave(){if(this.saveQueue.length===0){setTimeout(async()=>{if(this.saveQueue.length>0){await this.saveConfig();this.saveQueue=[];}},500);// 500ms 防抖\n}this.saveQueue.push(Date.now());}/**\r\n   * 启动自动保存\r\n   */startAutoSave(){if(this.autoSaveTimer)return;this.autoSaveTimer=setInterval(async()=>{if(this.saveQueue.length>0){await this.saveConfig();this.saveQueue=[];}},5000);// 每5秒检查一次\n}/**\r\n   * 停止自动保存\r\n   */stopAutoSave(){if(this.autoSaveTimer){clearInterval(this.autoSaveTimer);this.autoSaveTimer=null;}}/**\r\n   * 导出配置为config.json\r\n   */exportConfig(){if(!this.config)return null;const configJson=JSON.stringify(this.config,null,2);const blob=new Blob([configJson],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='config.json';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);return configJson;}/**\r\n   * 导入配置\r\n   */async importConfig(file){try{const text=await file.text();const importedConfig=JSON.parse(text);// 验证配置格式\nif(!this.validateConfig(importedConfig)){throw new Error('配置文件格式无效');}this.config=this.mergeWithDefaults(importedConfig);await this.saveConfig();return true;}catch(error){console.error('导入配置失败:',error);throw error;}}/**\r\n   * 验证配置格式\r\n   */validateConfig(config){return config&&typeof config==='object'&&config.settings&&config.data;}/**\r\n   * 强制保存配置\r\n   */async forceSave(){await this.saveConfig();console.log('配置强制保存完成');}/**\r\n   * 重置配置\r\n   */async resetConfig(){this.config={...DEFAULT_CONFIG};await this.saveConfig();console.log('配置已重置为默认值');}/**\r\n   * 获取配置统计信息\r\n   */getStats(){var _this$config$data$boo,_this$config$data$tod,_this$config$data$not,_this$config$data$cal,_this$config$data$cal2,_this$config$data$cal3,_this$config$data$cal4;if(!this.config)return null;return{version:this.config.version,lastUpdated:this.config.lastUpdated,dataSize:JSON.stringify(this.config).length,bookmarksCount:((_this$config$data$boo=this.config.data.bookmarks)===null||_this$config$data$boo===void 0?void 0:_this$config$data$boo.length)||0,todosCount:((_this$config$data$tod=this.config.data.todos)===null||_this$config$data$tod===void 0?void 0:_this$config$data$tod.length)||0,notesCount:((_this$config$data$not=this.config.data.notes)===null||_this$config$data$not===void 0?void 0:_this$config$data$not.length)||0,eventsCount:((_this$config$data$cal=this.config.data.calendar)===null||_this$config$data$cal===void 0?void 0:(_this$config$data$cal2=_this$config$data$cal.events)===null||_this$config$data$cal2===void 0?void 0:_this$config$data$cal2.length)||0,countdownsCount:((_this$config$data$cal3=this.config.data.calendar)===null||_this$config$data$cal3===void 0?void 0:(_this$config$data$cal4=_this$config$data$cal3.countdowns)===null||_this$config$data$cal4===void 0?void 0:_this$config$data$cal4.length)||0};}// 辅助方法\ngetFromLocalStorage(key,defaultValue){try{const item=localStorage.getItem(key);return item?JSON.parse(item):defaultValue;}catch{return defaultValue;}}saveToLocalStorage(key,value){try{localStorage.setItem(key,JSON.stringify(value));}catch(error){console.error('localStorage保存失败:',error);}}}// 创建全局实例\nconst simpleConfigManager=new SimpleConfigManager();export default simpleConfigManager;export{DEFAULT_CONFIG};","map":{"version":3,"names":["DEFAULT_CONFIG","version","lastUpdated","Date","toISOString","settings","theme","backgroundType","backgroundColor","backgroundImage","backgroundOpacity","backgroundBrightness","backgroundBlur","backgroundFit","textColor","linkColor","fontFamily","gradientType","gradientDirection","gradientColors","gradientStops","showBackground","startupModuleType","startupModule","data","lastActiveModule","bookmarks","todos","notes","calendar","events","countdowns","SimpleConfigManager","constructor","config","isInitialized","isLoading","loadPromise","saveQueue","autoSaveTimer","initialize","_doInitialize","startAutoSave","savedConfig","getFromLocalStorage","mergeWithDefaults","migrateFromOldStorage","console","log","error","migratedConfig","oldSettings","Object","keys","length","calendarData","saveConfig","merged","JSON","parse","stringify","deepMerge","target","source","key","Array","isArray","saveToLocalStorage","get","path","defaultValue","arguments","undefined","split","current","set","value","i","lastKey","queueSave","setTimeout","push","now","setInterval","stopAutoSave","clearInterval","exportConfig","configJson","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","importConfig","file","text","importedConfig","validateConfig","Error","forceSave","resetConfig","getStats","_this$config$data$boo","_this$config$data$tod","_this$config$data$not","_this$config$data$cal","_this$config$data$cal2","_this$config$data$cal3","_this$config$data$cal4","dataSize","bookmarksCount","todosCount","notesCount","eventsCount","countdownsCount","item","localStorage","getItem","setItem","simpleConfigManager"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/utils/simpleConfigManager.js"],"sourcesContent":["/**\r\n * 简化的配置管理器 - 使用localStorage和config.json的混合方案\r\n */\r\n\r\n// 默认配置\r\nconst DEFAULT_CONFIG = {\r\n  version: \"1.0.0\",\r\n  lastUpdated: new Date().toISOString(),\r\n  settings: {\r\n    theme: 'light',\r\n    backgroundType: 'color',\r\n    backgroundColor: '#ffffff',\r\n    backgroundImage: '',\r\n    backgroundOpacity: 1,\r\n    backgroundBrightness: 1,\r\n    backgroundBlur: 0,\r\n    backgroundFit: 'cover',\r\n    textColor: '#000000',\r\n    linkColor: '#4a90e2',\r\n    fontFamily: 'Arial, sans-serif',\r\n    gradientType: 'linear',\r\n    gradientDirection: 'to right',\r\n    gradientColors: ['#4a90e2', '#9b59b6'],\r\n    gradientStops: [0, 100],\r\n    showBackground: true,\r\n    startupModuleType: 'last',\r\n    startupModule: 'quote'\r\n  },\r\n  data: {\r\n    lastActiveModule: 'quote',\r\n    bookmarks: [],\r\n    todos: [],\r\n    notes: [],\r\n    calendar: {\r\n      events: [],\r\n      countdowns: []\r\n    }\r\n  }\r\n};\r\n\r\nclass SimpleConfigManager {\r\n  constructor() {\r\n    this.config = null;\r\n    this.isInitialized = false;\r\n    this.isLoading = false;\r\n    this.loadPromise = null;\r\n    this.saveQueue = [];\r\n    this.autoSaveTimer = null;\r\n  }\r\n\r\n  /**\r\n   * 初始化配置管理器\r\n   */\r\n  async initialize() {\r\n    if (this.isInitialized) return this.config;\r\n    if (this.isLoading) return this.loadPromise;\r\n\r\n    this.isLoading = true;\r\n    this.loadPromise = this._doInitialize();\r\n    \r\n    try {\r\n      await this.loadPromise;\r\n      this.startAutoSave();\r\n      return this.config;\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  async _doInitialize() {\r\n    try {\r\n      // 尝试从localStorage加载现有配置\r\n      const savedConfig = this.getFromLocalStorage('homepage-config', null);\r\n      \r\n      if (savedConfig) {\r\n        this.config = this.mergeWithDefaults(savedConfig);\r\n      } else {\r\n        // 迁移旧数据\r\n        await this.migrateFromOldStorage();\r\n      }\r\n      \r\n      this.isInitialized = true;\r\n      console.log('简化配置管理器初始化成功');\r\n    } catch (error) {\r\n      console.error('配置管理器初始化失败:', error);\r\n      this.config = { ...DEFAULT_CONFIG };\r\n      this.isInitialized = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 从旧存储迁移数据\r\n   */\r\n  async migrateFromOldStorage() {\r\n    const migratedConfig = { ...DEFAULT_CONFIG };\r\n    \r\n    // 迁移设置\r\n    const oldSettings = this.getFromLocalStorage('homepage-settings', {});\r\n    if (Object.keys(oldSettings).length > 0) {\r\n      migratedConfig.settings = { ...migratedConfig.settings, ...oldSettings };\r\n    }\r\n\r\n    // 迁移数据\r\n    migratedConfig.data.lastActiveModule = this.getFromLocalStorage('last-active-module', 'quote');\r\n    migratedConfig.data.bookmarks = this.getFromLocalStorage('homepage-bookmarks', []);\r\n    migratedConfig.data.todos = this.getFromLocalStorage('homepage-todos', []);\r\n    migratedConfig.data.notes = this.getFromLocalStorage('homepage-notes', []);\r\n    \r\n    const calendarData = this.getFromLocalStorage('homepage-calendar', {});\r\n    if (calendarData.events) migratedConfig.data.calendar.events = calendarData.events;\r\n    if (calendarData.countdowns) migratedConfig.data.calendar.countdowns = calendarData.countdowns;\r\n\r\n    this.config = migratedConfig;\r\n    await this.saveConfig();\r\n    \r\n    console.log('数据迁移完成');\r\n  }\r\n\r\n  /**\r\n   * 合并配置与默认值\r\n   */\r\n  mergeWithDefaults(config) {\r\n    const merged = JSON.parse(JSON.stringify(DEFAULT_CONFIG));\r\n    \r\n    const deepMerge = (target, source) => {\r\n      for (const key in source) {\r\n        if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {\r\n          if (!target[key]) target[key] = {};\r\n          deepMerge(target[key], source[key]);\r\n        } else {\r\n          target[key] = source[key];\r\n        }\r\n      }\r\n    };\r\n\r\n    deepMerge(merged, config);\r\n    merged.lastUpdated = new Date().toISOString();\r\n    \r\n    return merged;\r\n  }\r\n\r\n  /**\r\n   * 保存配置\r\n   */\r\n  async saveConfig() {\r\n    if (!this.config) return;\r\n\r\n    try {\r\n      this.config.lastUpdated = new Date().toISOString();\r\n      \r\n      // 保存到localStorage\r\n      this.saveToLocalStorage('homepage-config', this.config);\r\n      \r\n      console.log('配置保存成功');\r\n    } catch (error) {\r\n      console.error('保存配置失败:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取配置值\r\n   */\r\n  get(path, defaultValue = null) {\r\n    if (!this.config) return defaultValue;\r\n    \r\n    const keys = path.split('.');\r\n    let current = this.config;\r\n    \r\n    for (const key of keys) {\r\n      if (current && typeof current === 'object' && key in current) {\r\n        current = current[key];\r\n      } else {\r\n        return defaultValue;\r\n      }\r\n    }\r\n    \r\n    return current;\r\n  }\r\n\r\n  /**\r\n   * 设置配置值\r\n   */\r\n  async set(path, value) {\r\n    if (!this.config) await this.initialize();\r\n    \r\n    const keys = path.split('.');\r\n    let current = this.config;\r\n    \r\n    // 导航到父级对象\r\n    for (let i = 0; i < keys.length - 1; i++) {\r\n      const key = keys[i];\r\n      if (!current[key] || typeof current[key] !== 'object') {\r\n        current[key] = {};\r\n      }\r\n      current = current[key];\r\n    }\r\n    \r\n    // 设置值\r\n    const lastKey = keys[keys.length - 1];\r\n    current[lastKey] = value;\r\n    \r\n    // 队列保存，避免频繁保存\r\n    this.queueSave();\r\n  }\r\n\r\n  /**\r\n   * 队列保存（防抖）\r\n   */\r\n  queueSave() {\r\n    if (this.saveQueue.length === 0) {\r\n      setTimeout(async () => {\r\n        if (this.saveQueue.length > 0) {\r\n          await this.saveConfig();\r\n          this.saveQueue = [];\r\n        }\r\n      }, 500); // 500ms 防抖\r\n    }\r\n    this.saveQueue.push(Date.now());\r\n  }\r\n\r\n  /**\r\n   * 启动自动保存\r\n   */\r\n  startAutoSave() {\r\n    if (this.autoSaveTimer) return;\r\n    \r\n    this.autoSaveTimer = setInterval(async () => {\r\n      if (this.saveQueue.length > 0) {\r\n        await this.saveConfig();\r\n        this.saveQueue = [];\r\n      }\r\n    }, 5000); // 每5秒检查一次\r\n  }\r\n\r\n  /**\r\n   * 停止自动保存\r\n   */\r\n  stopAutoSave() {\r\n    if (this.autoSaveTimer) {\r\n      clearInterval(this.autoSaveTimer);\r\n      this.autoSaveTimer = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 导出配置为config.json\r\n   */\r\n  exportConfig() {\r\n    if (!this.config) return null;\r\n    \r\n    const configJson = JSON.stringify(this.config, null, 2);\r\n    const blob = new Blob([configJson], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'config.json';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n    \r\n    return configJson;\r\n  }\r\n\r\n  /**\r\n   * 导入配置\r\n   */\r\n  async importConfig(file) {\r\n    try {\r\n      const text = await file.text();\r\n      const importedConfig = JSON.parse(text);\r\n      \r\n      // 验证配置格式\r\n      if (!this.validateConfig(importedConfig)) {\r\n        throw new Error('配置文件格式无效');\r\n      }\r\n      \r\n      this.config = this.mergeWithDefaults(importedConfig);\r\n      await this.saveConfig();\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('导入配置失败:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 验证配置格式\r\n   */\r\n  validateConfig(config) {\r\n    return config && \r\n           typeof config === 'object' && \r\n           config.settings && \r\n           config.data;\r\n  }\r\n\r\n  /**\r\n   * 强制保存配置\r\n   */\r\n  async forceSave() {\r\n    await this.saveConfig();\r\n    console.log('配置强制保存完成');\r\n  }\r\n\r\n  /**\r\n   * 重置配置\r\n   */\r\n  async resetConfig() {\r\n    this.config = { ...DEFAULT_CONFIG };\r\n    await this.saveConfig();\r\n    console.log('配置已重置为默认值');\r\n  }\r\n\r\n  /**\r\n   * 获取配置统计信息\r\n   */\r\n  getStats() {\r\n    if (!this.config) return null;\r\n    \r\n    return {\r\n      version: this.config.version,\r\n      lastUpdated: this.config.lastUpdated,\r\n      dataSize: JSON.stringify(this.config).length,\r\n      bookmarksCount: this.config.data.bookmarks?.length || 0,\r\n      todosCount: this.config.data.todos?.length || 0,\r\n      notesCount: this.config.data.notes?.length || 0,\r\n      eventsCount: this.config.data.calendar?.events?.length || 0,\r\n      countdownsCount: this.config.data.calendar?.countdowns?.length || 0\r\n    };\r\n  }\r\n\r\n  // 辅助方法\r\n  getFromLocalStorage(key, defaultValue) {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : defaultValue;\r\n    } catch {\r\n      return defaultValue;\r\n    }\r\n  }\r\n\r\n  saveToLocalStorage(key, value) {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n    } catch (error) {\r\n      console.error('localStorage保存失败:', error);\r\n    }\r\n  }\r\n}\r\n\r\n// 创建全局实例\r\nconst simpleConfigManager = new SimpleConfigManager();\r\n\r\nexport default simpleConfigManager;\r\nexport { DEFAULT_CONFIG };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}