{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\n\n// 组件导入\nimport Header from './components/Header/Header';\nimport Search from './components/Search/Search';\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\nimport SettingsPanel from './settings/SettingsPanel';\nimport Loading from './components/Loading/Loading';\n\n// 模块导入\nimport Calendar from './modules/Calendar/Calendar';\nimport Bookmark from './modules/Bookmark/Bookmark';\nimport Todo from './modules/Todo/Todo';\nimport Note from './modules/Note/Note';\nimport Quote from './modules/Quote/Quote';\nimport News from './modules/News/News';\n\n// 模式导入\nimport ZenMode from './modes/ZenMode/ZenMode';\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\n\n// 上下文导入\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport { SettingsProvider, SettingsContext } from './contexts/SettingsContext';\n\n// 工具函数导入\nimport { getFromStorage, saveToStorage } from './utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  transition: background-color var(--transition-speed), color var(--transition-speed);\n  position: relative;\n  overflow: hidden;\n`;\n_c = AppContainer;\nconst BackgroundLayer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 0;\n  background-image: ${props => props.backgroundImage ? `url(${props.backgroundImage})` : 'none'};\n  background-color: ${props => props.backgroundColor || 'transparent'};\n  background-size: ${props => props.backgroundSize || 'cover'};\n  background-position: center;\n  background-repeat: ${props => props.backgroundRepeat || 'no-repeat'};\n  opacity: ${props => props.opacity || 1};\n  filter: brightness(${props => props.brightness || 1});\n`;\n_c2 = BackgroundLayer;\nconst BlurLayer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  backdrop-filter: blur(${props => props.blurAmount || 0}px);\n  background-color: rgba(0, 0, 0, ${props => props.overlayOpacity || 0});\n`;\n_c3 = BlurLayer;\nconst ContentLayer = styled.div`\n  position: relative;\n  z-index: 2;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n`;\n_c4 = ContentLayer;\nconst MainContent = styled.main`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 20px 0;\n`;\n_c5 = MainContent;\nconst ModuleContainer = styled.div`\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n_c6 = ModuleContainer;\nconst BottomControls = styled.div`\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  display: flex;\n  gap: 10px;\n  z-index: 100;\n`;\n_c7 = BottomControls;\nconst ModeButton = styled.button`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--primary-color);\n  color: white;\n  border: 1px solid var(--border-color);\n  cursor: pointer;\n  box-shadow: 0 2px 10px var(--shadow-color);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px var(--shadow-color);\n  }\n  \n  svg {\n    font-size: 20px;\n  }\n`;\n_c8 = ModeButton;\nconst ErrorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  font-size: 18px;\n  color: var(--text-color);\n  background-color: var(--background-color);\n  padding: 20px;\n  text-align: center;\n`;\n_c9 = ErrorContainer;\nconst ErrorTitle = styled.h2`\n  color: var(--error-color, #f44336);\n  margin-bottom: 16px;\n`;\n_c0 = ErrorTitle;\nconst ErrorMessage = styled.p`\n  color: var(--text-secondary-color);\n  margin-bottom: 20px;\n  max-width: 500px;\n  line-height: 1.5;\n`;\n_c1 = ErrorMessage;\nconst RetryButton = styled.button`\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 10px 20px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: #3a7bc8;\n    transform: translateY(-1px);\n  }\n`;\n_c10 = RetryButton;\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n      children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n\n// 将主要内容移到单独的组件中，这样可以使用 SettingsContext\n_c11 = App;\nconst AppContent = () => {\n  _s();\n  // 状态\n  const [activeModule, setActiveModule] = useState('quote'); // 默认为\"一语\"模块\n  const [showSettings, setShowSettings] = useState(false);\n  const [currentMode, setCurrentMode] = useState('normal'); // normal, zen, curtain\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [error, setError] = useState(null);\n\n  // 从 SettingsContext 获取设置\n  const {\n    settings,\n    isLoaded\n  } = useContext(SettingsContext);\n\n  // 初始化活动模块\n  useEffect(() => {\n    if (isLoaded && !isInitialized) {\n      try {\n        // 检查是否有启动模块设置\n        if (settings && settings.startupModule) {\n          if (settings.startupModule.type === 'specific') {\n            // 使用指定的模块\n            setActiveModule(settings.startupModule.module || 'quote');\n          } else if (settings.startupModule.type === 'last') {\n            // 使用上次的模块或默认为\"一语\"模块\n            const lastModule = getFromStorage('homepage-active-module', 'quote');\n            setActiveModule(lastModule);\n          }\n        } else {\n          // 默认使用\"一语\"模块\n          setActiveModule('quote');\n        }\n        setIsInitialized(true);\n        setError(null); // 清除任何之前的错误\n      } catch (error) {\n        // 如果出现任何错误，默认使用\"一语\"模块\n        console.error('初始化模块时出错:', error);\n        setActiveModule('quote');\n        setIsInitialized(true);\n        setError('初始化应用程序时出现问题，已使用默认设置。');\n      }\n    }\n  }, [isLoaded, settings, isInitialized]);\n\n  // 初始化主题\n  useEffect(() => {\n    if (settings && settings.theme) {\n      document.documentElement.setAttribute('data-theme', settings.theme);\n      // 添加额外的深色模式适配\n      if (settings.theme === 'dark') {\n        document.body.classList.add('dark-mode');\n      } else {\n        document.body.classList.remove('dark-mode');\n      }\n    }\n  }, [settings]);\n\n  // 处理模块切换\n  const handleModuleChange = moduleId => {\n    setActiveModule(moduleId);\n    // 保存当前活动模块，以便下次启动时可以继承\n    try {\n      saveToStorage('homepage-active-module', moduleId);\n    } catch (error) {\n      console.error('保存活动模块时出错:', error);\n    }\n  };\n\n  // 渲染当前模块\n  const renderActiveModule = () => {\n    try {\n      switch (activeModule) {\n        case 'calendar':\n          return /*#__PURE__*/_jsxDEV(Calendar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 18\n          }, this);\n        case 'bookmark':\n          return /*#__PURE__*/_jsxDEV(Bookmark, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 18\n          }, this);\n        case 'todo':\n          return /*#__PURE__*/_jsxDEV(Todo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 18\n          }, this);\n        case 'note':\n          return /*#__PURE__*/_jsxDEV(Note, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 18\n          }, this);\n        case 'quote':\n          return /*#__PURE__*/_jsxDEV(Quote, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 18\n          }, this);\n        case 'news':\n          return /*#__PURE__*/_jsxDEV(News, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 18\n          }, this);\n        default:\n          return /*#__PURE__*/_jsxDEV(Quote, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 18\n          }, this);\n        // 默认显示\"一语\"模块\n      }\n    } catch (error) {\n      console.error('渲染模块时出错:', error);\n      return /*#__PURE__*/_jsxDEV(Quote, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 14\n      }, this); // 出错时显示\"一语\"模块\n    }\n  };\n\n  // 重试函数\n  const handleRetry = () => {\n    setError(null);\n    setIsInitialized(false);\n    window.location.reload();\n  };\n\n  // 如果有严重错误，显示错误界面\n  if (error && !isInitialized) {\n    return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorTitle, {\n        children: \"\\u5E94\\u7528\\u7A0B\\u5E8F\\u542F\\u52A8\\u5931\\u8D25\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RetryButton, {\n        onClick: handleRetry,\n        children: \"\\u91CD\\u65B0\\u52A0\\u8F7D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 如果设置尚未加载，显示加载界面\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      text: \"\\u52A0\\u8F7D\\u4E2D...\",\n      subText: \"\\u6B63\\u5728\\u521D\\u59CB\\u5316\\u5E94\\u7528\\u7A0B\\u5E8F\\u8BBE\\u7F6E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 如果尚未初始化，显示加载界面\n  if (!isInitialized) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      text: \"\\u542F\\u52A8\\u4E2D...\",\n      subText: \"\\u6B63\\u5728\\u51C6\\u5907\\u7528\\u6237\\u754C\\u9762\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 渲染当前模式\n  const renderCurrentMode = () => {\n    try {\n      switch (currentMode) {\n        case 'zen':\n          return /*#__PURE__*/_jsxDEV(ZenMode, {\n            onBack: () => setCurrentMode('normal')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 18\n          }, this);\n        case 'curtain':\n          return /*#__PURE__*/_jsxDEV(CurtainMode, {\n            onBack: () => setCurrentMode('normal')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 18\n          }, this);\n        case 'normal':\n        default:\n          return /*#__PURE__*/_jsxDEV(AppContainer, {\n            children: [settings && settings.background && /*#__PURE__*/_jsxDEV(BackgroundLayer, {\n              backgroundImage: settings.background.type === 'image' ? settings.background.value : null,\n              backgroundColor: settings.background.type === 'color' ? settings.background.value : null,\n              backgroundSize: settings.background.size || 'cover',\n              backgroundRepeat: settings.background.repeat || 'no-repeat',\n              opacity: settings.background.opacity || 1,\n              brightness: settings.background.brightness || 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), settings && settings.background && /*#__PURE__*/_jsxDEV(BlurLayer, {\n              blurAmount: settings.background.blurAmount || 0,\n              overlayOpacity: settings.background.overlayOpacity || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ContentLayer, {\n              children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModuleSwitch, {\n                activeModule: activeModule,\n                onModuleChange: handleModuleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n                children: /*#__PURE__*/_jsxDEV(ModuleContainer, {\n                  children: renderActiveModule()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BottomControls, {\n              children: [/*#__PURE__*/_jsxDEV(ModeButton, {\n                onClick: () => setCurrentMode('zen'),\n                title: \"\\u7985\\u6A21\\u5F0F\",\n                children: \"\\u7985\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModeButton, {\n                onClick: () => setCurrentMode('curtain'),\n                title: \"\\u5E55\\u6A21\\u5F0F\",\n                children: \"\\u5E55\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ModeButton, {\n                onClick: () => setShowSettings(!showSettings),\n                title: \"\\u8BBE\\u7F6E\",\n                children: \"\\u8BBE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SettingsPanel, {\n              isOpen: showSettings,\n              onClose: () => setShowSettings(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this);\n      }\n    } catch (error) {\n      console.error('渲染模式时出错:', error);\n      setError('渲染界面时出现错误');\n      return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ErrorTitle, {\n          children: \"\\u754C\\u9762\\u6E32\\u67D3\\u5931\\u8D25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          children: \"\\u6E32\\u67D3\\u754C\\u9762\\u65F6\\u51FA\\u73B0\\u9519\\u8BEF\\uFF0C\\u8BF7\\u5C1D\\u8BD5\\u91CD\\u65B0\\u52A0\\u8F7D\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RetryButton, {\n          onClick: handleRetry,\n          children: \"\\u91CD\\u65B0\\u52A0\\u8F7D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return renderCurrentMode();\n};\n_s(AppContent, \"D+Xzkm8Ozhn49GBn05yUXm3kRG4=\");\n_c12 = AppContent;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"BackgroundLayer\");\n$RefreshReg$(_c3, \"BlurLayer\");\n$RefreshReg$(_c4, \"ContentLayer\");\n$RefreshReg$(_c5, \"MainContent\");\n$RefreshReg$(_c6, \"ModuleContainer\");\n$RefreshReg$(_c7, \"BottomControls\");\n$RefreshReg$(_c8, \"ModeButton\");\n$RefreshReg$(_c9, \"ErrorContainer\");\n$RefreshReg$(_c0, \"ErrorTitle\");\n$RefreshReg$(_c1, \"ErrorMessage\");\n$RefreshReg$(_c10, \"RetryButton\");\n$RefreshReg$(_c11, \"App\");\n$RefreshReg$(_c12, \"AppContent\");","map":{"version":3,"names":["React","useState","useEffect","useContext","styled","Header","Search","ModuleSwitch","SettingsPanel","Loading","Calendar","Bookmark","Todo","Note","Quote","News","ZenMode","CurtainMode","ThemeProvider","SettingsProvider","SettingsContext","getFromStorage","saveToStorage","jsxDEV","_jsxDEV","AppContainer","div","_c","BackgroundLayer","props","backgroundImage","backgroundColor","backgroundSize","backgroundRepeat","opacity","brightness","_c2","BlurLayer","blurAmount","overlayOpacity","_c3","ContentLayer","_c4","MainContent","main","_c5","ModuleContainer","_c6","BottomControls","_c7","ModeButton","button","_c8","ErrorContainer","_c9","ErrorTitle","h2","_c0","ErrorMessage","p","_c1","RetryButton","_c10","App","children","AppContent","fileName","_jsxFileName","lineNumber","columnNumber","_c11","_s","activeModule","setActiveModule","showSettings","setShowSettings","currentMode","setCurrentMode","isInitialized","setIsInitialized","error","setError","settings","isLoaded","startupModule","type","module","lastModule","console","theme","document","documentElement","setAttribute","body","classList","add","remove","handleModuleChange","moduleId","renderActiveModule","handleRetry","window","location","reload","onClick","text","subText","renderCurrentMode","onBack","background","value","size","repeat","onModuleChange","title","isOpen","onClose","_c12","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\n// 组件导入\r\nimport Header from './components/Header/Header';\r\nimport Search from './components/Search/Search';\r\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\r\nimport SettingsPanel from './settings/SettingsPanel';\r\nimport Loading from './components/Loading/Loading';\r\n\r\n// 模块导入\r\nimport Calendar from './modules/Calendar/Calendar';\r\nimport Bookmark from './modules/Bookmark/Bookmark';\r\nimport Todo from './modules/Todo/Todo';\r\nimport Note from './modules/Note/Note';\r\nimport Quote from './modules/Quote/Quote';\r\nimport News from './modules/News/News';\r\n\r\n// 模式导入\r\nimport ZenMode from './modes/ZenMode/ZenMode';\r\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\r\n\r\n// 上下文导入\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { SettingsProvider, SettingsContext } from './contexts/SettingsContext';\r\n\r\n// 工具函数导入\r\nimport { getFromStorage, saveToStorage } from './utils/storage';\r\n\r\nconst AppContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n  transition: background-color var(--transition-speed), color var(--transition-speed);\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst BackgroundLayer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 0;\r\n  background-image: ${props => props.backgroundImage ? `url(${props.backgroundImage})` : 'none'};\r\n  background-color: ${props => props.backgroundColor || 'transparent'};\r\n  background-size: ${props => props.backgroundSize || 'cover'};\r\n  background-position: center;\r\n  background-repeat: ${props => props.backgroundRepeat || 'no-repeat'};\r\n  opacity: ${props => props.opacity || 1};\r\n  filter: brightness(${props => props.brightness || 1});\r\n`;\r\n\r\nconst BlurLayer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 1;\r\n  backdrop-filter: blur(${props => props.blurAmount || 0}px);\r\n  background-color: rgba(0, 0, 0, ${props => props.overlayOpacity || 0});\r\n`;\r\n\r\nconst ContentLayer = styled.div`\r\n  position: relative;\r\n  z-index: 2;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n`;\r\n\r\nconst MainContent = styled.main`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding: 20px 0;\r\n`;\r\n\r\nconst ModuleContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst BottomControls = styled.div`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  display: flex;\r\n  gap: 10px;\r\n  z-index: 100;\r\n`;\r\n\r\nconst ModeButton = styled.button`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: 1px solid var(--border-color);\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 10px var(--shadow-color);\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 5px 15px var(--shadow-color);\r\n  }\r\n  \r\n  svg {\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst ErrorContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  font-size: 18px;\r\n  color: var(--text-color);\r\n  background-color: var(--background-color);\r\n  padding: 20px;\r\n  text-align: center;\r\n`;\r\n\r\nconst ErrorTitle = styled.h2`\r\n  color: var(--error-color, #f44336);\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  color: var(--text-secondary-color);\r\n  margin-bottom: 20px;\r\n  max-width: 500px;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst RetryButton = styled.button`\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: #3a7bc8;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst App = () => {\r\n  return (\r\n    <ThemeProvider>\r\n      <SettingsProvider>\r\n        <AppContent />\r\n      </SettingsProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\n// 将主要内容移到单独的组件中，这样可以使用 SettingsContext\r\nconst AppContent = () => {\r\n  // 状态\r\n  const [activeModule, setActiveModule] = useState('quote'); // 默认为\"一语\"模块\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [currentMode, setCurrentMode] = useState('normal'); // normal, zen, curtain\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // 从 SettingsContext 获取设置\r\n  const { settings, isLoaded } = useContext(SettingsContext);\r\n  \r\n  // 初始化活动模块\r\n  useEffect(() => {\r\n    if (isLoaded && !isInitialized) {\r\n      try {\r\n        // 检查是否有启动模块设置\r\n        if (settings && settings.startupModule) {\r\n          if (settings.startupModule.type === 'specific') {\r\n            // 使用指定的模块\r\n            setActiveModule(settings.startupModule.module || 'quote');\r\n          } else if (settings.startupModule.type === 'last') {\r\n            // 使用上次的模块或默认为\"一语\"模块\r\n            const lastModule = getFromStorage('homepage-active-module', 'quote');\r\n            setActiveModule(lastModule);\r\n          }\r\n        } else {\r\n          // 默认使用\"一语\"模块\r\n          setActiveModule('quote');\r\n        }\r\n        setIsInitialized(true);\r\n        setError(null); // 清除任何之前的错误\r\n      } catch (error) {\r\n        // 如果出现任何错误，默认使用\"一语\"模块\r\n        console.error('初始化模块时出错:', error);\r\n        setActiveModule('quote');\r\n        setIsInitialized(true);\r\n        setError('初始化应用程序时出现问题，已使用默认设置。');\r\n      }\r\n    }\r\n  }, [isLoaded, settings, isInitialized]);\r\n  \r\n  // 初始化主题\r\n  useEffect(() => {\r\n    if (settings && settings.theme) {\r\n      document.documentElement.setAttribute('data-theme', settings.theme);\r\n      // 添加额外的深色模式适配\r\n      if (settings.theme === 'dark') {\r\n        document.body.classList.add('dark-mode');\r\n      } else {\r\n        document.body.classList.remove('dark-mode');\r\n      }\r\n    }\r\n  }, [settings]);\r\n  \r\n  // 处理模块切换\r\n  const handleModuleChange = (moduleId) => {\r\n    setActiveModule(moduleId);\r\n    // 保存当前活动模块，以便下次启动时可以继承\r\n    try {\r\n      saveToStorage('homepage-active-module', moduleId);\r\n    } catch (error) {\r\n      console.error('保存活动模块时出错:', error);\r\n    }\r\n  };\r\n  \r\n  // 渲染当前模块\r\n  const renderActiveModule = () => {\r\n    try {\r\n      switch (activeModule) {\r\n        case 'calendar':\r\n          return <Calendar />;\r\n        case 'bookmark':\r\n          return <Bookmark />;\r\n        case 'todo':\r\n          return <Todo />;\r\n        case 'note':\r\n          return <Note />;\r\n        case 'quote':\r\n          return <Quote />;\r\n        case 'news':\r\n          return <News />;\r\n        default:\r\n          return <Quote />; // 默认显示\"一语\"模块\r\n      }\r\n    } catch (error) {\r\n      console.error('渲染模块时出错:', error);\r\n      return <Quote />; // 出错时显示\"一语\"模块\r\n    }\r\n  };\r\n  \r\n  // 重试函数\r\n  const handleRetry = () => {\r\n    setError(null);\r\n    setIsInitialized(false);\r\n    window.location.reload();\r\n  };\r\n\r\n  // 如果有严重错误，显示错误界面\r\n  if (error && !isInitialized) {\r\n    return (\r\n      <ErrorContainer>\r\n        <ErrorTitle>应用程序启动失败</ErrorTitle>\r\n        <ErrorMessage>{error}</ErrorMessage>\r\n        <RetryButton onClick={handleRetry}>重新加载</RetryButton>\r\n      </ErrorContainer>\r\n    );\r\n  }\r\n\r\n  // 如果设置尚未加载，显示加载界面\r\n  if (!isLoaded) {\r\n    return <Loading text=\"加载中...\" subText=\"正在初始化应用程序设置\" />;\r\n  }\r\n\r\n  // 如果尚未初始化，显示加载界面\r\n  if (!isInitialized) {\r\n    return <Loading text=\"启动中...\" subText=\"正在准备用户界面\" />;\r\n  }\r\n  \r\n  // 渲染当前模式\r\n  const renderCurrentMode = () => {\r\n    try {\r\n      switch (currentMode) {\r\n        case 'zen':\r\n          return <ZenMode onBack={() => setCurrentMode('normal')} />;\r\n        case 'curtain':\r\n          return <CurtainMode onBack={() => setCurrentMode('normal')} />;\r\n        case 'normal':\r\n        default:\r\n          return (\r\n            <AppContainer>\r\n              {/* 背景层 */}\r\n              {settings && settings.background && (\r\n                <BackgroundLayer \r\n                  backgroundImage={settings.background.type === 'image' ? settings.background.value : null}\r\n                  backgroundColor={settings.background.type === 'color' ? settings.background.value : null}\r\n                  backgroundSize={settings.background.size || 'cover'}\r\n                  backgroundRepeat={settings.background.repeat || 'no-repeat'}\r\n                  opacity={settings.background.opacity || 1}\r\n                  brightness={settings.background.brightness || 1}\r\n                />\r\n              )}\r\n              \r\n              {/* 模糊层 */}\r\n              {settings && settings.background && (\r\n                <BlurLayer \r\n                  blurAmount={settings.background.blurAmount || 0}\r\n                  overlayOpacity={settings.background.overlayOpacity || 0}\r\n                />\r\n              )}\r\n              \r\n              {/* 内容层 */}\r\n              <ContentLayer>\r\n                <Header />\r\n                <Search />\r\n                <ModuleSwitch \r\n                  activeModule={activeModule}\r\n                  onModuleChange={handleModuleChange}\r\n                />\r\n                \r\n                <MainContent>\r\n                  <ModuleContainer>\r\n                    {renderActiveModule()}\r\n                  </ModuleContainer>\r\n                </MainContent>\r\n              </ContentLayer>\r\n              \r\n              {/* 底部控制按钮 */}\r\n              <BottomControls>\r\n                <ModeButton \r\n                  onClick={() => setCurrentMode('zen')}\r\n                  title=\"禅模式\"\r\n                >\r\n                  禅\r\n                </ModeButton>\r\n                <ModeButton \r\n                  onClick={() => setCurrentMode('curtain')}\r\n                  title=\"幕模式\"\r\n                >\r\n                  幕\r\n                </ModeButton>\r\n                <ModeButton \r\n                  onClick={() => setShowSettings(!showSettings)}\r\n                  title=\"设置\"\r\n                >\r\n                  设\r\n                </ModeButton>\r\n              </BottomControls>\r\n              \r\n              {/* 设置面板 */}\r\n              <SettingsPanel \r\n                isOpen={showSettings}\r\n                onClose={() => setShowSettings(false)}\r\n              />\r\n            </AppContainer>\r\n          );\r\n      }\r\n    } catch (error) {\r\n      console.error('渲染模式时出错:', error);\r\n      setError('渲染界面时出现错误');\r\n      return (\r\n        <ErrorContainer>\r\n          <ErrorTitle>界面渲染失败</ErrorTitle>\r\n          <ErrorMessage>渲染界面时出现错误，请尝试重新加载。</ErrorMessage>\r\n          <RetryButton onClick={handleRetry}>重新加载</RetryButton>\r\n        </ErrorContainer>\r\n      );\r\n    }\r\n  };\r\n\r\n  return renderCurrentMode();\r\n};\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,OAAOC,MAAM,MAAM,mBAAmB;;AAEtC;AACA,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,YAAY,MAAM,wCAAwC;AACjE,OAAOC,aAAa,MAAM,0BAA0B;AACpD,OAAOC,OAAO,MAAM,8BAA8B;;AAElD;AACA,OAAOC,QAAQ,MAAM,6BAA6B;AAClD,OAAOC,QAAQ,MAAM,6BAA6B;AAClD,OAAOC,IAAI,MAAM,qBAAqB;AACtC,OAAOC,IAAI,MAAM,qBAAqB;AACtC,OAAOC,KAAK,MAAM,uBAAuB;AACzC,OAAOC,IAAI,MAAM,qBAAqB;;AAEtC;AACA,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,WAAW,MAAM,iCAAiC;;AAEzD;AACA,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAASC,gBAAgB,EAAEC,eAAe,QAAQ,4BAA4B;;AAE9E;AACA,SAASC,cAAc,EAAEC,aAAa,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,YAAY,GAAGrB,MAAM,CAACsB,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GATIF,YAAY;AAWlB,MAAMG,eAAe,GAAGxB,MAAM,CAACsB,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBG,KAAK,IAAIA,KAAK,CAACC,eAAe,GAAG,OAAOD,KAAK,CAACC,eAAe,GAAG,GAAG,MAAM;AAC/F,sBAAsBD,KAAK,IAAIA,KAAK,CAACE,eAAe,IAAI,aAAa;AACrE,qBAAqBF,KAAK,IAAIA,KAAK,CAACG,cAAc,IAAI,OAAO;AAC7D;AACA,uBAAuBH,KAAK,IAAIA,KAAK,CAACI,gBAAgB,IAAI,WAAW;AACrE,aAAaJ,KAAK,IAAIA,KAAK,CAACK,OAAO,IAAI,CAAC;AACxC,uBAAuBL,KAAK,IAAIA,KAAK,CAACM,UAAU,IAAI,CAAC;AACrD,CAAC;AAACC,GAAA,GAdIR,eAAe;AAgBrB,MAAMS,SAAS,GAAGjC,MAAM,CAACsB,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0BG,KAAK,IAAIA,KAAK,CAACS,UAAU,IAAI,CAAC;AACxD,oCAAoCT,KAAK,IAAIA,KAAK,CAACU,cAAc,IAAI,CAAC;AACtE,CAAC;AAACC,GAAA,GATIH,SAAS;AAWf,MAAMI,YAAY,GAAGrC,MAAM,CAACsB,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgB,GAAA,GAPID,YAAY;AASlB,MAAME,WAAW,GAAGvC,MAAM,CAACwC,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAPIF,WAAW;AASjB,MAAMG,eAAe,GAAG1C,MAAM,CAACsB,GAAG;AAClC;AACA;AACA;AACA,CAAC;AAACqB,GAAA,GAJID,eAAe;AAMrB,MAAME,cAAc,GAAG5C,MAAM,CAACsB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GAPID,cAAc;AASpB,MAAME,UAAU,GAAG9C,MAAM,CAAC+C,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAtBIF,UAAU;AAwBhB,MAAMG,cAAc,GAAGjD,MAAM,CAACsB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC4B,GAAA,GAXID,cAAc;AAapB,MAAME,UAAU,GAAGnD,MAAM,CAACoD,EAAE;AAC5B;AACA;AACA,CAAC;AAACC,GAAA,GAHIF,UAAU;AAKhB,MAAMG,YAAY,GAAGtD,MAAM,CAACuD,CAAC;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,YAAY;AAOlB,MAAMG,WAAW,GAAGzD,MAAM,CAAC+C,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}