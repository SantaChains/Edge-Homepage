{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { SettingsProvider } from './contexts/SettingsContext';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport { getFromStorage, saveToStorage } from './utils/storage';\n\n// 组件导入\nimport Header from './components/Header/Header';\nimport Search from './components/Search/Search';\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\nimport SettingsPanel from './settings/SettingsPanel';\nimport Loading from './components/Loading/Loading';\n\n// 模块导入\nimport Calendar from './modules/Calendar/Calendar';\nimport Bookmark from './modules/Bookmark/Bookmark';\nimport Todo from './modules/Todo/Todo';\nimport Note from './modules/Note/Note';\nimport Quote from './modules/Quote/Quote';\nimport News from './modules/News/News';\n\n// 模式导入\nimport ZenMode from './modes/ZenMode/ZenMode';\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: var(--background-color, #ffffff);\n  color: var(--text-color, #333333);\n  font-family: var(--font-family, 'Microsoft YaHei', sans-serif);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow-x: hidden;\n`;\n_c = AppContainer;\nconst MainContent = styled.main`\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n  min-height: calc(100vh - 80px);\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n_c2 = MainContent;\nconst ErrorContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: var(--background-color, #ffffff);\n  color: var(--text-color, #333333);\n  text-align: center;\n  padding: 20px;\n`;\n_c3 = ErrorContainer;\nconst ErrorContent = styled.div`\n  max-width: 500px;\n  \n  h2 {\n    color: #e74c3c;\n    margin-bottom: 15px;\n  }\n  \n  p {\n    margin-bottom: 20px;\n    line-height: 1.6;\n  }\n  \n  button {\n    background: var(--primary-color, #4a90e2);\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    \n    &:hover {\n      opacity: 0.9;\n    }\n  }\n`;\n\n// 模块映射\n_c4 = ErrorContent;\nconst moduleComponents = {\n  calendar: Calendar,\n  bookmark: Bookmark,\n  todo: Todo,\n  note: Note,\n  quote: Quote,\n  news: News\n};\nfunction App() {\n  _s();\n  const [currentModule, setCurrentModule] = useState('quote');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [currentMode, setCurrentMode] = useState('normal');\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // 错误边界处理\n  const handleError = useCallback((error, errorInfo) => {\n    console.error('应用错误:', error, errorInfo);\n    setError(error);\n  }, []);\n\n  // 应用完整设置\n  const applyFullSettings = useCallback(settings => {\n    try {\n      const root = document.documentElement;\n      const body = document.body;\n\n      // 设置页面标题\n      document.title = '時';\n\n      // 应用基础CSS变量\n      root.style.setProperty('--primary-color', settings.linkColor || '#4a90e2');\n      root.style.setProperty('--transition-speed', '0.3s');\n\n      // 应用主题\n      const theme = settings.theme || 'light';\n      if (theme === 'dark') {\n        root.style.setProperty('--background-color', '#121212');\n        root.style.setProperty('--card-background', '#1e1e1e');\n        root.style.setProperty('--border-color', '#333333');\n        root.style.setProperty('--text-color', settings.textColor || '#e0e0e0');\n        root.style.setProperty('--text-secondary-color', '#a0a0a0');\n        root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.2)');\n        body.classList.add('dark-mode');\n      } else {\n        root.style.setProperty('--background-color', '#ffffff');\n        root.style.setProperty('--card-background', '#f8f8f8');\n        root.style.setProperty('--border-color', '#e0e0e0');\n        root.style.setProperty('--text-color', settings.textColor || '#333333');\n        root.style.setProperty('--text-secondary-color', '#666666');\n        root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.1)');\n        body.classList.remove('dark-mode');\n      }\n\n      // 应用字体设置\n      if (settings.fontFamily) {\n        root.style.setProperty('--font-family', settings.fontFamily);\n      }\n\n      // 应用背景设置\n      body.style.background = '';\n      body.style.backgroundImage = '';\n      body.style.backgroundSize = '';\n      body.style.backgroundPosition = '';\n      body.style.backgroundRepeat = '';\n      body.style.backgroundAttachment = '';\n\n      // 创建背景容器或使用现有的\n      let backgroundContainer = document.getElementById('background-container');\n      if (!backgroundContainer) {\n        backgroundContainer = document.createElement('div');\n        backgroundContainer.id = 'background-container';\n        backgroundContainer.style.cssText = `\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: -1;\n          pointer-events: none;\n        `;\n        body.appendChild(backgroundContainer);\n      }\n\n      // 清除背景容器的样式\n      backgroundContainer.style.background = '';\n      backgroundContainer.style.backgroundImage = '';\n      backgroundContainer.style.backgroundSize = '';\n      backgroundContainer.style.backgroundPosition = '';\n      backgroundContainer.style.backgroundRepeat = '';\n      backgroundContainer.style.backgroundAttachment = '';\n      backgroundContainer.style.opacity = '';\n      backgroundContainer.style.filter = '';\n      if (settings.showBackground !== false) {\n        if (settings.backgroundType === 'color' && settings.backgroundColor) {\n          backgroundContainer.style.background = settings.backgroundColor;\n        } else if (settings.backgroundType === 'image' && settings.backgroundImage) {\n          backgroundContainer.style.backgroundImage = `url(\"${settings.backgroundImage}\")`;\n          backgroundContainer.style.backgroundSize = settings.backgroundFit || 'cover';\n          backgroundContainer.style.backgroundPosition = 'center';\n          backgroundContainer.style.backgroundRepeat = 'no-repeat';\n          backgroundContainer.style.backgroundAttachment = 'fixed';\n        } else if (settings.backgroundType === 'gradient' && settings.gradientColors) {\n          const {\n            gradientType = 'linear',\n            gradientDirection = 'to right',\n            gradientColors,\n            gradientStops = [0, 100]\n          } = settings;\n          if (gradientColors && gradientColors.length >= 2) {\n            const gradient = `${gradientType}-gradient(${gradientDirection}, ${gradientColors[0]} ${gradientStops[0]}%, ${gradientColors[1]} ${gradientStops[1]}%)`;\n            backgroundContainer.style.background = gradient;\n          }\n        }\n\n        // 应用背景效果\n        backgroundContainer.style.opacity = settings.backgroundOpacity !== undefined ? settings.backgroundOpacity : 1;\n        const filters = [];\n        if (settings.backgroundBrightness !== undefined && settings.backgroundBrightness !== 1) {\n          filters.push(`brightness(${settings.backgroundBrightness})`);\n        }\n        if (settings.backgroundBlur !== undefined && settings.backgroundBlur > 0) {\n          filters.push(`blur(${settings.backgroundBlur}px)`);\n        }\n        if (filters.length > 0) {\n          backgroundContainer.style.filter = filters.join(' ');\n        }\n        backgroundContainer.style.display = 'block';\n      } else {\n        backgroundContainer.style.display = 'none';\n        body.style.background = theme === 'dark' ? '#121212' : '#ffffff';\n      }\n    } catch (error) {\n      console.error('应用设置时出错:', error);\n    }\n  }, []);\n\n  // 初始化应用\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        setIsLoading(true);\n\n        // 设置页面标题\n        document.title = '時';\n\n        // 延迟初始化以避免闪烁\n        await new Promise(resolve => setTimeout(resolve, 100));\n\n        // 获取保存的设置\n        const savedSettings = getFromStorage('homepage-settings', {});\n\n        // 确定启动模块\n        let startupModule = 'quote'; // 默认为一语\n\n        if (savedSettings.startupModule) {\n          if (savedSettings.startupModule.type === 'last') {\n            // 继承上次使用的模块\n            const lastModule = getFromStorage('last-active-module', 'quote');\n            startupModule = lastModule;\n          } else if (savedSettings.startupModule.type === 'specific') {\n            // 使用指定的模块\n            startupModule = savedSettings.startupModule.module || 'quote';\n          }\n        } else {\n          // 如果没有设置，检查是否有上次使用的模块\n          const lastModule = getFromStorage('last-active-module', null);\n          if (lastModule) {\n            startupModule = lastModule;\n          }\n        }\n\n        // 验证模块是否存在\n        if (!moduleComponents[startupModule]) {\n          startupModule = 'quote';\n        }\n        setCurrentModule(startupModule);\n\n        // 应用完整设置\n        applyFullSettings(savedSettings);\n        setIsInitialized(true);\n      } catch (error) {\n        console.error('初始化应用时出错:', error);\n        handleError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    initializeApp();\n  }, [handleError, applyFullSettings]);\n\n  // 处理模块切换\n  const handleModuleChange = useCallback(module => {\n    try {\n      if (moduleComponents[module]) {\n        setCurrentModule(module);\n        // 保存当前模块为上次使用的模块\n        saveToStorage('last-active-module', module);\n      }\n    } catch (error) {\n      console.error('切换模块时出错:', error);\n      handleError(error);\n    }\n  }, [handleError]);\n\n  // 处理模式切换\n  const handleModeChange = useCallback(mode => {\n    try {\n      setCurrentMode(mode);\n    } catch (error) {\n      console.error('切换模式时出错:', error);\n      handleError(error);\n    }\n  }, [handleError]);\n\n  // 渲染当前模块\n  const renderCurrentModule = useCallback(() => {\n    try {\n      const ModuleComponent = moduleComponents[currentModule];\n      if (!ModuleComponent) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u6A21\\u5757\\u4E0D\\u5B58\\u5728: \", currentModule]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(ModuleComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 14\n      }, this);\n    } catch (error) {\n      console.error('渲染模块时出错:', error);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u6A21\\u5757\\u52A0\\u8F7D\\u5931\\u8D25\\uFF0C\\u8BF7\\u5237\\u65B0\\u9875\\u9762\\u91CD\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 14\n      }, this);\n    }\n  }, [currentModule]);\n\n  // 错误状态\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n      children: /*#__PURE__*/_jsxDEV(ErrorContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u5E94\\u7528\\u51FA\\u73B0\\u9519\\u8BEF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u62B1\\u6B49\\uFF0C\\u5E94\\u7528\\u9047\\u5230\\u4E86\\u4E00\\u4E2A\\u9519\\u8BEF\\u3002\\u8BF7\\u5C1D\\u8BD5\\u5237\\u65B0\\u9875\\u9762\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: 'var(--text-secondary-color)'\n          },\n          children: [\"\\u9519\\u8BEF\\u4FE1\\u606F: \", error.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          children: \"\\u5237\\u65B0\\u9875\\u9762\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 加载状态\n  if (isLoading || !isInitialized) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      text: \"\\u6B63\\u5728\\u52A0\\u8F7D...\",\n      subtext: \"\\u8BF7\\u7A0D\\u5019\\uFF0C\\u6B63\\u5728\\u521D\\u59CB\\u5316\\u5E94\\u7528\\u7A0B\\u5E8F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 12\n    }, this);\n  }\n\n  // 特殊模式渲染\n  if (currentMode === 'zen') {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n        children: /*#__PURE__*/_jsxDEV(ZenMode, {\n          onModeChange: handleModeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentMode === 'curtain') {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n        children: /*#__PURE__*/_jsxDEV(CurtainMode, {\n          onModeChange: handleModeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 正常模式渲染\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n      children: /*#__PURE__*/_jsxDEV(AppContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          onSettingsClick: () => setIsSettingsOpen(true),\n          onModeChange: handleModeChange,\n          currentMode: currentMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n          children: [/*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModuleSwitch, {\n            activeModule: currentModule,\n            onModuleChange: handleModuleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), renderCurrentModule()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SettingsPanel, {\n          isOpen: isSettingsOpen,\n          onClose: () => setIsSettingsOpen(false),\n          onModeChange: handleModeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"VME9/GaBuVe+p6+KhsdH9xd2xjY=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"MainContent\");\n$RefreshReg$(_c3, \"ErrorContainer\");\n$RefreshReg$(_c4, \"ErrorContent\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","styled","SettingsProvider","ThemeProvider","getFromStorage","saveToStorage","Header","Search","ModuleSwitch","SettingsPanel","Loading","Calendar","Bookmark","Todo","Note","Quote","News","ZenMode","CurtainMode","jsxDEV","_jsxDEV","AppContainer","div","_c","MainContent","main","_c2","ErrorContainer","_c3","ErrorContent","_c4","moduleComponents","calendar","bookmark","todo","note","quote","news","App","_s","currentModule","setCurrentModule","isSettingsOpen","setIsSettingsOpen","currentMode","setCurrentMode","isInitialized","setIsInitialized","error","setError","isLoading","setIsLoading","handleError","errorInfo","console","applyFullSettings","settings","root","document","documentElement","body","title","style","setProperty","linkColor","theme","textColor","classList","add","remove","fontFamily","background","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","backgroundContainer","getElementById","createElement","id","cssText","appendChild","opacity","filter","showBackground","backgroundType","backgroundColor","backgroundFit","gradientColors","gradientType","gradientDirection","gradientStops","length","gradient","backgroundOpacity","undefined","filters","backgroundBrightness","push","backgroundBlur","join","display","initializeApp","Promise","resolve","setTimeout","savedSettings","startupModule","type","lastModule","module","handleModuleChange","handleModeChange","mode","renderCurrentModule","ModuleComponent","children","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","message","onClick","window","location","reload","text","subtext","onModeChange","onSettingsClick","activeModule","onModuleChange","isOpen","onClose","_c5","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { SettingsProvider } from './contexts/SettingsContext';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { getFromStorage, saveToStorage } from './utils/storage';\r\n\r\n// 组件导入\r\nimport Header from './components/Header/Header';\r\nimport Search from './components/Search/Search';\r\nimport ModuleSwitch from './components/ModuleSwitch/ModuleSwitch';\r\nimport SettingsPanel from './settings/SettingsPanel';\r\nimport Loading from './components/Loading/Loading';\r\n\r\n// 模块导入\r\nimport Calendar from './modules/Calendar/Calendar';\r\nimport Bookmark from './modules/Bookmark/Bookmark';\r\nimport Todo from './modules/Todo/Todo';\r\nimport Note from './modules/Note/Note';\r\nimport Quote from './modules/Quote/Quote';\r\nimport News from './modules/News/News';\r\n\r\n// 模式导入\r\nimport ZenMode from './modes/ZenMode/ZenMode';\r\nimport CurtainMode from './modes/CurtainMode/CurtainMode';\r\n\r\nconst AppContainer = styled.div`\r\n  min-height: 100vh;\r\n  background: var(--background-color, #ffffff);\r\n  color: var(--text-color, #333333);\r\n  font-family: var(--font-family, 'Microsoft YaHei', sans-serif);\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst MainContent = styled.main`\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  min-height: calc(100vh - 80px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n`;\r\n\r\n\r\nconst ErrorContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: var(--background-color, #ffffff);\r\n  color: var(--text-color, #333333);\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nconst ErrorContent = styled.div`\r\n  max-width: 500px;\r\n  \r\n  h2 {\r\n    color: #e74c3c;\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  p {\r\n    margin-bottom: 20px;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  button {\r\n    background: var(--primary-color, #4a90e2);\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    \r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n`;\r\n\r\n// 模块映射\r\nconst moduleComponents = {\r\n  calendar: Calendar,\r\n  bookmark: Bookmark,\r\n  todo: Todo,\r\n  note: Note,\r\n  quote: Quote,\r\n  news: News\r\n};\r\n\r\nfunction App() {\r\n  const [currentModule, setCurrentModule] = useState('quote');\r\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\r\n  const [currentMode, setCurrentMode] = useState('normal');\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // 错误边界处理\r\n  const handleError = useCallback((error, errorInfo) => {\r\n    console.error('应用错误:', error, errorInfo);\r\n    setError(error);\r\n  }, []);\r\n\r\n  // 应用完整设置\r\n  const applyFullSettings = useCallback((settings) => {\r\n    try {\r\n      const root = document.documentElement;\r\n      const body = document.body;\r\n      \r\n      // 设置页面标题\r\n      document.title = '時';\r\n      \r\n      // 应用基础CSS变量\r\n      root.style.setProperty('--primary-color', settings.linkColor || '#4a90e2');\r\n      root.style.setProperty('--transition-speed', '0.3s');\r\n      \r\n      // 应用主题\r\n      const theme = settings.theme || 'light';\r\n      if (theme === 'dark') {\r\n        root.style.setProperty('--background-color', '#121212');\r\n        root.style.setProperty('--card-background', '#1e1e1e');\r\n        root.style.setProperty('--border-color', '#333333');\r\n        root.style.setProperty('--text-color', settings.textColor || '#e0e0e0');\r\n        root.style.setProperty('--text-secondary-color', '#a0a0a0');\r\n        root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.2)');\r\n        body.classList.add('dark-mode');\r\n      } else {\r\n        root.style.setProperty('--background-color', '#ffffff');\r\n        root.style.setProperty('--card-background', '#f8f8f8');\r\n        root.style.setProperty('--border-color', '#e0e0e0');\r\n        root.style.setProperty('--text-color', settings.textColor || '#333333');\r\n        root.style.setProperty('--text-secondary-color', '#666666');\r\n        root.style.setProperty('--primary-color-light', 'rgba(74, 144, 226, 0.1)');\r\n        body.classList.remove('dark-mode');\r\n      }\r\n      \r\n      // 应用字体设置\r\n      if (settings.fontFamily) {\r\n        root.style.setProperty('--font-family', settings.fontFamily);\r\n      }\r\n      \r\n      // 应用背景设置\r\n      body.style.background = '';\r\n      body.style.backgroundImage = '';\r\n      body.style.backgroundSize = '';\r\n      body.style.backgroundPosition = '';\r\n      body.style.backgroundRepeat = '';\r\n      body.style.backgroundAttachment = '';\r\n      \r\n      // 创建背景容器或使用现有的\r\n      let backgroundContainer = document.getElementById('background-container');\r\n      if (!backgroundContainer) {\r\n        backgroundContainer = document.createElement('div');\r\n        backgroundContainer.id = 'background-container';\r\n        backgroundContainer.style.cssText = `\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          z-index: -1;\r\n          pointer-events: none;\r\n        `;\r\n        body.appendChild(backgroundContainer);\r\n      }\r\n      \r\n      // 清除背景容器的样式\r\n      backgroundContainer.style.background = '';\r\n      backgroundContainer.style.backgroundImage = '';\r\n      backgroundContainer.style.backgroundSize = '';\r\n      backgroundContainer.style.backgroundPosition = '';\r\n      backgroundContainer.style.backgroundRepeat = '';\r\n      backgroundContainer.style.backgroundAttachment = '';\r\n      backgroundContainer.style.opacity = '';\r\n      backgroundContainer.style.filter = '';\r\n      \r\n      if (settings.showBackground !== false) {\r\n        if (settings.backgroundType === 'color' && settings.backgroundColor) {\r\n          backgroundContainer.style.background = settings.backgroundColor;\r\n        } else if (settings.backgroundType === 'image' && settings.backgroundImage) {\r\n          backgroundContainer.style.backgroundImage = `url(\"${settings.backgroundImage}\")`;\r\n          backgroundContainer.style.backgroundSize = settings.backgroundFit || 'cover';\r\n          backgroundContainer.style.backgroundPosition = 'center';\r\n          backgroundContainer.style.backgroundRepeat = 'no-repeat';\r\n          backgroundContainer.style.backgroundAttachment = 'fixed';\r\n        } else if (settings.backgroundType === 'gradient' && settings.gradientColors) {\r\n          const { gradientType = 'linear', gradientDirection = 'to right', gradientColors, gradientStops = [0, 100] } = settings;\r\n          if (gradientColors && gradientColors.length >= 2) {\r\n            const gradient = `${gradientType}-gradient(${gradientDirection}, ${gradientColors[0]} ${gradientStops[0]}%, ${gradientColors[1]} ${gradientStops[1]}%)`;\r\n            backgroundContainer.style.background = gradient;\r\n          }\r\n        }\r\n        \r\n        // 应用背景效果\r\n        backgroundContainer.style.opacity = settings.backgroundOpacity !== undefined ? settings.backgroundOpacity : 1;\r\n        \r\n        const filters = [];\r\n        if (settings.backgroundBrightness !== undefined && settings.backgroundBrightness !== 1) {\r\n          filters.push(`brightness(${settings.backgroundBrightness})`);\r\n        }\r\n        if (settings.backgroundBlur !== undefined && settings.backgroundBlur > 0) {\r\n          filters.push(`blur(${settings.backgroundBlur}px)`);\r\n        }\r\n        if (filters.length > 0) {\r\n          backgroundContainer.style.filter = filters.join(' ');\r\n        }\r\n        \r\n        backgroundContainer.style.display = 'block';\r\n      } else {\r\n        backgroundContainer.style.display = 'none';\r\n        body.style.background = theme === 'dark' ? '#121212' : '#ffffff';\r\n      }\r\n    } catch (error) {\r\n      console.error('应用设置时出错:', error);\r\n    }\r\n  }, []);\r\n\r\n  // 初始化应用\r\n  useEffect(() => {\r\n    const initializeApp = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        // 设置页面标题\r\n        document.title = '時';\r\n        \r\n        // 延迟初始化以避免闪烁\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n        \r\n        // 获取保存的设置\r\n        const savedSettings = getFromStorage('homepage-settings', {});\r\n        \r\n        // 确定启动模块\r\n        let startupModule = 'quote'; // 默认为一语\r\n        \r\n        if (savedSettings.startupModule) {\r\n          if (savedSettings.startupModule.type === 'last') {\r\n            // 继承上次使用的模块\r\n            const lastModule = getFromStorage('last-active-module', 'quote');\r\n            startupModule = lastModule;\r\n          } else if (savedSettings.startupModule.type === 'specific') {\r\n            // 使用指定的模块\r\n            startupModule = savedSettings.startupModule.module || 'quote';\r\n          }\r\n        } else {\r\n          // 如果没有设置，检查是否有上次使用的模块\r\n          const lastModule = getFromStorage('last-active-module', null);\r\n          if (lastModule) {\r\n            startupModule = lastModule;\r\n          }\r\n        }\r\n        \r\n        // 验证模块是否存在\r\n        if (!moduleComponents[startupModule]) {\r\n          startupModule = 'quote';\r\n        }\r\n        \r\n        setCurrentModule(startupModule);\r\n        \r\n        // 应用完整设置\r\n        applyFullSettings(savedSettings);\r\n        \r\n        setIsInitialized(true);\r\n      } catch (error) {\r\n        console.error('初始化应用时出错:', error);\r\n        handleError(error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeApp();\r\n  }, [handleError, applyFullSettings]);\r\n\r\n  // 处理模块切换\r\n  const handleModuleChange = useCallback((module) => {\r\n    try {\r\n      if (moduleComponents[module]) {\r\n        setCurrentModule(module);\r\n        // 保存当前模块为上次使用的模块\r\n        saveToStorage('last-active-module', module);\r\n      }\r\n    } catch (error) {\r\n      console.error('切换模块时出错:', error);\r\n      handleError(error);\r\n    }\r\n  }, [handleError]);\r\n\r\n  // 处理模式切换\r\n  const handleModeChange = useCallback((mode) => {\r\n    try {\r\n      setCurrentMode(mode);\r\n    } catch (error) {\r\n      console.error('切换模式时出错:', error);\r\n      handleError(error);\r\n    }\r\n  }, [handleError]);\r\n\r\n  // 渲染当前模块\r\n  const renderCurrentModule = useCallback(() => {\r\n    try {\r\n      const ModuleComponent = moduleComponents[currentModule];\r\n      if (!ModuleComponent) {\r\n        return <div>模块不存在: {currentModule}</div>;\r\n      }\r\n      return <ModuleComponent />;\r\n    } catch (error) {\r\n      console.error('渲染模块时出错:', error);\r\n      return <div>模块加载失败，请刷新页面重试</div>;\r\n    }\r\n  }, [currentModule]);\r\n\r\n  // 错误状态\r\n  if (error) {\r\n    return (\r\n      <ErrorContainer>\r\n        <ErrorContent>\r\n          <h2>应用出现错误</h2>\r\n          <p>抱歉，应用遇到了一个错误。请尝试刷新页面。</p>\r\n          <p style={{ fontSize: '14px', color: 'var(--text-secondary-color)' }}>\r\n            错误信息: {error.message}\r\n          </p>\r\n          <button onClick={() => window.location.reload()}>\r\n            刷新页面\r\n          </button>\r\n        </ErrorContent>\r\n      </ErrorContainer>\r\n    );\r\n  }\r\n\r\n  // 加载状态\r\n  if (isLoading || !isInitialized) {\r\n    return <Loading text=\"正在加载...\" subtext=\"请稍候，正在初始化应用程序\" />;\r\n  }\r\n\r\n  // 特殊模式渲染\r\n  if (currentMode === 'zen') {\r\n    return (\r\n      <ThemeProvider>\r\n        <SettingsProvider>\r\n          <ZenMode onModeChange={handleModeChange} />\r\n        </SettingsProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  if (currentMode === 'curtain') {\r\n    return (\r\n      <ThemeProvider>\r\n        <SettingsProvider>\r\n          <CurtainMode onModeChange={handleModeChange} />\r\n        </SettingsProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  // 正常模式渲染\r\n  return (\r\n    <ThemeProvider>\r\n      <SettingsProvider>\r\n        <AppContainer>\r\n          <Header \r\n            onSettingsClick={() => setIsSettingsOpen(true)}\r\n            onModeChange={handleModeChange}\r\n            currentMode={currentMode}\r\n          />\r\n          \r\n          <MainContent>\r\n            <Search />\r\n            \r\n            <ModuleSwitch \r\n              activeModule={currentModule}\r\n              onModuleChange={handleModuleChange}\r\n            />\r\n            \r\n            {renderCurrentModule()}\r\n          </MainContent>\r\n          \r\n        <SettingsPanel \r\n          isOpen={isSettingsOpen}\r\n          onClose={() => setIsSettingsOpen(false)}\r\n          onModeChange={handleModeChange}\r\n        />\r\n        </AppContainer>\r\n      </SettingsProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}