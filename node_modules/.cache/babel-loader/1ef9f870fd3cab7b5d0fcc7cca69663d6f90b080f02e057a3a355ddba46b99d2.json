{"ast":null,"code":"import React,{useState,useEffect}from'react';import styled from'styled-components';import{DragDropContext,Droppable}from'react-beautiful-dnd';import{saveToStorage,getFromStorage}from'../../utils/storage';import{handleUrlChange}from'../../utils/urlHandler';// 组件导入\nimport BookmarkItem from'./components/BookmarkItem';import FolderItem from'./components/FolderItem';import BookmarkModal from'./components/BookmarkModal';import FolderModal from'./components/FolderModal';// 图标导入\nimport AddIcon from'@mui/icons-material/Add';import CreateNewFolderIcon from'@mui/icons-material/CreateNewFolder';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookmarkContainer=styled.div`\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n`;const BookmarkHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n`;const BookmarkTitle=styled.h2`\n  margin: 0;\n  font-size: 24px;\n  font-weight: 500;\n`;const ActionButtons=styled.div`\n  display: flex;\n  gap: 10px;\n`;const ActionButton=styled.button`\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: #3a7bc8;\n  }\n`;const BookmarkGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 20px;\n`;const FolderContent=styled.div`\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid var(--border-color);\n`;const FolderHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n`;const FolderTitle=styled.h3`\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;const EmptyState=styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--text-color);\n  opacity: 0.7;\n`;const Bookmark=()=>{// 状态\nconst[bookmarks,setBookmarks]=useState([]);const[folders,setFolders]=useState([]);const[showBookmarkModal,setShowBookmarkModal]=useState(false);const[showFolderModal,setShowFolderModal]=useState(false);const[modalMode,setModalMode]=useState('add');// add, edit\nconst[currentFolder,setCurrentFolder]=useState(null);const[editingItem,setEditingItem]=useState(null);// 初始化数据\nuseEffect(()=>{const savedBookmarks=getFromStorage('homepage-bookmarks',[]);const savedFolders=getFromStorage('homepage-bookmark-folders',[]);setBookmarks(savedBookmarks);setFolders(savedFolders);},[]);// 打开添加书签模态框\nconst openAddBookmarkModal=()=>{setModalMode('add');setEditingItem(null);setShowBookmarkModal(true);};// 打开编辑书签模态框\nconst openEditBookmarkModal=bookmark=>{setModalMode('edit');setEditingItem(bookmark);setShowBookmarkModal(true);};// 打开添加文件夹模态框\nconst openAddFolderModal=()=>{setModalMode('add');setEditingItem(null);setShowFolderModal(true);};// 打开编辑文件夹模态框\nconst openEditFolderModal=folder=>{setModalMode('edit');setEditingItem(folder);setShowFolderModal(true);};// 关闭模态框\nconst closeBookmarkModal=()=>{setShowBookmarkModal(false);};const closeFolderModal=()=>{setShowFolderModal(false);};// 保存书签\nconst saveBookmark=formData=>{// 处理URL格式\nconst processedUrl=handleUrlChange(formData.url);const newBookmark={id:editingItem?editingItem.id:Date.now(),name:formData.name,url:processedUrl||formData.url,icon:formData.icon,folderId:formData.folderId};let updatedBookmarks;if(modalMode==='edit'){// 编辑现有书签\nupdatedBookmarks=bookmarks.map(item=>item.id===editingItem.id?newBookmark:item);}else{// 添加新书签\nupdatedBookmarks=[...bookmarks,newBookmark];}setBookmarks(updatedBookmarks);saveToStorage('homepage-bookmarks',updatedBookmarks);closeBookmarkModal();};// 保存文件夹\nconst saveFolder=formData=>{const newFolder={id:editingItem?editingItem.id:Date.now(),name:formData.name};let updatedFolders;if(modalMode==='edit'){// 编辑现有文件夹\nupdatedFolders=folders.map(item=>item.id===editingItem.id?newFolder:item);}else{// 添加新文件夹\nupdatedFolders=[...folders,newFolder];}setFolders(updatedFolders);saveToStorage('homepage-bookmark-folders',updatedFolders);closeFolderModal();};// 删除书签\nconst deleteBookmark=id=>{if(window.confirm('确定要删除这个书签吗？')){const updatedBookmarks=bookmarks.filter(item=>item.id!==id);setBookmarks(updatedBookmarks);saveToStorage('homepage-bookmarks',updatedBookmarks);}};// 删除文件夹\nconst deleteFolder=id=>{if(window.confirm('删除文件夹将会把文件夹内的书签移动到根目录，确定要删除吗？')){// 更新书签，将该文件夹内的书签移动到根目录\nconst updatedBookmarks=bookmarks.map(bookmark=>{if(bookmark.folderId===id){return{...bookmark,folderId:null};}return bookmark;});const updatedFolders=folders.filter(folder=>folder.id!==id);setBookmarks(updatedBookmarks);setFolders(updatedFolders);saveToStorage('homepage-bookmarks',updatedBookmarks);saveToStorage('homepage-bookmark-folders',updatedFolders);// 如果当前正在查看被删除的文件夹，则返回根目录\nif(currentFolder===id){setCurrentFolder(null);}}};// 打开书签链接\nconst openBookmark=url=>{window.open(url,'_blank');};// 切换文件夹\nconst toggleFolder=folderId=>{setCurrentFolder(currentFolder===folderId?null:folderId);};// 处理拖放结束\nconst handleDragEnd=result=>{const{destination,source,draggableId,type}=result;// 如果没有目标位置或者位置没有变化，不做任何处理\nif(!destination||destination.droppableId===source.droppableId&&destination.index===source.index){return;}if(type==='bookmark'){// 处理书签拖放\nconst bookmarkId=parseInt(draggableId.replace('bookmark-',''));const bookmark=bookmarks.find(b=>b.id===bookmarkId);if(!bookmark)return;// 更新书签的文件夹ID\nconst targetFolderId=destination.droppableId==='root'?null:parseInt(destination.droppableId.replace('folder-',''));const updatedBookmarks=bookmarks.map(b=>{if(b.id===bookmarkId){return{...b,folderId:targetFolderId};}return b;});setBookmarks(updatedBookmarks);saveToStorage('homepage-bookmarks',updatedBookmarks);}};// 过滤根目录书签（不在任何文件夹中）\nconst rootBookmarks=bookmarks.filter(bookmark=>!bookmark.folderId);// 获取当前文件夹中的书签\nconst folderBookmarks=bookmarks.filter(bookmark=>bookmark.folderId===currentFolder);// 获取当前文件夹信息\nconst currentFolderInfo=folders.find(folder=>folder.id===currentFolder);return/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsxs(BookmarkContainer,{children:[/*#__PURE__*/_jsxs(BookmarkHeader,{children:[/*#__PURE__*/_jsx(BookmarkTitle,{children:\"\\u4E66\\u7B7E\"}),/*#__PURE__*/_jsxs(ActionButtons,{children:[/*#__PURE__*/_jsx(ActionButton,{onClick:openAddFolderModal,title:\"\\u6DFB\\u52A0\\u6587\\u4EF6\\u5939\",children:/*#__PURE__*/_jsx(CreateNewFolderIcon,{})}),/*#__PURE__*/_jsx(ActionButton,{onClick:openAddBookmarkModal,title:\"\\u6DFB\\u52A0\\u4E66\\u7B7E\",children:/*#__PURE__*/_jsx(AddIcon,{})})]})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"root\",type:\"bookmark\",children:provided=>/*#__PURE__*/_jsxs(BookmarkGrid,{ref:provided.innerRef,...provided.droppableProps,children:[rootBookmarks.map((bookmark,index)=>/*#__PURE__*/_jsx(BookmarkItem,{bookmark:bookmark,index:index,onEdit:openEditBookmarkModal,onDelete:deleteBookmark,onClick:openBookmark},bookmark.id)),folders.map(folder=>/*#__PURE__*/_jsx(FolderItem,{folder:folder,isActive:currentFolder===folder.id,onToggle:toggleFolder,onEdit:openEditFolderModal,onDelete:deleteFolder},folder.id)),provided.placeholder,rootBookmarks.length===0&&folders.length===0&&/*#__PURE__*/_jsx(EmptyState,{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u6682\\u65E0\\u4E66\\u7B7E\\uFF0C\\u70B9\\u51FB\\u53F3\\u4E0A\\u89D2\\u6DFB\\u52A0\"})})]})}),currentFolder&&currentFolderInfo&&/*#__PURE__*/_jsx(Droppable,{droppableId:`folder-${currentFolder}`,type:\"bookmark\",children:provided=>/*#__PURE__*/_jsxs(FolderContent,{children:[/*#__PURE__*/_jsx(FolderHeader,{children:/*#__PURE__*/_jsx(FolderTitle,{children:currentFolderInfo.name})}),/*#__PURE__*/_jsxs(BookmarkGrid,{ref:provided.innerRef,...provided.droppableProps,children:[folderBookmarks.map((bookmark,index)=>/*#__PURE__*/_jsx(BookmarkItem,{bookmark:bookmark,index:index,onEdit:openEditBookmarkModal,onDelete:deleteBookmark,onClick:openBookmark},bookmark.id)),provided.placeholder,folderBookmarks.length===0&&/*#__PURE__*/_jsx(EmptyState,{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u6587\\u4EF6\\u5939\\u4E3A\\u7A7A\\uFF0C\\u62D6\\u52A8\\u4E66\\u7B7E\\u5230\\u6B64\\u5904\\u6216\\u70B9\\u51FB\\u53F3\\u4E0A\\u89D2\\u6DFB\\u52A0\"})})]})]})}),/*#__PURE__*/_jsx(BookmarkModal,{isOpen:showBookmarkModal,onClose:closeBookmarkModal,onSave:saveBookmark,bookmark:editingItem,folders:folders}),/*#__PURE__*/_jsx(FolderModal,{isOpen:showFolderModal,onClose:closeFolderModal,onSave:saveFolder,folder:editingItem})]})});};export default Bookmark;","map":{"version":3,"names":["React","useState","useEffect","styled","DragDropContext","Droppable","saveToStorage","getFromStorage","handleUrlChange","BookmarkItem","FolderItem","BookmarkModal","FolderModal","AddIcon","CreateNewFolderIcon","jsx","_jsx","jsxs","_jsxs","BookmarkContainer","div","BookmarkHeader","BookmarkTitle","h2","ActionButtons","ActionButton","button","BookmarkGrid","FolderContent","FolderHeader","FolderTitle","h3","EmptyState","Bookmark","bookmarks","setBookmarks","folders","setFolders","showBookmarkModal","setShowBookmarkModal","showFolderModal","setShowFolderModal","modalMode","setModalMode","currentFolder","setCurrentFolder","editingItem","setEditingItem","savedBookmarks","savedFolders","openAddBookmarkModal","openEditBookmarkModal","bookmark","openAddFolderModal","openEditFolderModal","folder","closeBookmarkModal","closeFolderModal","saveBookmark","formData","processedUrl","url","newBookmark","id","Date","now","name","icon","folderId","updatedBookmarks","map","item","saveFolder","newFolder","updatedFolders","deleteBookmark","window","confirm","filter","deleteFolder","openBookmark","open","toggleFolder","handleDragEnd","result","destination","source","draggableId","type","droppableId","index","bookmarkId","parseInt","replace","find","b","targetFolderId","rootBookmarks","folderBookmarks","currentFolderInfo","onDragEnd","children","onClick","title","provided","ref","innerRef","droppableProps","onEdit","onDelete","isActive","onToggle","placeholder","length","isOpen","onClose","onSave"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/modules/Bookmark/Bookmark.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { saveToStorage, getFromStorage } from '../../utils/storage';\r\nimport { handleUrlChange } from '../../utils/urlHandler';\r\n\r\n// 组件导入\r\nimport BookmarkItem from './components/BookmarkItem';\r\nimport FolderItem from './components/FolderItem';\r\nimport BookmarkModal from './components/BookmarkModal';\r\nimport FolderModal from './components/FolderModal';\r\n\r\n// 图标导入\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CreateNewFolderIcon from '@mui/icons-material/CreateNewFolder';\r\n\r\nconst BookmarkContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n`;\r\n\r\nconst BookmarkHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst BookmarkTitle = styled.h2`\r\n  margin: 0;\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    background-color: #3a7bc8;\r\n  }\r\n`;\r\n\r\nconst BookmarkGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 20px;\r\n`;\r\n\r\nconst FolderContent = styled.div`\r\n  margin-top: 20px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid var(--border-color);\r\n`;\r\n\r\nconst FolderHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst FolderTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: var(--text-color);\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst Bookmark = () => {\r\n  // 状态\r\n  const [bookmarks, setBookmarks] = useState([]);\r\n  const [folders, setFolders] = useState([]);\r\n  const [showBookmarkModal, setShowBookmarkModal] = useState(false);\r\n  const [showFolderModal, setShowFolderModal] = useState(false);\r\n  const [modalMode, setModalMode] = useState('add'); // add, edit\r\n  const [currentFolder, setCurrentFolder] = useState(null);\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  \r\n  // 初始化数据\r\n  useEffect(() => {\r\n    const savedBookmarks = getFromStorage('homepage-bookmarks', []);\r\n    const savedFolders = getFromStorage('homepage-bookmark-folders', []);\r\n    setBookmarks(savedBookmarks);\r\n    setFolders(savedFolders);\r\n  }, []);\r\n  \r\n  // 打开添加书签模态框\r\n  const openAddBookmarkModal = () => {\r\n    setModalMode('add');\r\n    setEditingItem(null);\r\n    setShowBookmarkModal(true);\r\n  };\r\n  \r\n  // 打开编辑书签模态框\r\n  const openEditBookmarkModal = (bookmark) => {\r\n    setModalMode('edit');\r\n    setEditingItem(bookmark);\r\n    setShowBookmarkModal(true);\r\n  };\r\n  \r\n  // 打开添加文件夹模态框\r\n  const openAddFolderModal = () => {\r\n    setModalMode('add');\r\n    setEditingItem(null);\r\n    setShowFolderModal(true);\r\n  };\r\n  \r\n  // 打开编辑文件夹模态框\r\n  const openEditFolderModal = (folder) => {\r\n    setModalMode('edit');\r\n    setEditingItem(folder);\r\n    setShowFolderModal(true);\r\n  };\r\n  \r\n  // 关闭模态框\r\n  const closeBookmarkModal = () => {\r\n    setShowBookmarkModal(false);\r\n  };\r\n  \r\n  const closeFolderModal = () => {\r\n    setShowFolderModal(false);\r\n  };\r\n  \r\n  // 保存书签\r\n  const saveBookmark = (formData) => {\r\n    // 处理URL格式\r\n    const processedUrl = handleUrlChange(formData.url);\r\n    \r\n    const newBookmark = {\r\n      id: editingItem ? editingItem.id : Date.now(),\r\n      name: formData.name,\r\n      url: processedUrl || formData.url,\r\n      icon: formData.icon,\r\n      folderId: formData.folderId\r\n    };\r\n    \r\n    let updatedBookmarks;\r\n    \r\n    if (modalMode === 'edit') {\r\n      // 编辑现有书签\r\n      updatedBookmarks = bookmarks.map(item => \r\n        item.id === editingItem.id ? newBookmark : item\r\n      );\r\n    } else {\r\n      // 添加新书签\r\n      updatedBookmarks = [...bookmarks, newBookmark];\r\n    }\r\n    \r\n    setBookmarks(updatedBookmarks);\r\n    saveToStorage('homepage-bookmarks', updatedBookmarks);\r\n    closeBookmarkModal();\r\n  };\r\n  \r\n  // 保存文件夹\r\n  const saveFolder = (formData) => {\r\n    const newFolder = {\r\n      id: editingItem ? editingItem.id : Date.now(),\r\n      name: formData.name\r\n    };\r\n    \r\n    let updatedFolders;\r\n    \r\n    if (modalMode === 'edit') {\r\n      // 编辑现有文件夹\r\n      updatedFolders = folders.map(item => \r\n        item.id === editingItem.id ? newFolder : item\r\n      );\r\n    } else {\r\n      // 添加新文件夹\r\n      updatedFolders = [...folders, newFolder];\r\n    }\r\n    \r\n    setFolders(updatedFolders);\r\n    saveToStorage('homepage-bookmark-folders', updatedFolders);\r\n    closeFolderModal();\r\n  };\r\n  \r\n  // 删除书签\r\n  const deleteBookmark = (id) => {\r\n    if (window.confirm('确定要删除这个书签吗？')) {\r\n      const updatedBookmarks = bookmarks.filter(item => item.id !== id);\r\n      setBookmarks(updatedBookmarks);\r\n      saveToStorage('homepage-bookmarks', updatedBookmarks);\r\n    }\r\n  };\r\n  \r\n  // 删除文件夹\r\n  const deleteFolder = (id) => {\r\n    if (window.confirm('删除文件夹将会把文件夹内的书签移动到根目录，确定要删除吗？')) {\r\n      // 更新书签，将该文件夹内的书签移动到根目录\r\n      const updatedBookmarks = bookmarks.map(bookmark => {\r\n        if (bookmark.folderId === id) {\r\n          return { ...bookmark, folderId: null };\r\n        }\r\n        return bookmark;\r\n      });\r\n      \r\n      const updatedFolders = folders.filter(folder => folder.id !== id);\r\n      \r\n      setBookmarks(updatedBookmarks);\r\n      setFolders(updatedFolders);\r\n      saveToStorage('homepage-bookmarks', updatedBookmarks);\r\n      saveToStorage('homepage-bookmark-folders', updatedFolders);\r\n      \r\n      // 如果当前正在查看被删除的文件夹，则返回根目录\r\n      if (currentFolder === id) {\r\n        setCurrentFolder(null);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 打开书签链接\r\n  const openBookmark = (url) => {\r\n    window.open(url, '_blank');\r\n  };\r\n  \r\n  // 切换文件夹\r\n  const toggleFolder = (folderId) => {\r\n    setCurrentFolder(currentFolder === folderId ? null : folderId);\r\n  };\r\n  \r\n  // 处理拖放结束\r\n  const handleDragEnd = (result) => {\r\n    const { destination, source, draggableId, type } = result;\r\n    \r\n    // 如果没有目标位置或者位置没有变化，不做任何处理\r\n    if (!destination || (destination.droppableId === source.droppableId && destination.index === source.index)) {\r\n      return;\r\n    }\r\n    \r\n    if (type === 'bookmark') {\r\n      // 处理书签拖放\r\n      const bookmarkId = parseInt(draggableId.replace('bookmark-', ''));\r\n      const bookmark = bookmarks.find(b => b.id === bookmarkId);\r\n      \r\n      if (!bookmark) return;\r\n      \r\n      // 更新书签的文件夹ID\r\n      const targetFolderId = destination.droppableId === 'root' ? null : parseInt(destination.droppableId.replace('folder-', ''));\r\n      \r\n      const updatedBookmarks = bookmarks.map(b => {\r\n        if (b.id === bookmarkId) {\r\n          return { ...b, folderId: targetFolderId };\r\n        }\r\n        return b;\r\n      });\r\n      \r\n      setBookmarks(updatedBookmarks);\r\n      saveToStorage('homepage-bookmarks', updatedBookmarks);\r\n    }\r\n  };\r\n  \r\n  // 过滤根目录书签（不在任何文件夹中）\r\n  const rootBookmarks = bookmarks.filter(bookmark => !bookmark.folderId);\r\n  \r\n  // 获取当前文件夹中的书签\r\n  const folderBookmarks = bookmarks.filter(bookmark => bookmark.folderId === currentFolder);\r\n  \r\n  // 获取当前文件夹信息\r\n  const currentFolderInfo = folders.find(folder => folder.id === currentFolder);\r\n  \r\n  return (\r\n    <DragDropContext onDragEnd={handleDragEnd}>\r\n      <BookmarkContainer>\r\n        <BookmarkHeader>\r\n          <BookmarkTitle>书签</BookmarkTitle>\r\n          <ActionButtons>\r\n            <ActionButton onClick={openAddFolderModal} title=\"添加文件夹\">\r\n              <CreateNewFolderIcon />\r\n            </ActionButton>\r\n            <ActionButton onClick={openAddBookmarkModal} title=\"添加书签\">\r\n              <AddIcon />\r\n            </ActionButton>\r\n          </ActionButtons>\r\n        </BookmarkHeader>\r\n        \r\n        {/* 根目录书签和文件夹 */}\r\n        <Droppable droppableId=\"root\" type=\"bookmark\">\r\n          {(provided) => (\r\n            <BookmarkGrid ref={provided.innerRef} {...provided.droppableProps}>\r\n              {rootBookmarks.map((bookmark, index) => (\r\n                <BookmarkItem \r\n                  key={bookmark.id}\r\n                  bookmark={bookmark}\r\n                  index={index}\r\n                  onEdit={openEditBookmarkModal}\r\n                  onDelete={deleteBookmark}\r\n                  onClick={openBookmark}\r\n                />\r\n              ))}\r\n              \r\n              {folders.map((folder) => (\r\n                <FolderItem \r\n                  key={folder.id}\r\n                  folder={folder}\r\n                  isActive={currentFolder === folder.id}\r\n                  onToggle={toggleFolder}\r\n                  onEdit={openEditFolderModal}\r\n                  onDelete={deleteFolder}\r\n                />\r\n              ))}\r\n              \r\n              {provided.placeholder}\r\n              \r\n              {rootBookmarks.length === 0 && folders.length === 0 && (\r\n                <EmptyState>\r\n                  <p>暂无书签，点击右上角添加</p>\r\n                </EmptyState>\r\n              )}\r\n            </BookmarkGrid>\r\n          )}\r\n        </Droppable>\r\n        \r\n        {/* 文件夹内容 */}\r\n        {currentFolder && currentFolderInfo && (\r\n          <Droppable droppableId={`folder-${currentFolder}`} type=\"bookmark\">\r\n            {(provided) => (\r\n              <FolderContent>\r\n                <FolderHeader>\r\n                  <FolderTitle>\r\n                    {currentFolderInfo.name}\r\n                  </FolderTitle>\r\n                </FolderHeader>\r\n                \r\n                <BookmarkGrid ref={provided.innerRef} {...provided.droppableProps}>\r\n                  {folderBookmarks.map((bookmark, index) => (\r\n                    <BookmarkItem \r\n                      key={bookmark.id}\r\n                      bookmark={bookmark}\r\n                      index={index}\r\n                      onEdit={openEditBookmarkModal}\r\n                      onDelete={deleteBookmark}\r\n                      onClick={openBookmark}\r\n                    />\r\n                  ))}\r\n                  \r\n                  {provided.placeholder}\r\n                  \r\n                  {folderBookmarks.length === 0 && (\r\n                    <EmptyState>\r\n                      <p>文件夹为空，拖动书签到此处或点击右上角添加</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </BookmarkGrid>\r\n              </FolderContent>\r\n            )}\r\n          </Droppable>\r\n        )}\r\n        \r\n        {/* 模态框 */}\r\n        <BookmarkModal \r\n          isOpen={showBookmarkModal}\r\n          onClose={closeBookmarkModal}\r\n          onSave={saveBookmark}\r\n          bookmark={editingItem}\r\n          folders={folders}\r\n        />\r\n        \r\n        <FolderModal \r\n          isOpen={showFolderModal}\r\n          onClose={closeFolderModal}\r\n          onSave={saveFolder}\r\n          folder={editingItem}\r\n        />\r\n      </BookmarkContainer>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default Bookmark;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}