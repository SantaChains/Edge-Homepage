{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\modules\\\\Bookmark\\\\components\\\\BookmarkModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { getFaviconUrl } from '../../../utils/urlHandler';\nimport EmojiEmotionsIcon from '@mui/icons-material/EmojiEmotions';\nimport ImageIcon from '@mui/icons-material/Image';\nimport LinkIcon from '@mui/icons-material/Link';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n_c = Modal;\nconst ModalContent = styled.div`\n  background-color: var(--background-color);\n  padding: 20px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 400px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n`;\n_c2 = ModalContent;\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n_c3 = ModalHeader;\nconst ModalTitle = styled.h3`\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n`;\n_c4 = ModalTitle;\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n  color: var(--text-color);\n`;\n_c5 = CloseButton;\nconst FormGroup = styled.div`\n  margin-bottom: 15px;\n`;\n_c6 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 5px;\n  font-size: 14px;\n`;\n_c7 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--background-color);\n  color: var(--text-color);\n`;\n_c8 = Input;\nconst Select = styled.select`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--background-color);\n  color: var(--text-color);\n`;\n_c9 = Select;\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n`;\n_c0 = ButtonGroup;\nconst Button = styled.button`\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  \n  &.primary {\n    background-color: var(--primary-color);\n    color: white;\n    \n    &:hover {\n      background-color: #3a7bc8;\n    }\n  }\n  \n  &.secondary {\n    background-color: var(--card-background);\n    color: var(--text-color);\n    border: 1px solid var(--border-color);\n    \n    &:hover {\n      background-color: rgba(0, 0, 0, 0.05);\n    }\n  }\n`;\n_c1 = Button;\nconst IconOptions = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-bottom: 15px;\n`;\n_c10 = IconOptions;\nconst IconOption = styled.button`\n  background-color: ${props => props.active ? 'var(--primary-color)' : 'var(--card-background)'};\n  color: ${props => props.active ? 'white' : 'var(--text-color)'};\n  border: 1px solid ${props => props.active ? 'var(--primary-color)' : 'var(--border-color)'};\n  border-radius: 4px;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  flex: 1;\n  \n  &:hover {\n    background-color: ${props => props.active ? 'var(--primary-color)' : 'rgba(0, 0, 0, 0.05)'};\n  }\n`;\n_c11 = IconOption;\nconst EmojiPicker = styled.div`\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  gap: 5px;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 10px;\n  padding: 5px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n`;\n_c12 = EmojiPicker;\nconst EmojiButton = styled.button`\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 4px;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n`;\n_c13 = EmojiButton;\nconst FileInput = styled.input`\n  display: none;\n`;\n_c14 = FileInput;\nconst FileInputLabel = styled.label`\n  display: block;\n  padding: 8px;\n  background-color: var(--card-background);\n  color: var(--text-color);\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n  margin-top: 10px;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n`;\n_c15 = FileInputLabel;\nconst ImagePreview = styled.div`\n  width: 100%;\n  height: 100px;\n  margin-top: 10px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  \n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n`;\n\n// 常用表情符号列表\n_c16 = ImagePreview;\nconst commonEmojis = ['😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇', '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚', '👍', '👎', '👏', '🙌', '👐', '🤲', '🤝', '🙏', '✌️', '🤞', '🧠', '👁️', '👀', '👂', '👃', '👄', '👶', '👦', '👧', '👨', '🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯', '🍏', '🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🍈', '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🎱', '🏓', '🌍', '🌎', '🌏', '🌕', '🌖', '🌗', '🌘', '🌑', '🌒', '🌓', '🏠', '🏡', '🏢', '🏣', '🏤', '🏥', '🏦', '🏨', '🏩', '🏪', '🚗', '🚕', '🚙', '🚌', '🚎', '🏎️', '🚓', '🚑', '🚒', '🚐', '⌚', '📱', '💻', '⌨️', '🖥️', '🖨️', '🖱️', '🖲️', '📷', '📸', '📚', '📖', '🔖', '📑', '🗂️', '📂', '📁', '📰', '🗞️', '📓', '🎮', '🕹️', '🎲', '♟️', '🎭', '🎨', '🎬', '🎤', '🎧', '🎼', '🏆', '🥇', '🥈', '🥉', '🏅', '🎖️', '🏵️', '🎗️', '🎫', '🎟️', '🛒', '🛍️', '🧳', '🌂', '☂️', '🧵', '🧶', '👓', '🕶️', '👔'];\nconst BookmarkModal = ({\n  isOpen,\n  onClose,\n  onSave,\n  bookmark = null,\n  folders = []\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: '',\n    url: '',\n    icon: '',\n    folderId: ''\n  });\n  const [iconType, setIconType] = useState('favicon'); // favicon, emoji, image\n  const [selectedEmoji, setSelectedEmoji] = useState('🔖');\n  const [imagePreview, setImagePreview] = useState('');\n  const fileInputRef = useRef(null);\n\n  // 初始化表单数据\n  useEffect(() => {\n    if (bookmark) {\n      setFormData({\n        name: bookmark.name,\n        url: bookmark.url,\n        icon: bookmark.icon,\n        folderId: bookmark.folderId || ''\n      });\n\n      // 确定图标类型\n      if (bookmark.icon.startsWith('data:image') || bookmark.icon.startsWith('http') || bookmark.icon.startsWith('file:')) {\n        setIconType('image');\n        setImagePreview(bookmark.icon);\n      } else if (bookmark.icon.length <= 2) {\n        setIconType('emoji');\n        setSelectedEmoji(bookmark.icon);\n      } else {\n        setIconType('favicon');\n      }\n    } else {\n      setFormData({\n        name: '',\n        url: '',\n        icon: '',\n        folderId: ''\n      });\n      setIconType('favicon');\n      setSelectedEmoji('🔖');\n      setImagePreview('');\n    }\n  }, [bookmark, isOpen]);\n\n  // 处理表单输入变化\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // 处理URL变化，自动获取网站图标\n  const handleUrlChange = e => {\n    const {\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      url: value\n    }));\n    if (iconType === 'favicon' && value) {\n      const faviconUrl = getFaviconUrl(value);\n      setFormData(prev => ({\n        ...prev,\n        icon: faviconUrl\n      }));\n    }\n  };\n\n  // 处理图标类型变化\n  const handleIconTypeChange = type => {\n    setIconType(type);\n\n    // 根据类型设置默认图标\n    if (type === 'emoji') {\n      setFormData(prev => ({\n        ...prev,\n        icon: selectedEmoji\n      }));\n    } else if (type === 'favicon') {\n      if (formData.url) {\n        const faviconUrl = getFaviconUrl(formData.url);\n        setFormData(prev => ({\n          ...prev,\n          icon: faviconUrl\n        }));\n      } else {\n        setFormData(prev => ({\n          ...prev,\n          icon: ''\n        }));\n      }\n    } else if (type === 'image') {\n      setFormData(prev => ({\n        ...prev,\n        icon: imagePreview || ''\n      }));\n    }\n  };\n\n  // 处理表情符号选择\n  const handleEmojiSelect = emoji => {\n    setSelectedEmoji(emoji);\n    setFormData(prev => ({\n      ...prev,\n      icon: emoji\n    }));\n  };\n\n  // 处理图片文件选择\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        setImagePreview(event.target.result);\n        setFormData(prev => ({\n          ...prev,\n          icon: event.target.result\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // 保存书签\n  const handleSave = () => {\n    if (!formData.name.trim() || !formData.url.trim()) {\n      alert('请填写完整信息');\n      return;\n    }\n    onSave({\n      ...formData,\n      name: formData.name.trim(),\n      url: formData.url.trim(),\n      folderId: formData.folderId || null\n    });\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: /*#__PURE__*/_jsxDEV(ModalContent, {\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: bookmark ? '编辑书签' : '添加书签'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"\\u540D\\u79F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleInputChange,\n          placeholder: \"\\u4E66\\u7B7E\\u540D\\u79F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"url\",\n          value: formData.url,\n          onChange: handleUrlChange,\n          placeholder: \"https://example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"\\u6587\\u4EF6\\u5939\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          name: \"folderId\",\n          value: formData.folderId,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u6839\\u76EE\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), folders.map(folder => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: folder.id,\n            children: folder.name\n          }, folder.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"\\u56FE\\u6807\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconOptions, {\n          children: [/*#__PURE__*/_jsxDEV(IconOption, {\n            active: iconType === 'favicon',\n            onClick: () => handleIconTypeChange('favicon'),\n            children: /*#__PURE__*/_jsxDEV(LinkIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconOption, {\n            active: iconType === 'emoji',\n            onClick: () => handleIconTypeChange('emoji'),\n            children: /*#__PURE__*/_jsxDEV(EmojiEmotionsIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconOption, {\n            active: iconType === 'image',\n            onClick: () => handleIconTypeChange('image'),\n            children: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), iconType === 'emoji' && /*#__PURE__*/_jsxDEV(EmojiPicker, {\n          children: commonEmojis.map(emoji => /*#__PURE__*/_jsxDEV(EmojiButton, {\n            onClick: () => handleEmojiSelect(emoji),\n            style: {\n              backgroundColor: selectedEmoji === emoji ? 'rgba(0, 0, 0, 0.1)' : 'transparent'\n            },\n            children: emoji\n          }, emoji, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), iconType === 'image' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FileInputLabel, {\n            children: [\"\\u9009\\u62E9\\u56FE\\u7247\", /*#__PURE__*/_jsxDEV(FileInput, {\n              type: \"file\",\n              accept: \"image/*\",\n              ref: fileInputRef,\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), imagePreview && /*#__PURE__*/_jsxDEV(ImagePreview, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"\\u9884\\u89C8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"secondary\",\n          onClick: onClose,\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"primary\",\n          onClick: handleSave,\n          children: \"\\u4FDD\\u5B58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 370,\n    columnNumber: 5\n  }, this);\n};\n_s(BookmarkModal, \"cLk2QeN274CKw3KqvTWSge/6M+U=\");\n_c17 = BookmarkModal;\nexport default BookmarkModal;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"ModalContent\");\n$RefreshReg$(_c3, \"ModalHeader\");\n$RefreshReg$(_c4, \"ModalTitle\");\n$RefreshReg$(_c5, \"CloseButton\");\n$RefreshReg$(_c6, \"FormGroup\");\n$RefreshReg$(_c7, \"Label\");\n$RefreshReg$(_c8, \"Input\");\n$RefreshReg$(_c9, \"Select\");\n$RefreshReg$(_c0, \"ButtonGroup\");\n$RefreshReg$(_c1, \"Button\");\n$RefreshReg$(_c10, \"IconOptions\");\n$RefreshReg$(_c11, \"IconOption\");\n$RefreshReg$(_c12, \"EmojiPicker\");\n$RefreshReg$(_c13, \"EmojiButton\");\n$RefreshReg$(_c14, \"FileInput\");\n$RefreshReg$(_c15, \"FileInputLabel\");\n$RefreshReg$(_c16, \"ImagePreview\");\n$RefreshReg$(_c17, \"BookmarkModal\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","getFaviconUrl","EmojiEmotionsIcon","ImageIcon","LinkIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","div","_c","ModalContent","_c2","ModalHeader","_c3","ModalTitle","h3","_c4","CloseButton","button","_c5","FormGroup","_c6","Label","label","_c7","Input","input","_c8","Select","select","_c9","ButtonGroup","_c0","Button","_c1","IconOptions","_c10","IconOption","props","active","_c11","EmojiPicker","_c12","EmojiButton","_c13","FileInput","_c14","FileInputLabel","_c15","ImagePreview","_c16","commonEmojis","BookmarkModal","isOpen","onClose","onSave","bookmark","folders","_s","formData","setFormData","name","url","icon","folderId","iconType","setIconType","selectedEmoji","setSelectedEmoji","imagePreview","setImagePreview","fileInputRef","startsWith","length","handleInputChange","e","value","target","prev","handleUrlChange","faviconUrl","handleIconTypeChange","type","handleEmojiSelect","emoji","handleFileChange","file","files","reader","FileReader","onload","event","result","readAsDataURL","handleSave","trim","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","placeholder","map","folder","id","style","backgroundColor","accept","ref","src","alt","className","_c17","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/modules/Bookmark/components/BookmarkModal.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { getFaviconUrl } from '../../../utils/urlHandler';\r\nimport EmojiEmotionsIcon from '@mui/icons-material/EmojiEmotions';\r\nimport ImageIcon from '@mui/icons-material/Image';\r\nimport LinkIcon from '@mui/icons-material/Link';\r\n\r\nconst Modal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background-color: var(--background-color);\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 400px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  \r\n  &.primary {\r\n    background-color: var(--primary-color);\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background-color: #3a7bc8;\r\n    }\r\n  }\r\n  \r\n  &.secondary {\r\n    background-color: var(--card-background);\r\n    color: var(--text-color);\r\n    border: 1px solid var(--border-color);\r\n    \r\n    &:hover {\r\n      background-color: rgba(0, 0, 0, 0.05);\r\n    }\r\n  }\r\n`;\r\n\r\nconst IconOptions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst IconOption = styled.button`\r\n  background-color: ${props => props.active ? 'var(--primary-color)' : 'var(--card-background)'};\r\n  color: ${props => props.active ? 'white' : 'var(--text-color)'};\r\n  border: 1px solid ${props => props.active ? 'var(--primary-color)' : 'var(--border-color)'};\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  flex: 1;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--primary-color)' : 'rgba(0, 0, 0, 0.05)'};\r\n  }\r\n`;\r\n\r\nconst EmojiPicker = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 5px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n  padding: 5px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n`;\r\n\r\nconst EmojiButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  padding: 5px;\r\n  border-radius: 4px;\r\n  \r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst FileInputLabel = styled.label`\r\n  display: block;\r\n  padding: 8px;\r\n  background-color: var(--card-background);\r\n  color: var(--text-color);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  \r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n`;\r\n\r\nconst ImagePreview = styled.div`\r\n  width: 100%;\r\n  height: 100px;\r\n  margin-top: 10px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  \r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\n// 常用表情符号列表\r\nconst commonEmojis = [\r\n  '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇',\r\n  '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚',\r\n  '👍', '👎', '👏', '🙌', '👐', '🤲', '🤝', '🙏', '✌️', '🤞',\r\n  '🧠', '👁️', '👀', '👂', '👃', '👄', '👶', '👦', '👧', '👨',\r\n  '🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯',\r\n  '🍏', '🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🍈',\r\n  '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🎱', '🏓',\r\n  '🌍', '🌎', '🌏', '🌕', '🌖', '🌗', '🌘', '🌑', '🌒', '🌓',\r\n  '🏠', '🏡', '🏢', '🏣', '🏤', '🏥', '🏦', '🏨', '🏩', '🏪',\r\n  '🚗', '🚕', '🚙', '🚌', '🚎', '🏎️', '🚓', '🚑', '🚒', '🚐',\r\n  '⌚', '📱', '💻', '⌨️', '🖥️', '🖨️', '🖱️', '🖲️', '📷', '📸',\r\n  '📚', '📖', '🔖', '📑', '🗂️', '📂', '📁', '📰', '🗞️', '📓',\r\n  '🎮', '🕹️', '🎲', '♟️', '🎭', '🎨', '🎬', '🎤', '🎧', '🎼',\r\n  '🏆', '🥇', '🥈', '🥉', '🏅', '🎖️', '🏵️', '🎗️', '🎫', '🎟️',\r\n  '🛒', '🛍️', '🧳', '🌂', '☂️', '🧵', '🧶', '👓', '🕶️', '👔'\r\n];\r\n\r\nconst BookmarkModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  onSave, \r\n  bookmark = null, \r\n  folders = [] \r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    url: '',\r\n    icon: '',\r\n    folderId: ''\r\n  });\r\n  \r\n  const [iconType, setIconType] = useState('favicon'); // favicon, emoji, image\r\n  const [selectedEmoji, setSelectedEmoji] = useState('🔖');\r\n  const [imagePreview, setImagePreview] = useState('');\r\n  const fileInputRef = useRef(null);\r\n  \r\n  // 初始化表单数据\r\n  useEffect(() => {\r\n    if (bookmark) {\r\n      setFormData({\r\n        name: bookmark.name,\r\n        url: bookmark.url,\r\n        icon: bookmark.icon,\r\n        folderId: bookmark.folderId || ''\r\n      });\r\n      \r\n      // 确定图标类型\r\n      if (bookmark.icon.startsWith('data:image') || bookmark.icon.startsWith('http') || bookmark.icon.startsWith('file:')) {\r\n        setIconType('image');\r\n        setImagePreview(bookmark.icon);\r\n      } else if (bookmark.icon.length <= 2) {\r\n        setIconType('emoji');\r\n        setSelectedEmoji(bookmark.icon);\r\n      } else {\r\n        setIconType('favicon');\r\n      }\r\n    } else {\r\n      setFormData({\r\n        name: '',\r\n        url: '',\r\n        icon: '',\r\n        folderId: ''\r\n      });\r\n      setIconType('favicon');\r\n      setSelectedEmoji('🔖');\r\n      setImagePreview('');\r\n    }\r\n  }, [bookmark, isOpen]);\r\n  \r\n  // 处理表单输入变化\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // 处理URL变化，自动获取网站图标\r\n  const handleUrlChange = (e) => {\r\n    const { value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      url: value\r\n    }));\r\n    \r\n    if (iconType === 'favicon' && value) {\r\n      const faviconUrl = getFaviconUrl(value);\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        icon: faviconUrl\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // 处理图标类型变化\r\n  const handleIconTypeChange = (type) => {\r\n    setIconType(type);\r\n    \r\n    // 根据类型设置默认图标\r\n    if (type === 'emoji') {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        icon: selectedEmoji\r\n      }));\r\n    } else if (type === 'favicon') {\r\n      if (formData.url) {\r\n        const faviconUrl = getFaviconUrl(formData.url);\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          icon: faviconUrl\r\n        }));\r\n      } else {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          icon: ''\r\n        }));\r\n      }\r\n    } else if (type === 'image') {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        icon: imagePreview || ''\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // 处理表情符号选择\r\n  const handleEmojiSelect = (emoji) => {\r\n    setSelectedEmoji(emoji);\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      icon: emoji\r\n    }));\r\n  };\r\n  \r\n  // 处理图片文件选择\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setImagePreview(event.target.result);\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          icon: event.target.result\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n  // 保存书签\r\n  const handleSave = () => {\r\n    if (!formData.name.trim() || !formData.url.trim()) {\r\n      alert('请填写完整信息');\r\n      return;\r\n    }\r\n    \r\n    onSave({\r\n      ...formData,\r\n      name: formData.name.trim(),\r\n      url: formData.url.trim(),\r\n      folderId: formData.folderId || null\r\n    });\r\n  };\r\n  \r\n  if (!isOpen) return null;\r\n  \r\n  return (\r\n    <Modal>\r\n      <ModalContent>\r\n        <ModalHeader>\r\n          <ModalTitle>{bookmark ? '编辑书签' : '添加书签'}</ModalTitle>\r\n          <CloseButton onClick={onClose}>&times;</CloseButton>\r\n        </ModalHeader>\r\n        \r\n        <FormGroup>\r\n          <Label>名称</Label>\r\n          <Input \r\n            type=\"text\" \r\n            name=\"name\" \r\n            value={formData.name} \r\n            onChange={handleInputChange} \r\n            placeholder=\"书签名称\"\r\n          />\r\n        </FormGroup>\r\n        \r\n        <FormGroup>\r\n          <Label>URL</Label>\r\n          <Input \r\n            type=\"text\" \r\n            name=\"url\" \r\n            value={formData.url} \r\n            onChange={handleUrlChange} \r\n            placeholder=\"https://example.com\"\r\n          />\r\n        </FormGroup>\r\n        \r\n        <FormGroup>\r\n          <Label>文件夹</Label>\r\n          <Select \r\n            name=\"folderId\" \r\n            value={formData.folderId} \r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">根目录</option>\r\n            {folders.map(folder => (\r\n              <option key={folder.id} value={folder.id}>{folder.name}</option>\r\n            ))}\r\n          </Select>\r\n        </FormGroup>\r\n        \r\n        <FormGroup>\r\n          <Label>图标</Label>\r\n          <IconOptions>\r\n            <IconOption \r\n              active={iconType === 'favicon'} \r\n              onClick={() => handleIconTypeChange('favicon')}\r\n            >\r\n              <LinkIcon />\r\n            </IconOption>\r\n            <IconOption \r\n              active={iconType === 'emoji'} \r\n              onClick={() => handleIconTypeChange('emoji')}\r\n            >\r\n              <EmojiEmotionsIcon />\r\n            </IconOption>\r\n            <IconOption \r\n              active={iconType === 'image'} \r\n              onClick={() => handleIconTypeChange('image')}\r\n            >\r\n              <ImageIcon />\r\n            </IconOption>\r\n          </IconOptions>\r\n          \r\n          {iconType === 'emoji' && (\r\n            <EmojiPicker>\r\n              {commonEmojis.map(emoji => (\r\n                <EmojiButton \r\n                  key={emoji} \r\n                  onClick={() => handleEmojiSelect(emoji)}\r\n                  style={{ \r\n                    backgroundColor: selectedEmoji === emoji ? 'rgba(0, 0, 0, 0.1)' : 'transparent' \r\n                  }}\r\n                >\r\n                  {emoji}\r\n                </EmojiButton>\r\n              ))}\r\n            </EmojiPicker>\r\n          )}\r\n          \r\n          {iconType === 'image' && (\r\n            <>\r\n              <FileInputLabel>\r\n                选择图片\r\n                <FileInput \r\n                  type=\"file\" \r\n                  accept=\"image/*\" \r\n                  ref={fileInputRef}\r\n                  onChange={handleFileChange}\r\n                />\r\n              </FileInputLabel>\r\n              \r\n              {imagePreview && (\r\n                <ImagePreview>\r\n                  <img src={imagePreview} alt=\"预览\" />\r\n                </ImagePreview>\r\n              )}\r\n            </>\r\n          )}\r\n        </FormGroup>\r\n        \r\n        <ButtonGroup>\r\n          <Button className=\"secondary\" onClick={onClose}>取消</Button>\r\n          <Button className=\"primary\" onClick={handleSave}>保存</Button>\r\n        </ButtonGroup>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default BookmarkModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}