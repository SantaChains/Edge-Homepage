{"ast":null,"code":"import React,{useState,useContext,useRef,useEffect}from'react';import styled from'styled-components';import{buildSearchUrl,cleanUrl}from'../../utils/urlHandler';import{SettingsContext}from'../../contexts/SettingsContext';// 图标导入\nimport SearchIcon from'@mui/icons-material/Search';import CleaningServicesIcon from'@mui/icons-material/CleaningServices';import SettingsIcon from'@mui/icons-material/Settings';import ArrowDropDownIcon from'@mui/icons-material/ArrowDropDown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchContainer=styled.div`\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 10px;\n  position: relative;\n`;const SearchForm=styled.form`\n  display: flex;\n  align-items: center;\n  background-color: var(--card-background);\n  border-radius: 24px;\n  padding: 5px 15px;\n  box-shadow: 0 2px 5px var(--shadow-color);\n  transition: all var(--transition-speed);\n  \n  &:focus-within {\n    box-shadow: 0 4px 10px var(--shadow-color);\n    transform: translateY(-2px);\n  }\n`;const SearchInput=styled.input`\n  flex: 1;\n  border: none;\n  background: transparent;\n  padding: 10px;\n  font-size: 16px;\n  color: var(--text-color);\n  outline: none;\n`;const SearchButton=styled.button`\n  background: none;\n  border: none;\n  color: var(--text-secondary-color);\n  cursor: pointer;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color var(--transition-speed);\n  \n  &:hover {\n    color: var(--primary-color);\n  }\n`;const CleanButton=styled(SearchButton)`\n  margin-right: 5px;\n  color: ${props=>props.active?'var(--primary-color)':'var(--text-secondary-color)'};\n`;const EngineButton=styled(SearchButton)`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  margin-right: 5px;\n  font-weight: 500;\n  color: var(--primary-color);\n`;const EngineDropdown=styled.div`\n  position: absolute;\n  top: 60px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: var(--card-background);\n  border-radius: 8px;\n  box-shadow: 0 4px 12px var(--shadow-color);\n  padding: 10px;\n  z-index: 100;\n  width: 90%;\n  max-width: 500px;\n  display: ${props=>props.show?'block':'none'};\n`;const EngineGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  margin-bottom: 15px;\n`;const EngineOption=styled.button`\n  background-color: ${props=>props.active?'var(--primary-color-light)':'transparent'};\n  border: 1px solid ${props=>props.active?'var(--primary-color)':'var(--border-color)'};\n  border-radius: 6px;\n  padding: 8px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  color: ${props=>props.active?'var(--primary-color)':'var(--text-color)'};\n  font-weight: ${props=>props.active?'500':'normal'};\n  transition: all var(--transition-speed);\n  \n  &:hover {\n    background-color: var(--primary-color-light);\n    border-color: var(--primary-color);\n    color: var(--primary-color);\n  }\n`;const CustomEngineForm=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-top: 1px solid var(--border-color);\n  padding-top: 15px;\n`;const FormRow=styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n`;const Label=styled.label`\n  font-size: 14px;\n  color: var(--text-color);\n  width: 80px;\n`;const Input=styled.input`\n  flex: 1;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  font-size: 14px;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    outline: none;\n  }\n`;const AddButton=styled.button`\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  margin-left: auto;\n  \n  &:hover {\n    background-color: #3a7bc8;\n  }\n`;const Search=()=>{var _settings$search,_settings$search2,_settings$search3;const{settings,updateSpecificSettings}=useContext(SettingsContext);const[query,setQuery]=useState('');const[autoClean,setAutoClean]=useState((settings===null||settings===void 0?void 0:(_settings$search=settings.search)===null||_settings$search===void 0?void 0:_settings$search.autoCleanUrl)||false);const[engine,setEngine]=useState((settings===null||settings===void 0?void 0:(_settings$search2=settings.search)===null||_settings$search2===void 0?void 0:_settings$search2.defaultEngine)||'bing');const[showEngineDropdown,setShowEngineDropdown]=useState(false);const[customEngineName,setCustomEngineName]=useState('');const[customEngineUrl,setCustomEngineUrl]=useState('');const[customEngines,setCustomEngines]=useState((settings===null||settings===void 0?void 0:(_settings$search3=settings.search)===null||_settings$search3===void 0?void 0:_settings$search3.customEngines)||[]);const dropdownRef=useRef(null);const searchFormRef=useRef(null);// 点击外部关闭下拉菜单\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)&&searchFormRef.current&&!searchFormRef.current.contains(event.target)){setShowEngineDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// 初始化自定义引擎\nuseEffect(()=>{var _settings$search4;if(settings!==null&&settings!==void 0&&(_settings$search4=settings.search)!==null&&_settings$search4!==void 0&&_settings$search4.customEngines){setCustomEngines(settings.search.customEngines);}},[settings]);// 处理搜索提交\nconst handleSubmit=e=>{var _settings$search5;e.preventDefault();if(!query.trim())return;// 检查是否是自定义引擎\nconst customEngine=customEngines.find(e=>e.id===engine);let searchUrl;if(customEngine){searchUrl=customEngine.url.replace('{query}',encodeURIComponent(query));}else{searchUrl=buildSearchUrl(query,engine,autoClean);}if(settings!==null&&settings!==void 0&&(_settings$search5=settings.search)!==null&&_settings$search5!==void 0&&_settings$search5.openInNewTab){window.open(searchUrl,'_blank');}else{window.location.href=searchUrl;}};// 处理输入变化\nconst handleInputChange=e=>{setQuery(e.target.value);};// 切换自动清理URL\nconst toggleAutoClean=()=>{const newValue=!autoClean;setAutoClean(newValue);updateSpecificSettings('search.autoCleanUrl',newValue);};// 切换搜索引擎\nconst changeEngine=newEngine=>{setEngine(newEngine);updateSpecificSettings('search.defaultEngine',newEngine);setShowEngineDropdown(false);};// 添加自定义搜索引擎\nconst addCustomEngine=()=>{if(!customEngineName.trim()||!customEngineUrl.trim()||!customEngineUrl.includes('{query}')){alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');return;}const newEngine={id:`custom_${Date.now()}`,name:customEngineName,url:customEngineUrl};const updatedEngines=[...customEngines,newEngine];setCustomEngines(updatedEngines);updateSpecificSettings('search.customEngines',updatedEngines);// 切换到新添加的引擎\nsetEngine(newEngine.id);updateSpecificSettings('search.defaultEngine',newEngine.id);// 清空输入框\nsetCustomEngineName('');setCustomEngineUrl('');};// 获取当前引擎名称\nconst getCurrentEngineName=()=>{const predefinedEngines={'bing':'必应','google':'谷歌','baidu':'百度','sogou':'搜狗','mita':'秘塔AI'};if(predefinedEngines[engine]){return predefinedEngines[engine];}const customEngine=customEngines.find(e=>e.id===engine);return customEngine?customEngine.name:'必应';};return/*#__PURE__*/_jsxs(SearchContainer,{children:[/*#__PURE__*/_jsxs(SearchForm,{onSubmit:handleSubmit,ref:searchFormRef,children:[/*#__PURE__*/_jsxs(EngineButton,{type:\"button\",onClick:()=>setShowEngineDropdown(!showEngineDropdown),title:\"\\u9009\\u62E9\\u641C\\u7D22\\u5F15\\u64CE\",children:[getCurrentEngineName(),/*#__PURE__*/_jsx(ArrowDropDownIcon,{fontSize:\"small\"})]}),/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"\\u641C\\u7D22\\u6216\\u8F93\\u5165\\u7F51\\u5740\",value:query,onChange:handleInputChange,autoFocus:true}),/*#__PURE__*/_jsx(CleanButton,{type:\"button\",onClick:toggleAutoClean,active:autoClean,title:autoClean?'已启用URL清理':'已禁用URL清理',children:/*#__PURE__*/_jsx(CleaningServicesIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(SearchButton,{type:\"submit\",title:\"\\u641C\\u7D22\",children:/*#__PURE__*/_jsx(SearchIcon,{})})]}),showEngineDropdown&&/*#__PURE__*/_jsxs(EngineDropdown,{show:showEngineDropdown,ref:dropdownRef,children:[/*#__PURE__*/_jsxs(EngineGrid,{children:[/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('bing'),active:engine==='bing',children:\"\\u5FC5\\u5E94\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('google'),active:engine==='google',children:\"\\u8C37\\u6B4C\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('baidu'),active:engine==='baidu',children:\"\\u767E\\u5EA6\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('sogou'),active:engine==='sogou',children:\"\\u641C\\u72D7\"}),/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine('mita'),active:engine==='mita',children:\"\\u79D8\\u5854AI\"}),customEngines.map(customEngine=>/*#__PURE__*/_jsx(EngineOption,{onClick:()=>changeEngine(customEngine.id),active:engine===customEngine.id,children:customEngine.name},customEngine.id))]}),/*#__PURE__*/_jsxs(CustomEngineForm,{children:[/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{children:\"\\u540D\\u79F0:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:customEngineName,onChange:e=>setCustomEngineName(e.target.value),placeholder:\"\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\\u540D\\u79F0\"})]}),/*#__PURE__*/_jsxs(FormRow,{children:[/*#__PURE__*/_jsx(Label,{children:\"URL:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:customEngineUrl,onChange:e=>setCustomEngineUrl(e.target.value),placeholder:\"https://example.com/search?q={query}\"})]}),/*#__PURE__*/_jsx(FormRow,{children:/*#__PURE__*/_jsx(AddButton,{onClick:addCustomEngine,children:\"\\u6DFB\\u52A0\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\"})})]})]})]});};export default Search;","map":{"version":3,"names":["React","useState","useContext","useRef","useEffect","styled","buildSearchUrl","cleanUrl","SettingsContext","SearchIcon","CleaningServicesIcon","SettingsIcon","ArrowDropDownIcon","jsx","_jsx","jsxs","_jsxs","SearchContainer","div","SearchForm","form","SearchInput","input","SearchButton","button","CleanButton","props","active","EngineButton","EngineDropdown","show","EngineGrid","EngineOption","CustomEngineForm","FormRow","Label","label","Input","AddButton","Search","_settings$search","_settings$search2","_settings$search3","settings","updateSpecificSettings","query","setQuery","autoClean","setAutoClean","search","autoCleanUrl","engine","setEngine","defaultEngine","showEngineDropdown","setShowEngineDropdown","customEngineName","setCustomEngineName","customEngineUrl","setCustomEngineUrl","customEngines","setCustomEngines","dropdownRef","searchFormRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","_settings$search4","handleSubmit","e","_settings$search5","preventDefault","trim","customEngine","find","id","searchUrl","url","replace","encodeURIComponent","openInNewTab","window","open","location","href","handleInputChange","value","toggleAutoClean","newValue","changeEngine","newEngine","addCustomEngine","includes","alert","Date","now","name","updatedEngines","getCurrentEngineName","predefinedEngines","children","onSubmit","ref","type","onClick","title","fontSize","placeholder","onChange","autoFocus","map"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/components/Search/Search.js"],"sourcesContent":["import React, { useState, useContext, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { buildSearchUrl, cleanUrl } from '../../utils/urlHandler';\r\nimport { SettingsContext } from '../../contexts/SettingsContext';\r\n\r\n// 图标导入\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CleaningServicesIcon from '@mui/icons-material/CleaningServices';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\n\r\nconst SearchContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n  position: relative;\r\n`;\r\n\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: var(--card-background);\r\n  border-radius: 24px;\r\n  padding: 5px 15px;\r\n  box-shadow: 0 2px 5px var(--shadow-color);\r\n  transition: all var(--transition-speed);\r\n  \r\n  &:focus-within {\r\n    box-shadow: 0 4px 10px var(--shadow-color);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  color: var(--text-color);\r\n  outline: none;\r\n`;\r\n\r\nconst SearchButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-secondary-color);\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: color var(--transition-speed);\r\n  \r\n  &:hover {\r\n    color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst CleanButton = styled(SearchButton)`\r\n  margin-right: 5px;\r\n  color: ${props => props.active ? 'var(--primary-color)' : 'var(--text-secondary-color)'};\r\n`;\r\n\r\nconst EngineButton = styled(SearchButton)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2px;\r\n  margin-right: 5px;\r\n  font-weight: 500;\r\n  color: var(--primary-color);\r\n`;\r\n\r\nconst EngineDropdown = styled.div`\r\n  position: absolute;\r\n  top: 60px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: var(--card-background);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px var(--shadow-color);\r\n  padding: 10px;\r\n  z-index: 100;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n`;\r\n\r\nconst EngineGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst EngineOption = styled.button`\r\n  background-color: ${props => props.active ? 'var(--primary-color-light)' : 'transparent'};\r\n  border: 1px solid ${props => props.active ? 'var(--primary-color)' : 'var(--border-color)'};\r\n  border-radius: 6px;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  color: ${props => props.active ? 'var(--primary-color)' : 'var(--text-color)'};\r\n  font-weight: ${props => props.active ? '500' : 'normal'};\r\n  transition: all var(--transition-speed);\r\n  \r\n  &:hover {\r\n    background-color: var(--primary-color-light);\r\n    border-color: var(--primary-color);\r\n    color: var(--primary-color);\r\n  }\r\n`;\r\n\r\nconst CustomEngineForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  border-top: 1px solid var(--border-color);\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst FormRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-size: 14px;\r\n  color: var(--text-color);\r\n  width: 80px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 8px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n  font-size: 14px;\r\n  \r\n  &:focus {\r\n    border-color: var(--primary-color);\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  margin-left: auto;\r\n  \r\n  &:hover {\r\n    background-color: #3a7bc8;\r\n  }\r\n`;\r\n\r\nconst Search = () => {\r\n  const { settings, updateSpecificSettings } = useContext(SettingsContext);\r\n  const [query, setQuery] = useState('');\r\n  const [autoClean, setAutoClean] = useState(settings?.search?.autoCleanUrl || false);\r\n  const [engine, setEngine] = useState(settings?.search?.defaultEngine || 'bing');\r\n  const [showEngineDropdown, setShowEngineDropdown] = useState(false);\r\n  const [customEngineName, setCustomEngineName] = useState('');\r\n  const [customEngineUrl, setCustomEngineUrl] = useState('');\r\n  const [customEngines, setCustomEngines] = useState(settings?.search?.customEngines || []);\r\n  \r\n  const dropdownRef = useRef(null);\r\n  const searchFormRef = useRef(null);\r\n  \r\n  // 点击外部关闭下拉菜单\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target) &&\r\n          searchFormRef.current && !searchFormRef.current.contains(event.target)) {\r\n        setShowEngineDropdown(false);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n  \r\n  // 初始化自定义引擎\r\n  useEffect(() => {\r\n    if (settings?.search?.customEngines) {\r\n      setCustomEngines(settings.search.customEngines);\r\n    }\r\n  }, [settings]);\r\n  \r\n  // 处理搜索提交\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!query.trim()) return;\r\n    \r\n    // 检查是否是自定义引擎\r\n    const customEngine = customEngines.find(e => e.id === engine);\r\n    \r\n    let searchUrl;\r\n    if (customEngine) {\r\n      searchUrl = customEngine.url.replace('{query}', encodeURIComponent(query));\r\n    } else {\r\n      searchUrl = buildSearchUrl(query, engine, autoClean);\r\n    }\r\n    \r\n    if (settings?.search?.openInNewTab) {\r\n      window.open(searchUrl, '_blank');\r\n    } else {\r\n      window.location.href = searchUrl;\r\n    }\r\n  };\r\n  \r\n  // 处理输入变化\r\n  const handleInputChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n  \r\n  // 切换自动清理URL\r\n  const toggleAutoClean = () => {\r\n    const newValue = !autoClean;\r\n    setAutoClean(newValue);\r\n    updateSpecificSettings('search.autoCleanUrl', newValue);\r\n  };\r\n  \r\n  // 切换搜索引擎\r\n  const changeEngine = (newEngine) => {\r\n    setEngine(newEngine);\r\n    updateSpecificSettings('search.defaultEngine', newEngine);\r\n    setShowEngineDropdown(false);\r\n  };\r\n  \r\n  // 添加自定义搜索引擎\r\n  const addCustomEngine = () => {\r\n    if (!customEngineName.trim() || !customEngineUrl.trim() || !customEngineUrl.includes('{query}')) {\r\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\r\n      return;\r\n    }\r\n    \r\n    const newEngine = {\r\n      id: `custom_${Date.now()}`,\r\n      name: customEngineName,\r\n      url: customEngineUrl\r\n    };\r\n    \r\n    const updatedEngines = [...customEngines, newEngine];\r\n    setCustomEngines(updatedEngines);\r\n    updateSpecificSettings('search.customEngines', updatedEngines);\r\n    \r\n    // 切换到新添加的引擎\r\n    setEngine(newEngine.id);\r\n    updateSpecificSettings('search.defaultEngine', newEngine.id);\r\n    \r\n    // 清空输入框\r\n    setCustomEngineName('');\r\n    setCustomEngineUrl('');\r\n  };\r\n  \r\n  // 获取当前引擎名称\r\n  const getCurrentEngineName = () => {\r\n    const predefinedEngines = {\r\n      'bing': '必应',\r\n      'google': '谷歌',\r\n      'baidu': '百度',\r\n      'sogou': '搜狗',\r\n      'mita': '秘塔AI'\r\n    };\r\n    \r\n    if (predefinedEngines[engine]) {\r\n      return predefinedEngines[engine];\r\n    }\r\n    \r\n    const customEngine = customEngines.find(e => e.id === engine);\r\n    return customEngine ? customEngine.name : '必应';\r\n  };\r\n  \r\n  return (\r\n    <SearchContainer>\r\n      <SearchForm onSubmit={handleSubmit} ref={searchFormRef}>\r\n        <EngineButton \r\n          type=\"button\" \r\n          onClick={() => setShowEngineDropdown(!showEngineDropdown)}\r\n          title=\"选择搜索引擎\"\r\n        >\r\n          {getCurrentEngineName()}\r\n          <ArrowDropDownIcon fontSize=\"small\" />\r\n        </EngineButton>\r\n        <SearchInput\r\n          type=\"text\"\r\n          placeholder=\"搜索或输入网址\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n          autoFocus\r\n        />\r\n        <CleanButton\r\n          type=\"button\"\r\n          onClick={toggleAutoClean}\r\n          active={autoClean}\r\n          title={autoClean ? '已启用URL清理' : '已禁用URL清理'}\r\n        >\r\n          <CleaningServicesIcon fontSize=\"small\" />\r\n        </CleanButton>\r\n        <SearchButton type=\"submit\" title=\"搜索\">\r\n          <SearchIcon />\r\n        </SearchButton>\r\n      </SearchForm>\r\n      \r\n      {showEngineDropdown && (\r\n        <EngineDropdown show={showEngineDropdown} ref={dropdownRef}>\r\n          <EngineGrid>\r\n            <EngineOption\r\n              onClick={() => changeEngine('bing')}\r\n              active={engine === 'bing'}\r\n            >\r\n              必应\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('google')}\r\n              active={engine === 'google'}\r\n            >\r\n              谷歌\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('baidu')}\r\n              active={engine === 'baidu'}\r\n            >\r\n              百度\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('sogou')}\r\n              active={engine === 'sogou'}\r\n            >\r\n              搜狗\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('mita')}\r\n              active={engine === 'mita'}\r\n            >\r\n              秘塔AI\r\n            </EngineOption>\r\n            \r\n            {customEngines.map(customEngine => (\r\n              <EngineOption\r\n                key={customEngine.id}\r\n                onClick={() => changeEngine(customEngine.id)}\r\n                active={engine === customEngine.id}\r\n              >\r\n                {customEngine.name}\r\n              </EngineOption>\r\n            ))}\r\n          </EngineGrid>\r\n          \r\n          <CustomEngineForm>\r\n            <FormRow>\r\n              <Label>名称:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineName}\r\n                onChange={(e) => setCustomEngineName(e.target.value)}\r\n                placeholder=\"自定义引擎名称\"\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <Label>URL:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineUrl}\r\n                onChange={(e) => setCustomEngineUrl(e.target.value)}\r\n                placeholder=\"https://example.com/search?q={query}\"\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <AddButton onClick={addCustomEngine}>添加自定义引擎</AddButton>\r\n            </FormRow>\r\n          </CustomEngineForm>\r\n        </EngineDropdown>\r\n      )}\r\n    </SearchContainer>\r\n  );\r\n};\r\n\r\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}