{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\modules\\\\News\\\\News.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { saveToStorage, getFromStorage } from '../../utils/storage';\nimport axios from 'axios';\nimport xml2js from 'xml2js';\n\n// 图标导入\nimport AddIcon from '@mui/icons-material/Add';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport RssFeedIcon from '@mui/icons-material/RssFeed';\nimport LinkIcon from '@mui/icons-material/Link';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\n_c = NewsContainer;\nconst NewsHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 20px;\n  background-color: var(--card-background);\n  box-shadow: 0 2px 5px var(--shadow-color);\n`;\n_c2 = NewsHeader;\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: 20px;\n  font-weight: 500;\n`;\n_c3 = HeaderTitle;\nconst BackButton = styled.button`\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-right: 15px;\n  \n  &:hover {\n    background-color: #3a7bc8;\n  }\n`;\n_c4 = BackButton;\nconst SourcesContainer = styled.div`\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  padding: 10px 20px;\n  background-color: var(--background-color);\n  border-bottom: 1px solid var(--border-color);\n  \n  &::-webkit-scrollbar {\n    height: 4px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--background-color);\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: var(--border-color);\n    border-radius: 4px;\n  }\n`;\n_c5 = SourcesContainer;\nconst SourceButton = styled.button`\n  background-color: ${props => props.active ? 'var(--primary-color)' : 'var(--card-background)'};\n  color: ${props => props.active ? 'white' : 'var(--text-color)'};\n  border: none;\n  border-radius: 20px;\n  padding: 8px 15px;\n  margin-right: 10px;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  \n  &:hover {\n    background-color: ${props => props.active ? 'var(--primary-color)' : 'rgba(0, 0, 0, 0.05)'};\n  }\n  \n  svg {\n    font-size: 16px;\n  }\n`;\n_c6 = SourceButton;\nconst AddSourceButton = styled.button`\n  background-color: var(--card-background);\n  color: var(--primary-color);\n  border: 1px dashed var(--primary-color);\n  border-radius: 20px;\n  padding: 8px 15px;\n  margin-right: 10px;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n`;\n_c7 = AddSourceButton;\nconst NewsContent = styled.div`\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n`;\n_c8 = NewsContent;\nconst NewsList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n_c9 = NewsList;\nconst NewsItem = styled.a`\n  display: block;\n  padding: 15px;\n  background-color: var(--card-background);\n  border-radius: 8px;\n  box-shadow: 0 2px 5px var(--shadow-color);\n  cursor: pointer;\n  text-decoration: none;\n  color: var(--text-color);\n  transition: all var(--transition-speed);\n  \n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px var(--shadow-color);\n  }\n  \n  &:visited {\n    opacity: 0.7;\n  }\n`;\n_c0 = NewsItem;\nconst NewsTitle = styled.h3`\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n`;\n_c1 = NewsTitle;\nconst NewsDate = styled.div`\n  font-size: 12px;\n  color: var(--text-secondary-color);\n  margin-top: 5px;\n`;\n_c10 = NewsDate;\nconst LoadingState = styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--text-color);\n`;\n_c11 = LoadingState;\nconst ErrorState = styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--text-color);\n  color: #e53935;\n`;\n_c12 = ErrorState;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--text-color);\n  opacity: 0.7;\n`;\n_c13 = EmptyState;\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n_c14 = Modal;\nconst ModalContent = styled.div`\n  background-color: var(--background-color);\n  padding: 20px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n`;\n_c15 = ModalContent;\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n_c16 = ModalHeader;\nconst ModalTitle = styled.h3`\n  margin: 0;\n  font-size: 18px;\n  font-weight: 500;\n`;\n_c17 = ModalTitle;\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n  color: var(--text-color);\n`;\n_c18 = CloseButton;\nconst FormGroup = styled.div`\n  margin-bottom: 15px;\n`;\n_c19 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 5px;\n  font-size: 14px;\n`;\n_c20 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--background-color);\n  color: var(--text-color);\n`;\n_c21 = Input;\nconst Select = styled.select`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--background-color);\n  color: var(--text-color);\n`;\n_c22 = Select;\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n`;\n_c23 = ButtonGroup;\nconst Button = styled.button`\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  \n  &.primary {\n    background-color: var(--primary-color);\n    color: white;\n    \n    &:hover {\n      background-color: #3a7bc8;\n    }\n  }\n  \n  &.secondary {\n    background-color: var(--card-background);\n    color: var(--text-color);\n    border: 1px solid var(--border-color);\n    \n    &:hover {\n      background-color: rgba(0, 0, 0, 0.05);\n    }\n  }\n  \n  &.danger {\n    background-color: #e53935;\n    color: white;\n    \n    &:hover {\n      background-color: #c62828;\n    }\n  }\n`;\n_c24 = Button;\nconst SourcesList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 20px;\n`;\n_c25 = SourcesList;\nconst SourceItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  background-color: var(--card-background);\n  border-radius: 4px;\n  border-left: 3px solid ${props => props.type === 'rss' ? '#ff9800' : '#2196f3'};\n`;\n_c26 = SourceItem;\nconst SourceInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n_c27 = SourceInfo;\nconst SourceName = styled.div`\n  font-weight: 500;\n`;\n_c28 = SourceName;\nconst SourceUrl = styled.div`\n  font-size: 12px;\n  color: var(--text-secondary-color);\n  word-break: break-all;\n`;\n_c29 = SourceUrl;\nconst SourceActions = styled.div`\n  display: flex;\n  gap: 5px;\n`;\n_c30 = SourceActions;\nconst ActionIconButton = styled.button`\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: var(--text-secondary-color);\n  \n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n    color: var(--primary-color);\n  }\n  \n  &.delete:hover {\n    color: #e53935;\n  }\n`;\n\n// 代理服务器URL，用于解决跨域问题\n// 提供多个代理服务器，如果一个失败可以尝试另一个\n_c31 = ActionIconButton;\nconst CORS_PROXIES = ['https://corsproxy.io/?', 'https://api.allorigins.win/raw?url=', 'https://cors-anywhere.herokuapp.com/', 'https://crossorigin.me/'];\n\n// 特殊网站的RSS源映射\nconst SPECIAL_RSS_SOURCES = {\n  // 知乎\n  'www.zhihu.com/rss': 'https://www.zhihu.com/rss',\n  'zhihu.com/rss': 'https://www.zhihu.com/rss',\n  // 可以添加更多特殊网站的映射\n  '52pojie.cn': 'https://www.52pojie.cn/forum.php?mod=guide&view=newthread&rss=1'\n};\n\n// 特殊网站的处理函数\nconst SPECIAL_SITE_HANDLERS = {\n  // 知乎处理函数\n  'zhihu.com': async source => {\n    // 知乎不提供官方RSS，我们可以使用第三方服务\n    // 尝试多个可能的RSS源\n    const zhihuRssSources = ['https://rsshub.app/zhihu/daily', 'https://rsshub.app/zhihu/hotlist', 'https://www.zhihu.com/rss', 'https://rsshub.app/zhihu/people/activities/zhang-jia-wei'];\n    console.log('尝试获取知乎RSS');\n\n    // 尝试每个RSS源\n    for (const rssUrl of zhihuRssSources) {\n      try {\n        console.log(`尝试知乎RSS源: ${rssUrl}`);\n        const response = await fetch(rssUrl, {\n          headers: {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n          }\n        });\n        if (!response.ok) {\n          console.log(`知乎RSS源 ${rssUrl} 返回状态码: ${response.status}`);\n          continue;\n        }\n        const xmlData = await response.text();\n        if (xmlData && (xmlData.includes('<rss') || xmlData.includes('<feed') || xmlData.includes('<rdf:RDF'))) {\n          console.log(`成功获取知乎RSS: ${rssUrl}`);\n          return {\n            success: true,\n            data: xmlData\n          };\n        } else {\n          console.log(`知乎RSS源 ${rssUrl} 返回的不是有效的XML`);\n        }\n      } catch (error) {\n        console.error(`获取知乎RSS源 ${rssUrl} 失败:`, error);\n      }\n    }\n\n    // 如果所有尝试都失败，返回一些静态内容\n    console.log('所有知乎RSS源都失败，返回静态内容');\n    const staticContent = `\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <rss version=\"2.0\">\n      <channel>\n        <title>知乎热门</title>\n        <link>https://www.zhihu.com</link>\n        <description>知乎热门内容</description>\n        <item>\n          <title>知乎RSS加载失败 - 请稍后再试</title>\n          <link>https://www.zhihu.com</link>\n          <pubDate>${new Date().toUTCString()}</pubDate>\n          <description>由于知乎限制，RSS加载失败。请稍后再试或直接访问知乎网站。</description>\n        </item>\n      </channel>\n    </rss>`;\n    return {\n      success: true,\n      data: staticContent\n    };\n  },\n  // 52pojie处理函数\n  '52pojie.cn': async source => {\n    // 尝试多个可能的RSS源\n    const pojieRssSources = ['https://rsshub.app/52pojie/index', 'https://rsshub.app/52pojie/forum/16', 'https://www.52pojie.cn/forum.php?mod=guide&view=newthread&rss=1'];\n    console.log('尝试获取52pojie RSS');\n\n    // 尝试每个RSS源\n    for (const rssUrl of pojieRssSources) {\n      try {\n        console.log(`尝试52pojie RSS源: ${rssUrl}`);\n\n        // 使用axios获取二进制数据以处理GBK编码\n        const response = await axios.get(rssUrl, {\n          headers: {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\n            'Referer': 'https://www.52pojie.cn/'\n          },\n          responseType: 'arraybuffer' // 获取二进制数据\n        });\n        if (response.status !== 200) {\n          console.log(`52pojie RSS源 ${rssUrl} 返回状态码: ${response.status}`);\n          continue;\n        }\n\n        // 检测编码并转换\n        let encoding = 'utf-8';\n        const contentType = response.headers['content-type'] || '';\n        if (contentType.includes('charset=gbk') || contentType.includes('charset=gb2312')) {\n          encoding = 'gbk';\n        } else {\n          // 尝试从内容中检测编码\n          const buffer = Buffer.from(response.data);\n          const str = buffer.toString().substring(0, 1000);\n          if (str.includes('encoding=\"gbk\"') || str.includes('encoding=\"gb2312\"')) {\n            encoding = 'gbk';\n          }\n        }\n\n        // 使用TextDecoder转换编码\n        let xmlData;\n        if (encoding.toLowerCase() === 'gbk' || encoding.toLowerCase() === 'gb2312') {\n          console.log(`检测到GBK编码，进行转换`);\n          // 浏览器环境下使用TextDecoder\n          const decoder = new TextDecoder(encoding);\n          xmlData = decoder.decode(new Uint8Array(response.data));\n        } else {\n          xmlData = new TextDecoder('utf-8').decode(new Uint8Array(response.data));\n        }\n        if (xmlData && (xmlData.includes('<rss') || xmlData.includes('<feed') || xmlData.includes('<rdf:RDF'))) {\n          console.log(`成功获取52pojie RSS: ${rssUrl}`);\n\n          // 将GBK编码的XML转换为UTF-8\n          xmlData = xmlData.replace(/encoding=\"gbk\"/i, 'encoding=\"utf-8\"').replace(/encoding=\"gb2312\"/i, 'encoding=\"utf-8\"');\n          return {\n            success: true,\n            data: xmlData\n          };\n        } else {\n          console.log(`52pojie RSS源 ${rssUrl} 返回的不是有效的XML`);\n        }\n      } catch (error) {\n        console.error(`获取52pojie RSS源 ${rssUrl} 失败:`, error);\n      }\n    }\n\n    // 如果所有尝试都失败，返回一些静态内容\n    console.log('所有52pojie RSS源都失败，返回静态内容');\n    const staticContent = `\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <rss version=\"2.0\">\n      <channel>\n        <title>吾爱破解</title>\n        <link>https://www.52pojie.cn</link>\n        <description>吾爱破解论坛</description>\n        <item>\n          <title>吾爱破解RSS加载失败 - 请稍后再试</title>\n          <link>https://www.52pojie.cn</link>\n          <pubDate>${new Date().toUTCString()}</pubDate>\n          <description>由于网站限制，RSS加载失败。请稍后再试或直接访问吾爱破解网站。</description>\n        </item>\n      </channel>\n    </rss>`;\n    return {\n      success: true,\n      data: staticContent\n    };\n  }\n};\nconst News = () => {\n  _s();\n  // 状态\n  const [sources, setSources] = useState([]);\n  const [activeSource, setActiveSource] = useState(null);\n  const [newsItems, setNewsItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showSourcesModal, setShowSourcesModal] = useState(false);\n  const [editingSource, setEditingSource] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    url: '',\n    type: 'rss' // rss 或 html\n  });\n\n  // 初始化数据\n  useEffect(() => {\n    const savedSources = getFromStorage('homepage-news-sources', []);\n    setSources(savedSources);\n    if (savedSources.length > 0) {\n      setActiveSource(savedSources[0]);\n    }\n  }, []);\n\n  // 当活动源变化时，加载新闻\n  useEffect(() => {\n    if (activeSource) {\n      loadNews(activeSource);\n    }\n  }, [activeSource]);\n\n  // 加载新闻\n  const loadNews = async source => {\n    setLoading(true);\n    setError(null);\n    setNewsItems([]);\n    try {\n      if (source.type === 'rss') {\n        await loadRssNews(source);\n      } else {\n        await loadHtmlNews(source);\n      }\n    } catch (err) {\n      console.error('加载新闻失败:', err);\n      setError(`加载失败: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 加载RSS新闻\n  const loadRssNews = async source => {\n    let lastError = null;\n\n    // 首先尝试特殊网站处理\n    for (const domain in SPECIAL_SITE_HANDLERS) {\n      if (source.url.includes(domain)) {\n        console.log(`检测到特殊网站: ${domain}，使用特殊处理`);\n        try {\n          const result = await SPECIAL_SITE_HANDLERS[domain](source);\n          if (result.success) {\n            // 直接使用返回的数据，跳过代理\n            const xmlData = result.data;\n            try {\n              // 解析XML\n              let parsePromise = new Promise((resolve, reject) => {\n                xml2js.parseString(xmlData, {\n                  explicitArray: false,\n                  ignoreAttrs: true,\n                  trim: true,\n                  normalize: true,\n                  normalizeTags: true,\n                  mergeAttrs: true,\n                  explicitRoot: false\n                }, (err, result) => {\n                  if (err) {\n                    console.error('XML解析错误:', err);\n                    reject(new Error('解析RSS失败'));\n                    return;\n                  }\n                  resolve(result);\n                });\n              });\n              const parsedResult = await parsePromise;\n              processRssResult(parsedResult);\n              return; // 成功处理，直接返回\n            } catch (parseError) {\n              console.error(`解析特殊网站 ${domain} 的XML失败:`, parseError);\n              // 继续尝试其他方法\n            }\n          }\n        } catch (specialError) {\n          console.error(`特殊处理 ${domain} 失败:`, specialError);\n          // 继续使用常规方法\n        }\n      }\n    }\n\n    // 尝试所有代理服务器\n    for (const proxy of CORS_PROXIES) {\n      try {\n        console.log(`尝试使用代理: ${proxy} 加载: ${source.url}`);\n\n        // 检查是否是特殊网站\n        let targetUrl = source.url;\n        let headers = {\n          'Accept': 'application/rss+xml, application/xml, text/xml, */*',\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n        };\n\n        // 检查是否有特殊的RSS源映射\n        for (const sourceUrl in SPECIAL_RSS_SOURCES) {\n          if (source.url.includes(sourceUrl)) {\n            targetUrl = SPECIAL_RSS_SOURCES[sourceUrl];\n            console.log(`使用特殊RSS源映射: ${targetUrl}`);\n            break;\n          }\n        }\n\n        // 使用代理服务器解决跨域问题\n        const response = await axios.get(`${proxy}${encodeURIComponent(targetUrl)}`, {\n          headers\n        });\n        const xmlData = response.data;\n\n        // 如果返回的是HTML而不是XML，尝试提取RSS链接\n        if (typeof xmlData === 'string' && xmlData.includes('<!DOCTYPE html>')) {\n          console.log('返回了HTML而不是XML，尝试提取RSS链接');\n\n          // 创建一个临时的DOM元素来解析HTML\n          const parser = new DOMParser();\n          const doc = parser.parseFromString(xmlData, 'text/html');\n\n          // 尝试找到RSS链接\n          const rssLinks = Array.from(doc.querySelectorAll('link[type=\"application/rss+xml\"], link[type=\"application/atom+xml\"]'));\n          if (rssLinks.length > 0) {\n            const rssUrl = rssLinks[0].getAttribute('href');\n            console.log(`找到RSS链接: ${rssUrl}`);\n\n            // 处理相对URL\n            let absoluteRssUrl = rssUrl;\n            if (rssUrl.startsWith('/')) {\n              const urlObj = new URL(targetUrl);\n              absoluteRssUrl = `${urlObj.protocol}//${urlObj.host}${rssUrl}`;\n            }\n\n            // 递归调用，使用找到的RSS链接\n            const newSource = {\n              ...source,\n              url: absoluteRssUrl\n            };\n            return loadRssNews(newSource);\n          } else {\n            throw new Error('返回的是HTML而不是RSS，且未找到RSS链接');\n          }\n        }\n\n        // 解析XML\n        let parsePromise = new Promise((resolve, reject) => {\n          xml2js.parseString(xmlData, {\n            explicitArray: false,\n            ignoreAttrs: false,\n            trim: true,\n            normalize: true,\n            normalizeTags: false,\n            mergeAttrs: true,\n            explicitRoot: false\n          }, (err, result) => {\n            if (err) {\n              console.error('XML解析错误:', err);\n              reject(new Error('解析RSS失败'));\n              return;\n            }\n            resolve(result);\n          });\n        });\n        try {\n          const parsedResult = await parsePromise;\n          processRssResult(parsedResult);\n          return; // 成功处理，直接返回\n        } catch (parseError) {\n          console.error('XML解析失败:', parseError);\n          // 尝试使用更宽松的解析选项\n          try {\n            let fallbackParsePromise = new Promise((resolve, reject) => {\n              xml2js.parseString(xmlData, {\n                strict: false,\n                explicitArray: false,\n                ignoreAttrs: true,\n                trim: true\n              }, (err, result) => {\n                if (err) {\n                  reject(err);\n                  return;\n                }\n                resolve(result);\n              });\n            });\n            const fallbackResult = await fallbackParsePromise;\n            processRssResult(fallbackResult);\n            return; // 成功处理，直接返回\n          } catch (fallbackError) {\n            console.error('备用XML解析也失败:', fallbackError);\n            // 继续尝试其他代理\n          }\n        }\n      } catch (error) {\n        console.error(`使用代理 ${proxy} 加载失败:`, error);\n        lastError = error;\n        // 继续尝试下一个代理\n      }\n    }\n\n    // 所有代理都失败了\n    console.error('所有代理服务器都失败了');\n    throw lastError || new Error('加载RSS失败: 所有代理服务器都失败了');\n  };\n\n  // 处理RSS解析结果\n  const processRssResult = result => {\n    let items = [];\n    try {\n      // 处理不同的RSS格式\n      if (result.rss && result.rss.channel && result.rss.channel[0].item) {\n        // 标准RSS 2.0\n        items = result.rss.channel[0].item.map(item => {\n          try {\n            return {\n              title: item.title ? typeof item.title[0] === 'string' ? item.title[0] : item.title[0] && item.title[0]._ ? item.title[0]._ : '无标题' : '无标题',\n              link: item.link ? typeof item.link[0] === 'string' ? item.link[0] : item.link[0] && item.link[0]._ ? item.link[0]._ : '#' : '#',\n              date: item.pubDate ? new Date(item.pubDate[0]) : new Date(),\n              description: item.description ? typeof item.description[0] === 'string' ? item.description[0] : item.description[0] && item.description[0]._ ? item.description[0]._ : '' : ''\n            };\n          } catch (itemError) {\n            console.error('处理RSS项目时出错:', itemError);\n            return {\n              title: '解析错误',\n              link: '#',\n              date: new Date(),\n              description: '无法解析此项目'\n            };\n          }\n        });\n      } else if (result.feed && result.feed.entry) {\n        // Atom格式\n        items = result.feed.entry.map(entry => {\n          // 处理链接\n          let link = '#';\n          if (entry.link) {\n            if (Array.isArray(entry.link)) {\n              const linkObj = entry.link.find(l => l.$ && (l.$.rel === 'alternate' || !l.$.rel));\n              if (linkObj && linkObj.$ && linkObj.$.href) {\n                link = linkObj.$.href;\n              } else if (entry.link[0] && entry.link[0].$ && entry.link[0].$.href) {\n                link = entry.link[0].$.href;\n              }\n            } else if (typeof entry.link === 'string') {\n              link = entry.link;\n            }\n          }\n\n          // 处理标题\n          let title = '无标题';\n          if (entry.title) {\n            if (typeof entry.title[0] === 'string') {\n              title = entry.title[0];\n            } else if (entry.title[0] && entry.title[0]._) {\n              title = entry.title[0]._;\n            } else if (typeof entry.title === 'string') {\n              title = entry.title;\n            }\n          }\n\n          // 处理日期\n          let date = new Date();\n          if (entry.updated) {\n            date = new Date(typeof entry.updated[0] === 'string' ? entry.updated[0] : entry.updated);\n          } else if (entry.published) {\n            date = new Date(typeof entry.published[0] === 'string' ? entry.published[0] : entry.published);\n          }\n\n          // 处理描述\n          let description = '';\n          if (entry.summary) {\n            description = typeof entry.summary[0] === 'string' ? entry.summary[0] : entry.summary[0] && entry.summary[0]._ ? entry.summary[0]._ : '';\n          } else if (entry.content) {\n            description = typeof entry.content[0] === 'string' ? entry.content[0] : entry.content[0] && entry.content[0]._ ? entry.content[0]._ : '';\n          }\n          return {\n            title,\n            link,\n            date,\n            description\n          };\n        });\n      } else if (result['rdf:RDF']) {\n        // RDF格式\n        const rdfItems = result['rdf:RDF'].item || result['rdf:RDF'].channel && result['rdf:RDF'].channel[0] && result['rdf:RDF'].channel[0].item;\n        if (rdfItems) {\n          items = rdfItems.map(item => ({\n            title: item.title ? typeof item.title[0] === 'string' ? item.title[0] : item.title[0]._ : '无标题',\n            link: item.link ? typeof item.link[0] === 'string' ? item.link[0] : item.link[0]._ : '#',\n            date: item['dc:date'] ? new Date(item['dc:date'][0]) : new Date(),\n            description: item.description ? typeof item.description[0] === 'string' ? item.description[0] : item.description[0]._ : ''\n          }));\n        }\n      } else {\n        // 尝试遍历结果找到可能的项目\n        const findItems = (obj, depth = 0) => {\n          if (!obj || typeof obj !== 'object' || depth > 5) return null;\n\n          // 直接查找item或entry数组\n          if (obj.item && Array.isArray(obj.item)) {\n            return obj.item.map(item => ({\n              title: extractTextContent(item.title) || '无标题',\n              link: extractTextContent(item.link) || '#',\n              date: item.pubDate ? new Date(extractTextContent(item.pubDate)) : new Date(),\n              description: extractTextContent(item.description) || ''\n            }));\n          }\n          if (obj.entry && Array.isArray(obj.entry)) {\n            return obj.entry.map(entry => ({\n              title: extractTextContent(entry.title) || '无标题',\n              link: extractLinkFromEntry(entry) || '#',\n              date: entry.updated ? new Date(extractTextContent(entry.updated)) : new Date(),\n              description: extractTextContent(entry.summary || entry.content) || ''\n            }));\n          }\n\n          // 递归查找\n          for (const key in obj) {\n            if (typeof obj[key] === 'object' && obj[key] !== null) {\n              const found = findItems(obj[key], depth + 1);\n              if (found && found.length > 0) return found;\n            }\n          }\n          return null;\n        };\n\n        // 辅助函数：从各种可能的格式中提取文本内容\n        const extractTextContent = value => {\n          if (!value) return '';\n          if (typeof value === 'string') return value;\n          if (Array.isArray(value)) {\n            if (value.length === 0) return '';\n            if (typeof value[0] === 'string') return value[0];\n            if (value[0] && value[0]._) return value[0]._;\n            if (value[0] && typeof value[0] === 'object') {\n              for (const key in value[0]) {\n                if (typeof value[0][key] === 'string') return value[0][key];\n              }\n            }\n          }\n          return '';\n        };\n\n        // 辅助函数：从entry对象中提取链接\n        const extractLinkFromEntry = entry => {\n          if (!entry.link) return '';\n          if (typeof entry.link === 'string') return entry.link;\n          if (Array.isArray(entry.link)) {\n            for (const link of entry.link) {\n              if (typeof link === 'string') return link;\n              if (link.$ && link.$.href) return link.$.href;\n            }\n          }\n          return '';\n        };\n        const foundItems = findItems(result);\n        if (foundItems && foundItems.length > 0) {\n          items = foundItems;\n        } else {\n          console.error('未找到支持的RSS格式:', result);\n          throw new Error('不支持的RSS格式');\n        }\n      }\n\n      // 成功获取到新闻项，设置状态\n      setNewsItems(items);\n    } catch (parseError) {\n      console.error('RSS内容解析错误:', parseError, result);\n      throw new Error('RSS内容解析失败');\n    }\n  };\n\n  // 加载HTML新闻\n  const loadHtmlNews = async source => {\n    try {\n      // 尝试所有代理服务器\n      for (const proxy of CORS_PROXIES) {\n        try {\n          console.log(`尝试使用代理: ${proxy} 加载HTML: ${source.url}`);\n          const response = await axios.get(`${proxy}${encodeURIComponent(source.url)}`);\n          const htmlData = response.data;\n          if (htmlData) {\n            // 创建一个临时的DOM元素来解析HTML\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(htmlData, 'text/html');\n\n            // 尝试找到新闻标题\n            // 这里使用一些常见的选择器，可能需要根据具体网站调整\n            const headings = Array.from(doc.querySelectorAll('h1, h2, h3, .title, .headline, article header'));\n            const items = headings.map(heading => {\n              // 尝试找到链接\n              let link = '#';\n              const linkElement = heading.querySelector('a') || heading.closest('a');\n              if (linkElement && linkElement.href) {\n                // 处理相对URL\n                if (linkElement.href.startsWith('/')) {\n                  const url = new URL(source.url);\n                  link = `${url.protocol}//${url.host}${linkElement.href}`;\n                } else {\n                  link = linkElement.href;\n                }\n              }\n              return {\n                title: heading.textContent.trim(),\n                link,\n                date: new Date(),\n                description: ''\n              };\n            }).filter(item => item.title); // 过滤掉空标题\n\n            if (items.length > 0) {\n              setNewsItems(items);\n              return; // 成功处理，直接返回\n            }\n          }\n        } catch (proxyError) {\n          console.error(`使用代理 ${proxy} 加载HTML失败:`, proxyError);\n          // 继续尝试下一个代理\n        }\n      }\n\n      // 所有代理都失败了\n      throw new Error('所有代理服务器都失败了');\n    } catch (error) {\n      console.error('加载HTML失败:', error);\n      throw new Error('加载HTML失败');\n    }\n  };\n\n  // 打开添加源模态框\n  const openAddSourceModal = () => {\n    setEditingSource(null);\n    setFormData({\n      name: '',\n      url: '',\n      type: 'rss'\n    });\n    setShowModal(true);\n  };\n\n  // 打开编辑源模态框\n  const openEditSourceModal = source => {\n    setEditingSource(source);\n    setFormData({\n      name: source.name,\n      url: source.url,\n      type: source.type\n    });\n    setShowModal(true);\n  };\n\n  // 关闭模态框\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingSource(null);\n  };\n\n  // 打开源列表模态框\n  const openSourcesModal = () => {\n    setShowSourcesModal(true);\n  };\n\n  // 关闭源列表模态框\n  const closeSourcesModal = () => {\n    setShowSourcesModal(false);\n  };\n\n  // 处理表单输入变化\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // 保存源\n  const saveSource = () => {\n    if (!formData.name.trim() || !formData.url.trim()) {\n      alert('请填写完整信息');\n      return;\n    }\n    const newSource = {\n      id: editingSource ? editingSource.id : Date.now(),\n      name: formData.name.trim(),\n      url: formData.url.trim(),\n      type: formData.type\n    };\n    let updatedSources;\n    if (editingSource) {\n      // 编辑现有源\n      updatedSources = sources.map(source => source.id === editingSource.id ? newSource : source);\n    } else {\n      // 添加新源\n      updatedSources = [...sources, newSource];\n    }\n    setSources(updatedSources);\n    saveToStorage('homepage-news-sources', updatedSources);\n\n    // 如果是第一个源，或者是新添加的源，自动设为活动源\n    if (sources.length === 0 || !editingSource) {\n      setActiveSource(newSource);\n    }\n\n    // 关闭所有模态框\n    closeModal();\n    closeSourcesModal();\n  };\n\n  // 删除源\n  const deleteSource = id => {\n    if (window.confirm('确定要删除这个新闻源吗？')) {\n      const updatedSources = sources.filter(source => source.id !== id);\n      setSources(updatedSources);\n      saveToStorage('homepage-news-sources', updatedSources);\n\n      // 如果删除的是当前活动源，切换到第一个源\n      if (activeSource && activeSource.id === id) {\n        if (updatedSources.length > 0) {\n          setActiveSource(updatedSources[0]);\n        } else {\n          setActiveSource(null);\n          setNewsItems([]);\n        }\n      }\n\n      // 如果是在源列表模态框中删除，不关闭模态框\n      if (!showSourcesModal) {\n        closeModal();\n      }\n    }\n  };\n\n  // 返回主页\n  const goBack = () => {\n    window.history.back();\n  };\n  return /*#__PURE__*/_jsxDEV(NewsContainer, {\n    children: [/*#__PURE__*/_jsxDEV(NewsHeader, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(BackButton, {\n          onClick: goBack,\n          title: \"\\u8FD4\\u56DE\",\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HeaderTitle, {\n          children: \"\\u65B0\\u95FB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1099,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SourcesContainer, {\n      children: [sources.map(source => /*#__PURE__*/_jsxDEV(SourceButton, {\n        active: activeSource && activeSource.id === source.id,\n        onClick: () => setActiveSource(source),\n        children: [source.type === 'rss' ? /*#__PURE__*/_jsxDEV(RssFeedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 38\n        }, this) : /*#__PURE__*/_jsxDEV(LinkIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 56\n        }, this), source.name]\n      }, source.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1110,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(AddSourceButton, {\n        onClick: openSourcesModal,\n        children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 11\n        }, this), \"\\u7BA1\\u7406\\u6E90\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewsContent, {\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingState, {\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1128,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorState, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1130,\n        columnNumber: 11\n      }, this) : newsItems.length > 0 ? /*#__PURE__*/_jsxDEV(NewsList, {\n        children: newsItems.map((item, index) => /*#__PURE__*/_jsxDEV(NewsItem, {\n          href: item.link,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: [/*#__PURE__*/_jsxDEV(NewsTitle, {\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 17\n          }, this), item.date && /*#__PURE__*/_jsxDEV(NewsDate, {\n            children: item.date.toLocaleDateString('zh-CN', {\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1132,\n        columnNumber: 11\n      }, this) : activeSource ? /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u6CA1\\u6709\\u627E\\u5230\\u65B0\\u95FB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8BF7\\u6DFB\\u52A0\\u65B0\\u95FB\\u6E90\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1154,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1126,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: editingSource ? '编辑新闻源' : '添加新闻源'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n            onClick: closeModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\u540D\\u79F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleInputChange,\n            placeholder: \"\\u65B0\\u95FB\\u6E90\\u540D\\u79F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"\\u7C7B\\u578B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"type\",\n            value: formData.type,\n            onChange: handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rss\",\n              children: \"RSS \\u8BA2\\u9605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"html\",\n              children: \"\\u7F51\\u9875\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"url\",\n            value: formData.url,\n            onChange: handleInputChange,\n            placeholder: formData.type === 'rss' ? 'RSS 订阅地址' : '网页地址'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: [editingSource && /*#__PURE__*/_jsxDEV(Button, {\n            className: \"danger\",\n            onClick: () => deleteSource(editingSource.id),\n            children: \"\\u5220\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"secondary\",\n            onClick: closeModal,\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"primary\",\n            onClick: saveSource,\n            children: \"\\u4FDD\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1162,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1161,\n      columnNumber: 9\n    }, this), showSourcesModal && /*#__PURE__*/_jsxDEV(Modal, {\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: \"\\u7BA1\\u7406\\u65B0\\u95FB\\u6E90\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n            onClick: closeSourcesModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"primary\",\n          onClick: openAddSourceModal,\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1228,\n            columnNumber: 15\n          }, this), \" \\u6DFB\\u52A0\\u65B0\\u95FB\\u6E90\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SourcesList, {\n          children: [sources.map(source => /*#__PURE__*/_jsxDEV(SourceItem, {\n            type: source.type,\n            children: [/*#__PURE__*/_jsxDEV(SourceInfo, {\n              children: [source.type === 'rss' ? /*#__PURE__*/_jsxDEV(RssFeedIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 46\n              }, this) : /*#__PURE__*/_jsxDEV(LinkIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 64\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(SourceName, {\n                  children: source.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1237,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(SourceUrl, {\n                  children: source.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1238,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(SourceActions, {\n              children: [/*#__PURE__*/_jsxDEV(ActionIconButton, {\n                onClick: () => openEditSourceModal(source),\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1243,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ActionIconButton, {\n                className: \"delete\",\n                onClick: () => deleteSource(source.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1249,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 19\n            }, this)]\n          }, source.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 17\n          }, this)), sources.length === 0 && /*#__PURE__*/_jsxDEV(EmptyState, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u6682\\u65E0\\u65B0\\u95FB\\u6E90\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1256,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"secondary\",\n            onClick: closeSourcesModal,\n            children: \"\\u5173\\u95ED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1220,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1098,\n    columnNumber: 5\n  }, this);\n};\n_s(News, \"Y2HZdf0OF6gjeSMqFGAWoPUEoc4=\");\n_c32 = News;\nexport default News;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32;\n$RefreshReg$(_c, \"NewsContainer\");\n$RefreshReg$(_c2, \"NewsHeader\");\n$RefreshReg$(_c3, \"HeaderTitle\");\n$RefreshReg$(_c4, \"BackButton\");\n$RefreshReg$(_c5, \"SourcesContainer\");\n$RefreshReg$(_c6, \"SourceButton\");\n$RefreshReg$(_c7, \"AddSourceButton\");\n$RefreshReg$(_c8, \"NewsContent\");\n$RefreshReg$(_c9, \"NewsList\");\n$RefreshReg$(_c0, \"NewsItem\");\n$RefreshReg$(_c1, \"NewsTitle\");\n$RefreshReg$(_c10, \"NewsDate\");\n$RefreshReg$(_c11, \"LoadingState\");\n$RefreshReg$(_c12, \"ErrorState\");\n$RefreshReg$(_c13, \"EmptyState\");\n$RefreshReg$(_c14, \"Modal\");\n$RefreshReg$(_c15, \"ModalContent\");\n$RefreshReg$(_c16, \"ModalHeader\");\n$RefreshReg$(_c17, \"ModalTitle\");\n$RefreshReg$(_c18, \"CloseButton\");\n$RefreshReg$(_c19, \"FormGroup\");\n$RefreshReg$(_c20, \"Label\");\n$RefreshReg$(_c21, \"Input\");\n$RefreshReg$(_c22, \"Select\");\n$RefreshReg$(_c23, \"ButtonGroup\");\n$RefreshReg$(_c24, \"Button\");\n$RefreshReg$(_c25, \"SourcesList\");\n$RefreshReg$(_c26, \"SourceItem\");\n$RefreshReg$(_c27, \"SourceInfo\");\n$RefreshReg$(_c28, \"SourceName\");\n$RefreshReg$(_c29, \"SourceUrl\");\n$RefreshReg$(_c30, \"SourceActions\");\n$RefreshReg$(_c31, \"ActionIconButton\");\n$RefreshReg$(_c32, \"News\");","map":{"version":3,"names":["React","useState","useEffect","styled","saveToStorage","getFromStorage","axios","xml2js","AddIcon","EditIcon","DeleteIcon","ArrowBackIcon","RssFeedIcon","LinkIcon","jsxDEV","_jsxDEV","NewsContainer","div","_c","NewsHeader","_c2","HeaderTitle","h2","_c3","BackButton","button","_c4","SourcesContainer","_c5","SourceButton","props","active","_c6","AddSourceButton","_c7","NewsContent","_c8","NewsList","_c9","NewsItem","a","_c0","NewsTitle","h3","_c1","NewsDate","_c10","LoadingState","_c11","ErrorState","_c12","EmptyState","_c13","Modal","_c14","ModalContent","_c15","ModalHeader","_c16","ModalTitle","_c17","CloseButton","_c18","FormGroup","_c19","Label","label","_c20","Input","input","_c21","Select","select","_c22","ButtonGroup","_c23","Button","_c24","SourcesList","_c25","SourceItem","type","_c26","SourceInfo","_c27","SourceName","_c28","SourceUrl","_c29","SourceActions","_c30","ActionIconButton","_c31","CORS_PROXIES","SPECIAL_RSS_SOURCES","SPECIAL_SITE_HANDLERS","source","zhihuRssSources","console","log","rssUrl","response","fetch","headers","ok","status","xmlData","text","includes","success","data","error","staticContent","Date","toUTCString","pojieRssSources","get","responseType","encoding","contentType","buffer","Buffer","from","str","toString","substring","toLowerCase","decoder","TextDecoder","decode","Uint8Array","replace","News","_s","sources","setSources","activeSource","setActiveSource","newsItems","setNewsItems","loading","setLoading","setError","showModal","setShowModal","showSourcesModal","setShowSourcesModal","editingSource","setEditingSource","formData","setFormData","name","url","savedSources","length","loadNews","loadRssNews","loadHtmlNews","err","message","lastError","domain","result","parsePromise","Promise","resolve","reject","parseString","explicitArray","ignoreAttrs","trim","normalize","normalizeTags","mergeAttrs","explicitRoot","Error","parsedResult","processRssResult","parseError","specialError","proxy","targetUrl","sourceUrl","encodeURIComponent","parser","DOMParser","doc","parseFromString","rssLinks","Array","querySelectorAll","getAttribute","absoluteRssUrl","startsWith","urlObj","URL","protocol","host","newSource","fallbackParsePromise","strict","fallbackResult","fallbackError","items","rss","channel","item","map","title","_","link","date","pubDate","description","itemError","feed","entry","isArray","linkObj","find","l","$","rel","href","updated","published","summary","content","rdfItems","findItems","obj","depth","extractTextContent","extractLinkFromEntry","key","found","value","foundItems","htmlData","headings","heading","linkElement","querySelector","closest","textContent","filter","proxyError","openAddSourceModal","openEditSourceModal","closeModal","openSourcesModal","closeSourcesModal","handleInputChange","e","target","prev","saveSource","alert","id","now","updatedSources","deleteSource","window","confirm","goBack","history","back","children","style","display","alignItems","onClick","fileName","_jsxFileName","lineNumber","columnNumber","index","toLocaleDateString","year","month","day","onChange","placeholder","className","width","fontSize","_c32","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/modules/News/News.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { saveToStorage, getFromStorage } from '../../utils/storage';\r\nimport axios from 'axios';\r\nimport xml2js from 'xml2js';\r\n\r\n// 图标导入\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport RssFeedIcon from '@mui/icons-material/RssFeed';\r\nimport LinkIcon from '@mui/icons-material/Link';\r\n\r\nconst NewsContainer = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst NewsHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 20px;\r\n  background-color: var(--card-background);\r\n  box-shadow: 0 2px 5px var(--shadow-color);\r\n`;\r\n\r\nconst HeaderTitle = styled.h2`\r\n  margin: 0;\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  margin-right: 15px;\r\n  \r\n  &:hover {\r\n    background-color: #3a7bc8;\r\n  }\r\n`;\r\n\r\nconst SourcesContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow-x: auto;\r\n  padding: 10px 20px;\r\n  background-color: var(--background-color);\r\n  border-bottom: 1px solid var(--border-color);\r\n  \r\n  &::-webkit-scrollbar {\r\n    height: 4px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: var(--background-color);\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: var(--border-color);\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\nconst SourceButton = styled.button`\r\n  background-color: ${props => props.active ? 'var(--primary-color)' : 'var(--card-background)'};\r\n  color: ${props => props.active ? 'white' : 'var(--text-color)'};\r\n  border: none;\r\n  border-radius: 20px;\r\n  padding: 8px 15px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--primary-color)' : 'rgba(0, 0, 0, 0.05)'};\r\n  }\r\n  \r\n  svg {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nconst AddSourceButton = styled.button`\r\n  background-color: var(--card-background);\r\n  color: var(--primary-color);\r\n  border: 1px dashed var(--primary-color);\r\n  border-radius: 20px;\r\n  padding: 8px 15px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  \r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n  }\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst NewsList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n`;\r\n\r\nconst NewsItem = styled.a`\r\n  display: block;\r\n  padding: 15px;\r\n  background-color: var(--card-background);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 5px var(--shadow-color);\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: var(--text-color);\r\n  transition: all var(--transition-speed);\r\n  \r\n  &:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 5px 15px var(--shadow-color);\r\n  }\r\n  \r\n  &:visited {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\n\r\nconst NewsTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst NewsDate = styled.div`\r\n  font-size: 12px;\r\n  color: var(--text-secondary-color);\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst LoadingState = styled.div`\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst ErrorState = styled.div`\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: var(--text-color);\r\n  color: #e53935;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: var(--text-color);\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst Modal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background-color: var(--background-color);\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 4px;\r\n  background-color: var(--background-color);\r\n  color: var(--text-color);\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  \r\n  &.primary {\r\n    background-color: var(--primary-color);\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background-color: #3a7bc8;\r\n    }\r\n  }\r\n  \r\n  &.secondary {\r\n    background-color: var(--card-background);\r\n    color: var(--text-color);\r\n    border: 1px solid var(--border-color);\r\n    \r\n    &:hover {\r\n      background-color: rgba(0, 0, 0, 0.05);\r\n    }\r\n  }\r\n  \r\n  &.danger {\r\n    background-color: #e53935;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background-color: #c62828;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SourcesList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst SourceItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  background-color: var(--card-background);\r\n  border-radius: 4px;\r\n  border-left: 3px solid ${props => props.type === 'rss' ? '#ff9800' : '#2196f3'};\r\n`;\r\n\r\nconst SourceInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst SourceName = styled.div`\r\n  font-weight: 500;\r\n`;\r\n\r\nconst SourceUrl = styled.div`\r\n  font-size: 12px;\r\n  color: var(--text-secondary-color);\r\n  word-break: break-all;\r\n`;\r\n\r\nconst SourceActions = styled.div`\r\n  display: flex;\r\n  gap: 5px;\r\n`;\r\n\r\nconst ActionIconButton = styled.button`\r\n  background-color: transparent;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  color: var(--text-secondary-color);\r\n  \r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n    color: var(--primary-color);\r\n  }\r\n  \r\n  &.delete:hover {\r\n    color: #e53935;\r\n  }\r\n`;\r\n\r\n// 代理服务器URL，用于解决跨域问题\r\n// 提供多个代理服务器，如果一个失败可以尝试另一个\r\nconst CORS_PROXIES = [\r\n  'https://corsproxy.io/?',\r\n  'https://api.allorigins.win/raw?url=',\r\n  'https://cors-anywhere.herokuapp.com/',\r\n  'https://crossorigin.me/'\r\n];\r\n\r\n// 特殊网站的RSS源映射\r\nconst SPECIAL_RSS_SOURCES = {\r\n  // 知乎\r\n  'www.zhihu.com/rss': 'https://www.zhihu.com/rss',\r\n  'zhihu.com/rss': 'https://www.zhihu.com/rss',\r\n  // 可以添加更多特殊网站的映射\r\n  '52pojie.cn': 'https://www.52pojie.cn/forum.php?mod=guide&view=newthread&rss=1'\r\n};\r\n\r\n// 特殊网站的处理函数\r\nconst SPECIAL_SITE_HANDLERS = {\r\n  // 知乎处理函数\r\n  'zhihu.com': async (source) => {\r\n    // 知乎不提供官方RSS，我们可以使用第三方服务\r\n    // 尝试多个可能的RSS源\r\n    const zhihuRssSources = [\r\n      'https://rsshub.app/zhihu/daily',\r\n      'https://rsshub.app/zhihu/hotlist',\r\n      'https://www.zhihu.com/rss',\r\n      'https://rsshub.app/zhihu/people/activities/zhang-jia-wei'\r\n    ];\r\n    \r\n    console.log('尝试获取知乎RSS');\r\n    \r\n    // 尝试每个RSS源\r\n    for (const rssUrl of zhihuRssSources) {\r\n      try {\r\n        console.log(`尝试知乎RSS源: ${rssUrl}`);\r\n        const response = await fetch(rssUrl, {\r\n          headers: {\r\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          console.log(`知乎RSS源 ${rssUrl} 返回状态码: ${response.status}`);\r\n          continue;\r\n        }\r\n        \r\n        const xmlData = await response.text();\r\n        if (xmlData && (xmlData.includes('<rss') || xmlData.includes('<feed') || xmlData.includes('<rdf:RDF'))) {\r\n          console.log(`成功获取知乎RSS: ${rssUrl}`);\r\n          return { success: true, data: xmlData };\r\n        } else {\r\n          console.log(`知乎RSS源 ${rssUrl} 返回的不是有效的XML`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`获取知乎RSS源 ${rssUrl} 失败:`, error);\r\n      }\r\n    }\r\n    \r\n    // 如果所有尝试都失败，返回一些静态内容\r\n    console.log('所有知乎RSS源都失败，返回静态内容');\r\n    const staticContent = `\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <rss version=\"2.0\">\r\n      <channel>\r\n        <title>知乎热门</title>\r\n        <link>https://www.zhihu.com</link>\r\n        <description>知乎热门内容</description>\r\n        <item>\r\n          <title>知乎RSS加载失败 - 请稍后再试</title>\r\n          <link>https://www.zhihu.com</link>\r\n          <pubDate>${new Date().toUTCString()}</pubDate>\r\n          <description>由于知乎限制，RSS加载失败。请稍后再试或直接访问知乎网站。</description>\r\n        </item>\r\n      </channel>\r\n    </rss>`;\r\n    return { success: true, data: staticContent };\r\n  },\r\n  \r\n  // 52pojie处理函数\r\n  '52pojie.cn': async (source) => {\r\n    // 尝试多个可能的RSS源\r\n    const pojieRssSources = [\r\n      'https://rsshub.app/52pojie/index',\r\n      'https://rsshub.app/52pojie/forum/16',\r\n      'https://www.52pojie.cn/forum.php?mod=guide&view=newthread&rss=1'\r\n    ];\r\n    \r\n    console.log('尝试获取52pojie RSS');\r\n    \r\n    // 尝试每个RSS源\r\n    for (const rssUrl of pojieRssSources) {\r\n      try {\r\n        console.log(`尝试52pojie RSS源: ${rssUrl}`);\r\n        \r\n        // 使用axios获取二进制数据以处理GBK编码\r\n        const response = await axios.get(rssUrl, {\r\n          headers: {\r\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\r\n            'Referer': 'https://www.52pojie.cn/'\r\n          },\r\n          responseType: 'arraybuffer'  // 获取二进制数据\r\n        });\r\n        \r\n        if (response.status !== 200) {\r\n          console.log(`52pojie RSS源 ${rssUrl} 返回状态码: ${response.status}`);\r\n          continue;\r\n        }\r\n        \r\n        // 检测编码并转换\r\n        let encoding = 'utf-8';\r\n        const contentType = response.headers['content-type'] || '';\r\n        if (contentType.includes('charset=gbk') || contentType.includes('charset=gb2312')) {\r\n          encoding = 'gbk';\r\n        } else {\r\n          // 尝试从内容中检测编码\r\n          const buffer = Buffer.from(response.data);\r\n          const str = buffer.toString().substring(0, 1000);\r\n          if (str.includes('encoding=\"gbk\"') || str.includes('encoding=\"gb2312\"')) {\r\n            encoding = 'gbk';\r\n          }\r\n        }\r\n        \r\n        // 使用TextDecoder转换编码\r\n        let xmlData;\r\n        if (encoding.toLowerCase() === 'gbk' || encoding.toLowerCase() === 'gb2312') {\r\n          console.log(`检测到GBK编码，进行转换`);\r\n          // 浏览器环境下使用TextDecoder\r\n          const decoder = new TextDecoder(encoding);\r\n          xmlData = decoder.decode(new Uint8Array(response.data));\r\n        } else {\r\n          xmlData = new TextDecoder('utf-8').decode(new Uint8Array(response.data));\r\n        }\r\n        \r\n        if (xmlData && (xmlData.includes('<rss') || xmlData.includes('<feed') || xmlData.includes('<rdf:RDF'))) {\r\n          console.log(`成功获取52pojie RSS: ${rssUrl}`);\r\n          \r\n          // 将GBK编码的XML转换为UTF-8\r\n          xmlData = xmlData.replace(/encoding=\"gbk\"/i, 'encoding=\"utf-8\"')\r\n                          .replace(/encoding=\"gb2312\"/i, 'encoding=\"utf-8\"');\r\n          \r\n          return { success: true, data: xmlData };\r\n        } else {\r\n          console.log(`52pojie RSS源 ${rssUrl} 返回的不是有效的XML`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`获取52pojie RSS源 ${rssUrl} 失败:`, error);\r\n      }\r\n    }\r\n    \r\n    // 如果所有尝试都失败，返回一些静态内容\r\n    console.log('所有52pojie RSS源都失败，返回静态内容');\r\n    const staticContent = `\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <rss version=\"2.0\">\r\n      <channel>\r\n        <title>吾爱破解</title>\r\n        <link>https://www.52pojie.cn</link>\r\n        <description>吾爱破解论坛</description>\r\n        <item>\r\n          <title>吾爱破解RSS加载失败 - 请稍后再试</title>\r\n          <link>https://www.52pojie.cn</link>\r\n          <pubDate>${new Date().toUTCString()}</pubDate>\r\n          <description>由于网站限制，RSS加载失败。请稍后再试或直接访问吾爱破解网站。</description>\r\n        </item>\r\n      </channel>\r\n    </rss>`;\r\n    return { success: true, data: staticContent };\r\n  }\r\n};\r\n\r\nconst News = () => {\r\n  // 状态\r\n  const [sources, setSources] = useState([]);\r\n  const [activeSource, setActiveSource] = useState(null);\r\n  const [newsItems, setNewsItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showSourcesModal, setShowSourcesModal] = useState(false);\r\n  const [editingSource, setEditingSource] = useState(null);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    url: '',\r\n    type: 'rss' // rss 或 html\r\n  });\r\n  \r\n  // 初始化数据\r\n  useEffect(() => {\r\n    const savedSources = getFromStorage('homepage-news-sources', []);\r\n    setSources(savedSources);\r\n    \r\n    if (savedSources.length > 0) {\r\n      setActiveSource(savedSources[0]);\r\n    }\r\n  }, []);\r\n  \r\n  // 当活动源变化时，加载新闻\r\n  useEffect(() => {\r\n    if (activeSource) {\r\n      loadNews(activeSource);\r\n    }\r\n  }, [activeSource]);\r\n  \r\n  // 加载新闻\r\n  const loadNews = async (source) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setNewsItems([]);\r\n    \r\n    try {\r\n      if (source.type === 'rss') {\r\n        await loadRssNews(source);\r\n      } else {\r\n        await loadHtmlNews(source);\r\n      }\r\n    } catch (err) {\r\n      console.error('加载新闻失败:', err);\r\n      setError(`加载失败: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // 加载RSS新闻\r\n  const loadRssNews = async (source) => {\r\n    let lastError = null;\r\n    \r\n    // 首先尝试特殊网站处理\r\n    for (const domain in SPECIAL_SITE_HANDLERS) {\r\n      if (source.url.includes(domain)) {\r\n        console.log(`检测到特殊网站: ${domain}，使用特殊处理`);\r\n        try {\r\n          const result = await SPECIAL_SITE_HANDLERS[domain](source);\r\n          if (result.success) {\r\n            // 直接使用返回的数据，跳过代理\r\n            const xmlData = result.data;\r\n            \r\n            try {\r\n              // 解析XML\r\n              let parsePromise = new Promise((resolve, reject) => {\r\n                xml2js.parseString(xmlData, { \r\n                  explicitArray: false,\r\n                  ignoreAttrs: true,\r\n                  trim: true,\r\n                  normalize: true,\r\n                  normalizeTags: true,\r\n                  mergeAttrs: true,\r\n                  explicitRoot: false\r\n                }, (err, result) => {\r\n                  if (err) {\r\n                    console.error('XML解析错误:', err);\r\n                    reject(new Error('解析RSS失败'));\r\n                    return;\r\n                  }\r\n                  resolve(result);\r\n                });\r\n              });\r\n              \r\n              const parsedResult = await parsePromise;\r\n              processRssResult(parsedResult);\r\n              return; // 成功处理，直接返回\r\n            } catch (parseError) {\r\n              console.error(`解析特殊网站 ${domain} 的XML失败:`, parseError);\r\n              // 继续尝试其他方法\r\n            }\r\n          }\r\n        } catch (specialError) {\r\n          console.error(`特殊处理 ${domain} 失败:`, specialError);\r\n          // 继续使用常规方法\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 尝试所有代理服务器\r\n    for (const proxy of CORS_PROXIES) {\r\n      try {\r\n        console.log(`尝试使用代理: ${proxy} 加载: ${source.url}`);\r\n        \r\n        // 检查是否是特殊网站\r\n        let targetUrl = source.url;\r\n        let headers = {\r\n          'Accept': 'application/rss+xml, application/xml, text/xml, */*',\r\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\r\n        };\r\n        \r\n        // 检查是否有特殊的RSS源映射\r\n        for (const sourceUrl in SPECIAL_RSS_SOURCES) {\r\n          if (source.url.includes(sourceUrl)) {\r\n            targetUrl = SPECIAL_RSS_SOURCES[sourceUrl];\r\n            console.log(`使用特殊RSS源映射: ${targetUrl}`);\r\n            break;\r\n          }\r\n        }\r\n        \r\n        // 使用代理服务器解决跨域问题\r\n        const response = await axios.get(`${proxy}${encodeURIComponent(targetUrl)}`, { headers });\r\n        const xmlData = response.data;\r\n        \r\n        // 如果返回的是HTML而不是XML，尝试提取RSS链接\r\n        if (typeof xmlData === 'string' && xmlData.includes('<!DOCTYPE html>')) {\r\n          console.log('返回了HTML而不是XML，尝试提取RSS链接');\r\n          \r\n          // 创建一个临时的DOM元素来解析HTML\r\n          const parser = new DOMParser();\r\n          const doc = parser.parseFromString(xmlData, 'text/html');\r\n          \r\n          // 尝试找到RSS链接\r\n          const rssLinks = Array.from(doc.querySelectorAll('link[type=\"application/rss+xml\"], link[type=\"application/atom+xml\"]'));\r\n          \r\n          if (rssLinks.length > 0) {\r\n            const rssUrl = rssLinks[0].getAttribute('href');\r\n            console.log(`找到RSS链接: ${rssUrl}`);\r\n            \r\n            // 处理相对URL\r\n            let absoluteRssUrl = rssUrl;\r\n            if (rssUrl.startsWith('/')) {\r\n              const urlObj = new URL(targetUrl);\r\n              absoluteRssUrl = `${urlObj.protocol}//${urlObj.host}${rssUrl}`;\r\n            }\r\n            \r\n            // 递归调用，使用找到的RSS链接\r\n            const newSource = { ...source, url: absoluteRssUrl };\r\n            return loadRssNews(newSource);\r\n          } else {\r\n            throw new Error('返回的是HTML而不是RSS，且未找到RSS链接');\r\n          }\r\n        }\r\n        \r\n                // 解析XML\r\n                let parsePromise = new Promise((resolve, reject) => {\r\n                  xml2js.parseString(xmlData, { \r\n                    explicitArray: false,\r\n                    ignoreAttrs: false,\r\n                    trim: true,\r\n                    normalize: true,\r\n                    normalizeTags: false,\r\n                    mergeAttrs: true,\r\n                    explicitRoot: false\r\n                  }, (err, result) => {\r\n                    if (err) {\r\n                      console.error('XML解析错误:', err);\r\n                      reject(new Error('解析RSS失败'));\r\n                      return;\r\n                    }\r\n                    resolve(result);\r\n                  });\r\n                });\r\n                \r\n                try {\r\n                  const parsedResult = await parsePromise;\r\n                  processRssResult(parsedResult);\r\n                  return; // 成功处理，直接返回\r\n                } catch (parseError) {\r\n                  console.error('XML解析失败:', parseError);\r\n                  // 尝试使用更宽松的解析选项\r\n                  try {\r\n                    let fallbackParsePromise = new Promise((resolve, reject) => {\r\n                      xml2js.parseString(xmlData, { \r\n                        strict: false,\r\n                        explicitArray: false,\r\n                        ignoreAttrs: true,\r\n                        trim: true\r\n                      }, (err, result) => {\r\n                        if (err) {\r\n                          reject(err);\r\n                          return;\r\n                        }\r\n                        resolve(result);\r\n                      });\r\n                    });\r\n                    \r\n                    const fallbackResult = await fallbackParsePromise;\r\n                    processRssResult(fallbackResult);\r\n                    return; // 成功处理，直接返回\r\n                  } catch (fallbackError) {\r\n                    console.error('备用XML解析也失败:', fallbackError);\r\n                    // 继续尝试其他代理\r\n                  }\r\n                }\r\n        \r\n      } catch (error) {\r\n        console.error(`使用代理 ${proxy} 加载失败:`, error);\r\n        lastError = error;\r\n        // 继续尝试下一个代理\r\n      }\r\n    }\r\n    \r\n    // 所有代理都失败了\r\n    console.error('所有代理服务器都失败了');\r\n    throw lastError || new Error('加载RSS失败: 所有代理服务器都失败了');\r\n  };\r\n  \r\n  // 处理RSS解析结果\r\n  const processRssResult = (result) => {\r\n    let items = [];\r\n    \r\n    try {\r\n      // 处理不同的RSS格式\r\n      if (result.rss && result.rss.channel && result.rss.channel[0].item) {\r\n        // 标准RSS 2.0\r\n        items = result.rss.channel[0].item.map(item => {\r\n          try {\r\n            return {\r\n              title: item.title ? (typeof item.title[0] === 'string' ? item.title[0] : (item.title[0] && item.title[0]._ ? item.title[0]._ : '无标题')) : '无标题',\r\n              link: item.link ? (typeof item.link[0] === 'string' ? item.link[0] : (item.link[0] && item.link[0]._ ? item.link[0]._ : '#')) : '#',\r\n              date: item.pubDate ? new Date(item.pubDate[0]) : new Date(),\r\n              description: item.description ? (typeof item.description[0] === 'string' ? item.description[0] : (item.description[0] && item.description[0]._ ? item.description[0]._ : '')) : ''\r\n            };\r\n          } catch (itemError) {\r\n            console.error('处理RSS项目时出错:', itemError);\r\n            return {\r\n              title: '解析错误',\r\n              link: '#',\r\n              date: new Date(),\r\n              description: '无法解析此项目'\r\n            };\r\n          }\r\n        });\r\n      } else if (result.feed && result.feed.entry) {\r\n        // Atom格式\r\n        items = result.feed.entry.map(entry => {\r\n          // 处理链接\r\n          let link = '#';\r\n          if (entry.link) {\r\n            if (Array.isArray(entry.link)) {\r\n              const linkObj = entry.link.find(l => l.$ && (l.$.rel === 'alternate' || !l.$.rel));\r\n              if (linkObj && linkObj.$ && linkObj.$.href) {\r\n                link = linkObj.$.href;\r\n              } else if (entry.link[0] && entry.link[0].$ && entry.link[0].$.href) {\r\n                link = entry.link[0].$.href;\r\n              }\r\n            } else if (typeof entry.link === 'string') {\r\n              link = entry.link;\r\n            }\r\n          }\r\n          \r\n          // 处理标题\r\n          let title = '无标题';\r\n          if (entry.title) {\r\n            if (typeof entry.title[0] === 'string') {\r\n              title = entry.title[0];\r\n            } else if (entry.title[0] && entry.title[0]._) {\r\n              title = entry.title[0]._;\r\n            } else if (typeof entry.title === 'string') {\r\n              title = entry.title;\r\n            }\r\n          }\r\n          \r\n          // 处理日期\r\n          let date = new Date();\r\n          if (entry.updated) {\r\n            date = new Date(typeof entry.updated[0] === 'string' ? entry.updated[0] : entry.updated);\r\n          } else if (entry.published) {\r\n            date = new Date(typeof entry.published[0] === 'string' ? entry.published[0] : entry.published);\r\n          }\r\n          \r\n          // 处理描述\r\n          let description = '';\r\n          if (entry.summary) {\r\n            description = typeof entry.summary[0] === 'string' ? entry.summary[0] : \r\n                         (entry.summary[0] && entry.summary[0]._ ? entry.summary[0]._ : '');\r\n          } else if (entry.content) {\r\n            description = typeof entry.content[0] === 'string' ? entry.content[0] : \r\n                         (entry.content[0] && entry.content[0]._ ? entry.content[0]._ : '');\r\n          }\r\n          \r\n          return { title, link, date, description };\r\n        });\r\n      } else if (result['rdf:RDF']) {\r\n        // RDF格式\r\n        const rdfItems = result['rdf:RDF'].item || \r\n                       (result['rdf:RDF'].channel && result['rdf:RDF'].channel[0] && result['rdf:RDF'].channel[0].item);\r\n        \r\n        if (rdfItems) {\r\n          items = rdfItems.map(item => ({\r\n            title: item.title ? (typeof item.title[0] === 'string' ? item.title[0] : item.title[0]._) : '无标题',\r\n            link: item.link ? (typeof item.link[0] === 'string' ? item.link[0] : item.link[0]._) : '#',\r\n            date: item['dc:date'] ? new Date(item['dc:date'][0]) : new Date(),\r\n            description: item.description ? (typeof item.description[0] === 'string' ? item.description[0] : item.description[0]._) : ''\r\n          }));\r\n        }\r\n      } else {\r\n        // 尝试遍历结果找到可能的项目\r\n        const findItems = (obj, depth = 0) => {\r\n          if (!obj || typeof obj !== 'object' || depth > 5) return null;\r\n          \r\n          // 直接查找item或entry数组\r\n          if (obj.item && Array.isArray(obj.item)) {\r\n            return obj.item.map(item => ({\r\n              title: extractTextContent(item.title) || '无标题',\r\n              link: extractTextContent(item.link) || '#',\r\n              date: item.pubDate ? new Date(extractTextContent(item.pubDate)) : new Date(),\r\n              description: extractTextContent(item.description) || ''\r\n            }));\r\n          }\r\n          \r\n          if (obj.entry && Array.isArray(obj.entry)) {\r\n            return obj.entry.map(entry => ({\r\n              title: extractTextContent(entry.title) || '无标题',\r\n              link: extractLinkFromEntry(entry) || '#',\r\n              date: entry.updated ? new Date(extractTextContent(entry.updated)) : new Date(),\r\n              description: extractTextContent(entry.summary || entry.content) || ''\r\n            }));\r\n          }\r\n          \r\n          // 递归查找\r\n          for (const key in obj) {\r\n            if (typeof obj[key] === 'object' && obj[key] !== null) {\r\n              const found = findItems(obj[key], depth + 1);\r\n              if (found && found.length > 0) return found;\r\n            }\r\n          }\r\n          \r\n          return null;\r\n        };\r\n        \r\n        // 辅助函数：从各种可能的格式中提取文本内容\r\n        const extractTextContent = (value) => {\r\n          if (!value) return '';\r\n          if (typeof value === 'string') return value;\r\n          if (Array.isArray(value)) {\r\n            if (value.length === 0) return '';\r\n            if (typeof value[0] === 'string') return value[0];\r\n            if (value[0] && value[0]._) return value[0]._;\r\n            if (value[0] && typeof value[0] === 'object') {\r\n              for (const key in value[0]) {\r\n                if (typeof value[0][key] === 'string') return value[0][key];\r\n              }\r\n            }\r\n          }\r\n          return '';\r\n        };\r\n        \r\n        // 辅助函数：从entry对象中提取链接\r\n        const extractLinkFromEntry = (entry) => {\r\n          if (!entry.link) return '';\r\n          if (typeof entry.link === 'string') return entry.link;\r\n          if (Array.isArray(entry.link)) {\r\n            for (const link of entry.link) {\r\n              if (typeof link === 'string') return link;\r\n              if (link.$ && link.$.href) return link.$.href;\r\n            }\r\n          }\r\n          return '';\r\n        };\r\n        \r\n        const foundItems = findItems(result);\r\n        if (foundItems && foundItems.length > 0) {\r\n          items = foundItems;\r\n        } else {\r\n          console.error('未找到支持的RSS格式:', result);\r\n          throw new Error('不支持的RSS格式');\r\n        }\r\n      }\r\n      \r\n      // 成功获取到新闻项，设置状态\r\n      setNewsItems(items);\r\n    } catch (parseError) {\r\n      console.error('RSS内容解析错误:', parseError, result);\r\n      throw new Error('RSS内容解析失败');\r\n    }\r\n  };\r\n  \r\n  // 加载HTML新闻\r\n  const loadHtmlNews = async (source) => {\r\n    try {\r\n      // 尝试所有代理服务器\r\n      for (const proxy of CORS_PROXIES) {\r\n        try {\r\n          console.log(`尝试使用代理: ${proxy} 加载HTML: ${source.url}`);\r\n          const response = await axios.get(`${proxy}${encodeURIComponent(source.url)}`);\r\n          const htmlData = response.data;\r\n          \r\n          if (htmlData) {\r\n            // 创建一个临时的DOM元素来解析HTML\r\n            const parser = new DOMParser();\r\n            const doc = parser.parseFromString(htmlData, 'text/html');\r\n            \r\n            // 尝试找到新闻标题\r\n            // 这里使用一些常见的选择器，可能需要根据具体网站调整\r\n            const headings = Array.from(doc.querySelectorAll('h1, h2, h3, .title, .headline, article header'));\r\n            \r\n            const items = headings.map(heading => {\r\n              // 尝试找到链接\r\n              let link = '#';\r\n              const linkElement = heading.querySelector('a') || heading.closest('a');\r\n              if (linkElement && linkElement.href) {\r\n                // 处理相对URL\r\n                if (linkElement.href.startsWith('/')) {\r\n                  const url = new URL(source.url);\r\n                  link = `${url.protocol}//${url.host}${linkElement.href}`;\r\n                } else {\r\n                  link = linkElement.href;\r\n                }\r\n              }\r\n              \r\n              return {\r\n                title: heading.textContent.trim(),\r\n                link,\r\n                date: new Date(),\r\n                description: ''\r\n              };\r\n            }).filter(item => item.title); // 过滤掉空标题\r\n            \r\n            if (items.length > 0) {\r\n              setNewsItems(items);\r\n              return; // 成功处理，直接返回\r\n            }\r\n          }\r\n        } catch (proxyError) {\r\n          console.error(`使用代理 ${proxy} 加载HTML失败:`, proxyError);\r\n          // 继续尝试下一个代理\r\n        }\r\n      }\r\n      \r\n      // 所有代理都失败了\r\n      throw new Error('所有代理服务器都失败了');\r\n    } catch (error) {\r\n      console.error('加载HTML失败:', error);\r\n      throw new Error('加载HTML失败');\r\n    }\r\n  };\r\n  \r\n  // 打开添加源模态框\r\n  const openAddSourceModal = () => {\r\n    setEditingSource(null);\r\n    setFormData({\r\n      name: '',\r\n      url: '',\r\n      type: 'rss'\r\n    });\r\n    setShowModal(true);\r\n  };\r\n  \r\n  // 打开编辑源模态框\r\n  const openEditSourceModal = (source) => {\r\n    setEditingSource(source);\r\n    setFormData({\r\n      name: source.name,\r\n      url: source.url,\r\n      type: source.type\r\n    });\r\n    setShowModal(true);\r\n  };\r\n  \r\n  // 关闭模态框\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setEditingSource(null);\r\n  };\r\n  \r\n  // 打开源列表模态框\r\n  const openSourcesModal = () => {\r\n    setShowSourcesModal(true);\r\n  };\r\n  \r\n  // 关闭源列表模态框\r\n  const closeSourcesModal = () => {\r\n    setShowSourcesModal(false);\r\n  };\r\n  \r\n  // 处理表单输入变化\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // 保存源\r\n  const saveSource = () => {\r\n    if (!formData.name.trim() || !formData.url.trim()) {\r\n      alert('请填写完整信息');\r\n      return;\r\n    }\r\n    \r\n    const newSource = {\r\n      id: editingSource ? editingSource.id : Date.now(),\r\n      name: formData.name.trim(),\r\n      url: formData.url.trim(),\r\n      type: formData.type\r\n    };\r\n    \r\n    let updatedSources;\r\n    \r\n    if (editingSource) {\r\n      // 编辑现有源\r\n      updatedSources = sources.map(source => \r\n        source.id === editingSource.id ? newSource : source\r\n      );\r\n    } else {\r\n      // 添加新源\r\n      updatedSources = [...sources, newSource];\r\n    }\r\n    \r\n    setSources(updatedSources);\r\n    saveToStorage('homepage-news-sources', updatedSources);\r\n    \r\n    // 如果是第一个源，或者是新添加的源，自动设为活动源\r\n    if (sources.length === 0 || !editingSource) {\r\n      setActiveSource(newSource);\r\n    }\r\n    \r\n    // 关闭所有模态框\r\n    closeModal();\r\n    closeSourcesModal();\r\n  };\r\n  \r\n  // 删除源\r\n  const deleteSource = (id) => {\r\n    if (window.confirm('确定要删除这个新闻源吗？')) {\r\n      const updatedSources = sources.filter(source => source.id !== id);\r\n      setSources(updatedSources);\r\n      saveToStorage('homepage-news-sources', updatedSources);\r\n      \r\n      // 如果删除的是当前活动源，切换到第一个源\r\n      if (activeSource && activeSource.id === id) {\r\n        if (updatedSources.length > 0) {\r\n          setActiveSource(updatedSources[0]);\r\n        } else {\r\n          setActiveSource(null);\r\n          setNewsItems([]);\r\n        }\r\n      }\r\n      \r\n      // 如果是在源列表模态框中删除，不关闭模态框\r\n      if (!showSourcesModal) {\r\n        closeModal();\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 返回主页\r\n  const goBack = () => {\r\n    window.history.back();\r\n  };\r\n  \r\n  return (\r\n    <NewsContainer>\r\n      <NewsHeader>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <BackButton onClick={goBack} title=\"返回\">\r\n            <ArrowBackIcon />\r\n          </BackButton>\r\n          <HeaderTitle>新闻</HeaderTitle>\r\n        </div>\r\n      </NewsHeader>\r\n      \r\n      <SourcesContainer>\r\n        {sources.map(source => (\r\n          <SourceButton \r\n            key={source.id} \r\n            active={activeSource && activeSource.id === source.id}\r\n            onClick={() => setActiveSource(source)}\r\n          >\r\n            {source.type === 'rss' ? <RssFeedIcon /> : <LinkIcon />}\r\n            {source.name}\r\n          </SourceButton>\r\n        ))}\r\n        \r\n        <AddSourceButton onClick={openSourcesModal}>\r\n          <AddIcon />\r\n          管理源\r\n        </AddSourceButton>\r\n      </SourcesContainer>\r\n      \r\n      <NewsContent>\r\n        {loading ? (\r\n          <LoadingState>加载中...</LoadingState>\r\n        ) : error ? (\r\n          <ErrorState>{error}</ErrorState>\r\n        ) : newsItems.length > 0 ? (\r\n          <NewsList>\r\n            {newsItems.map((item, index) => (\r\n              <NewsItem key={index} href={item.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <NewsTitle>{item.title}</NewsTitle>\r\n                {item.date && (\r\n                  <NewsDate>\r\n                    {item.date.toLocaleDateString('zh-CN', {\r\n                      year: 'numeric',\r\n                      month: 'long',\r\n                      day: 'numeric'\r\n                    })}\r\n                  </NewsDate>\r\n                )}\r\n              </NewsItem>\r\n            ))}\r\n          </NewsList>\r\n        ) : activeSource ? (\r\n          <EmptyState>\r\n            <p>没有找到新闻</p>\r\n          </EmptyState>\r\n        ) : (\r\n          <EmptyState>\r\n            <p>请添加新闻源</p>\r\n          </EmptyState>\r\n        )}\r\n      </NewsContent>\r\n      \r\n      {/* 添加/编辑源模态框 */}\r\n      {showModal && (\r\n        <Modal>\r\n          <ModalContent>\r\n            <ModalHeader>\r\n              <ModalTitle>{editingSource ? '编辑新闻源' : '添加新闻源'}</ModalTitle>\r\n              <CloseButton onClick={closeModal}>&times;</CloseButton>\r\n            </ModalHeader>\r\n            \r\n            <FormGroup>\r\n              <Label>名称</Label>\r\n              <Input \r\n                type=\"text\" \r\n                name=\"name\" \r\n                value={formData.name} \r\n                onChange={handleInputChange} \r\n                placeholder=\"新闻源名称\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <Label>类型</Label>\r\n              <Select \r\n                name=\"type\" \r\n                value={formData.type} \r\n                onChange={handleInputChange}\r\n              >\r\n                <option value=\"rss\">RSS 订阅</option>\r\n                <option value=\"html\">网页</option>\r\n              </Select>\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <Label>URL</Label>\r\n              <Input \r\n                type=\"text\" \r\n                name=\"url\" \r\n                value={formData.url} \r\n                onChange={handleInputChange} \r\n                placeholder={formData.type === 'rss' ? 'RSS 订阅地址' : '网页地址'}\r\n              />\r\n            </FormGroup>\r\n            \r\n            <ButtonGroup>\r\n              {editingSource && (\r\n                <Button \r\n                  className=\"danger\" \r\n                  onClick={() => deleteSource(editingSource.id)}\r\n                >\r\n                  删除\r\n                </Button>\r\n              )}\r\n              <Button className=\"secondary\" onClick={closeModal}>取消</Button>\r\n              <Button className=\"primary\" onClick={saveSource}>保存</Button>\r\n            </ButtonGroup>\r\n          </ModalContent>\r\n        </Modal>\r\n      )}\r\n      \r\n      {/* 源列表模态框 */}\r\n      {showSourcesModal && (\r\n        <Modal>\r\n          <ModalContent>\r\n            <ModalHeader>\r\n              <ModalTitle>管理新闻源</ModalTitle>\r\n              <CloseButton onClick={closeSourcesModal}>&times;</CloseButton>\r\n            </ModalHeader>\r\n            \r\n            <Button className=\"primary\" onClick={openAddSourceModal} style={{ width: '100%' }}>\r\n              <AddIcon /> 添加新闻源\r\n            </Button>\r\n            \r\n            <SourcesList>\r\n              {sources.map(source => (\r\n                <SourceItem key={source.id} type={source.type}>\r\n                  <SourceInfo>\r\n                    {source.type === 'rss' ? <RssFeedIcon /> : <LinkIcon />}\r\n                    <div>\r\n                      <SourceName>{source.name}</SourceName>\r\n                      <SourceUrl>{source.url}</SourceUrl>\r\n                    </div>\r\n                  </SourceInfo>\r\n                  <SourceActions>\r\n                    <ActionIconButton onClick={() => openEditSourceModal(source)}>\r\n                      <EditIcon fontSize=\"small\" />\r\n                    </ActionIconButton>\r\n                    <ActionIconButton \r\n                      className=\"delete\" \r\n                      onClick={() => deleteSource(source.id)}\r\n                    >\r\n                      <DeleteIcon fontSize=\"small\" />\r\n                    </ActionIconButton>\r\n                  </SourceActions>\r\n                </SourceItem>\r\n              ))}\r\n              \r\n              {sources.length === 0 && (\r\n                <EmptyState>\r\n                  <p>暂无新闻源</p>\r\n                </EmptyState>\r\n              )}\r\n            </SourcesList>\r\n            \r\n            <ButtonGroup>\r\n              <Button className=\"secondary\" onClick={closeSourcesModal}>关闭</Button>\r\n            </ButtonGroup>\r\n          </ModalContent>\r\n        </Modal>\r\n      )}\r\n    </NewsContainer>\r\n  );\r\n};\r\n\r\nexport default News;"],"mappings":"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,KAAK;AAaX,MAAME,YAAY,GAAGpD,MAAM,CAACc,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACuC,IAAA,GAPID,YAAY;AASlB,MAAME,WAAW,GAAGtD,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACyC,IAAA,GALID,WAAW;AAOjB,MAAME,UAAU,GAAGxD,MAAM,CAACwC,EAAE;AAC5B;AACA;AACA;AACA,CAAC;AAACiB,IAAA,GAJID,UAAU;AAMhB,MAAME,WAAW,GAAG1D,MAAM,CAACsB,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACqC,IAAA,GANID,WAAW;AAQjB,MAAME,SAAS,GAAG5D,MAAM,CAACc,GAAG;AAC5B;AACA,CAAC;AAAC+C,IAAA,GAFID,SAAS;AAIf,MAAME,KAAK,GAAG9D,MAAM,CAAC+D,KAAK;AAC1B;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,KAAK;AAMX,MAAMG,KAAK,GAAGjE,MAAM,CAACkE,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,KAAK;AASX,MAAMG,MAAM,GAAGpE,MAAM,CAACqE,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,MAAM;AASZ,MAAMG,WAAW,GAAGvE,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAAC0D,IAAA,GALID,WAAW;AAOjB,MAAME,MAAM,GAAGzE,MAAM,CAACsB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoD,IAAA,GAlCID,MAAM;AAoCZ,MAAME,WAAW,GAAG3E,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAAC8D,IAAA,GALID,WAAW;AAOjB,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}