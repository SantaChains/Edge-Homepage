{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jliu Pureey\\\\Documents\\\\Editor\\\\extion\\\\homepage\\\\src\\\\components\\\\Search\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { buildSearchUrl, cleanSearchQuery, isValidUrl } from '../../utils/urlHandler';\nimport { SettingsContext } from '../../contexts/SettingsContext';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\n// 图标导入\nimport SearchIcon from '@mui/icons-material/Search';\nimport CleaningServicesIcon from '@mui/icons-material/CleaningServices';\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CheckIcon from '@mui/icons-material/Check';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchContainer = styled.div`\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 10px;\n  position: relative;\n`;\n_c = SearchContainer;\nconst SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  background: ${props => props.theme === 'dark' ? 'rgba(45, 45, 45, 0.95)' : 'rgba(255, 255, 255, 0.95)'};\n  border-radius: 24px;\n  padding: 5px 15px;\n  box-shadow: ${props => props.theme === 'dark' ? '0 4px 20px rgba(0, 0, 0, 0.4)' : '0 4px 20px rgba(0, 0, 0, 0.1)'};\n  transition: all 0.3s ease;\n  border: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  backdrop-filter: blur(10px);\n  \n  &:focus-within {\n    box-shadow: ${props => props.theme === 'dark' ? '0 6px 25px rgba(74, 144, 226, 0.3)' : '0 6px 25px rgba(74, 144, 226, 0.2)'};\n    transform: translateY(-2px);\n    border-color: #4a90e2;\n  }\n`;\n_c2 = SearchForm;\nconst SearchInput = styled.input`\n  flex: 1;\n  border: none;\n  background: transparent;\n  padding: 10px;\n  font-size: 16px;\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  outline: none;\n  \n  &::placeholder {\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\n  }\n`;\n_c3 = SearchInput;\nconst SearchButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme === 'dark' ? '#a0a0a0' : '#666666'};\n  cursor: pointer;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.3s ease;\n  border-radius: 50%;\n  \n  &:hover {\n    color: #4a90e2;\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.1)' : 'rgba(74, 144, 226, 0.1)'};\n  }\n`;\n_c4 = SearchButton;\nconst CleanButton = styled(SearchButton)`\n  margin-right: 5px;\n  color: ${props => props.active ? '#4a90e2' : props.theme === 'dark' ? '#a0a0a0' : '#666666'};\n  background: ${props => props.active ? props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)' : 'transparent'};\n`;\n_c5 = CleanButton;\nconst EngineButton = styled(SearchButton)`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  margin-right: 5px;\n  font-weight: 500;\n  color: #4a90e2;\n  padding: 6px 10px;\n  border-radius: 12px;\n  \n  &:hover {\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)'};\n  }\n`;\n_c6 = EngineButton;\nconst EngineDropdown = styled.div`\n  position: absolute;\n  top: 60px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: ${props => props.theme === 'dark' ? 'rgba(35, 35, 35, 0.98)' : 'rgba(255, 255, 255, 0.98)'};\n  border-radius: 12px;\n  box-shadow: ${props => props.theme === 'dark' ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 8px 32px rgba(0, 0, 0, 0.15)'};\n  padding: 15px;\n  z-index: 100;\n  width: 90%;\n  max-width: 500px;\n  display: ${props => props.show ? 'block' : 'none'};\n  border: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  backdrop-filter: blur(20px);\n`;\n_c7 = EngineDropdown;\nconst EngineGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n  margin-bottom: 15px;\n`;\n_c8 = EngineGrid;\nconst EngineOption = styled.button`\n  background: ${props => props.active ? props.theme === 'dark' ? 'rgba(74, 144, 226, 0.3)' : 'rgba(74, 144, 226, 0.15)' : props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.03)'};\n  border: 1px solid ${props => props.active ? '#4a90e2' : props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  border-radius: 8px;\n  padding: 10px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  color: ${props => props.active ? '#4a90e2' : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  font-weight: ${props => props.active ? '500' : 'normal'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;\n_c9 = EngineOption;\nconst CustomEngineForm = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  border-top: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  padding-top: 15px;\n`;\n_c0 = CustomEngineForm;\nconst CustomEngineList = styled.div`\n  margin-top: 15px;\n  border-top: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  padding-top: 15px;\n`;\n_c1 = CustomEngineList;\nconst CustomEngineItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px;\n  border: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: ${props => props.isDragging ? props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)' : props.theme === 'dark' ? 'rgba(255, 255, 255, 0.03)' : 'rgba(0, 0, 0, 0.02)'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.15)' : 'rgba(74, 144, 226, 0.08)'};\n    border-color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;\n_c10 = CustomEngineItem;\nconst DragHandle = styled.div`\n  cursor: grab;\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 8px;\n  transition: color 0.3s ease;\n  \n  &:hover {\n    color: #4a90e2;\n  }\n  \n  &:active {\n    cursor: grabbing;\n  }\n`;\n_c11 = DragHandle;\nconst EngineName = styled.div`\n  flex: 1;\n  font-weight: ${props => props.active ? '500' : 'normal'};\n  color: ${props => props.active ? '#4a90e2' : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  margin-left: 8px;\n`;\n_c12 = EngineName;\nconst EngineUrl = styled.div`\n  flex: 2;\n  font-size: 12px;\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 10px;\n`;\n_c13 = EngineUrl;\nconst ActionButtons = styled.div`\n  display: flex;\n  gap: 4px;\n`;\n_c14 = ActionButtons;\nconst ActionButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\n  cursor: pointer;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    color: #4a90e2;\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.1)' : 'rgba(74, 144, 226, 0.1)'};\n  }\n`;\n_c15 = ActionButton;\nconst TestButton = styled.button`\n  background: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.03)'};\n  border: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  padding: 6px 10px;\n  font-size: 12px;\n  cursor: pointer;\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    color: #4a90e2;\n  }\n`;\n_c16 = TestButton;\nconst EditForm = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 12px;\n  border: 2px solid #4a90e2;\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.1)' : 'rgba(74, 144, 226, 0.05)'};\n`;\n_c17 = EditForm;\nconst EditFormButtons = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n`;\n_c18 = EditFormButtons;\nconst EditFormButton = styled.button`\n  background: ${props => props.primary ? '#4a90e2' : props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.03)'};\n  color: ${props => props.primary ? 'white' : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  border: 1px solid ${props => props.primary ? '#4a90e2' : props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.primary ? '#3a7bc8' : props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)'};\n    border-color: #4a90e2;\n    transform: translateY(-1px);\n  }\n`;\n_c19 = EditFormButton;\nconst FormRow = styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n`;\n_c20 = FormRow;\nconst Label = styled.label`\n  font-size: 14px;\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  width: 80px;\n  font-weight: 500;\n`;\n_c21 = Label;\nconst Input = styled.input`\n  flex: 1;\n  padding: 10px;\n  border: 1px solid ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n  border-radius: 6px;\n  background: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)'};\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  font-size: 14px;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    border-color: #4a90e2;\n    outline: none;\n    background: ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.1)' : 'rgba(74, 144, 226, 0.05)'};\n    box-shadow: 0 0 0 3px ${props => props.theme === 'dark' ? 'rgba(74, 144, 226, 0.2)' : 'rgba(74, 144, 226, 0.1)'};\n  }\n  \n  &::placeholder {\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\n  }\n`;\n_c22 = Input;\nconst AddButton = styled.button`\n  background: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 10px 16px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: auto;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: #3a7bc8;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\n  }\n`;\n_c23 = AddButton;\nconst SwitchContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n`;\n_c24 = SwitchContainer;\nconst SwitchLabel = styled.span`\n  font-size: 14px;\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\n  font-weight: 500;\n`;\n_c25 = SwitchLabel;\nconst Switch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n  \n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n`;\n_c26 = Switch;\nconst Slider2 = styled.span`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.2)'};\n  transition: 0.4s;\n  border-radius: 24px;\n  \n  &:before {\n    position: absolute;\n    content: \"\";\n    height: 18px;\n    width: 18px;\n    left: 3px;\n    bottom: 3px;\n    background: ${props => props.theme === 'dark' ? 'rgba(255, 255, 255, 0.9)' : 'white'};\n    transition: 0.4s;\n    border-radius: 50%;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  }\n  \n  input:checked + & {\n    background: #4a90e2;\n  }\n  \n  input:checked + &:before {\n    transform: translateX(20px);\n  }\n`;\n_c27 = Slider2;\nconst Search = () => {\n  _s();\n  const {\n    settings,\n    updateSpecificSettings\n  } = useContext(SettingsContext);\n  const [query, setQuery] = useState('');\n  const [autoClean, setAutoClean] = useState(false);\n  const [removeNonUrl, setRemoveNonUrl] = useState(false);\n  const [engine, setEngine] = useState('bing');\n  const [showEngineDropdown, setShowEngineDropdown] = useState(false);\n  const [customEngineName, setCustomEngineName] = useState('');\n  const [customEngineUrl, setCustomEngineUrl] = useState('');\n  const [customEngines, setCustomEngines] = useState([]);\n  const [editingEngine, setEditingEngine] = useState(null);\n  const [editName, setEditName] = useState('');\n  const [editUrl, setEditUrl] = useState('');\n  const testQuery = '测试查询[移除]';\n  const dropdownRef = useRef(null);\n  const searchFormRef = useRef(null);\n\n  // 获取当前主题\n  const currentTheme = settings && settings.theme ? settings.theme : 'light';\n\n  // 点击外部关闭下拉菜单\n  useEffect(() => {\n    const handleClickOutside = event => {\n      try {\n        if (dropdownRef.current && searchFormRef.current && event.target) {\n          if (!dropdownRef.current.contains(event.target) && !searchFormRef.current.contains(event.target)) {\n            setShowEngineDropdown(false);\n          }\n        }\n      } catch (error) {\n        console.error('处理点击外部事件时出错:', error);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // 初始化设置\n  useEffect(() => {\n    if (settings && settings.search) {\n      setAutoClean(settings.search.autoCleanUrl || false);\n      setRemoveNonUrl(settings.search.removeNonUrl || false);\n      setEngine(settings.search.defaultEngine || 'bing');\n      setCustomEngines(Array.isArray(settings.search.customEngines) ? settings.search.customEngines : []);\n    }\n  }, [settings]);\n\n  // 处理搜索提交\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    try {\n      let processedQuery = query;\n      let originalIsUrl = false;\n\n      // 首先检查原始查询是否是有效URL\n      if (isValidUrl && (isValidUrl(query) || query.startsWith('file:/') || query.startsWith('http'))) {\n        originalIsUrl = true;\n\n        // 如果是URL，直接跳转\n        if (!autoClean) {\n          if (settings && settings.search && settings.search.openInNewTab) {\n            window.open(query, '_blank');\n          } else {\n            window.location.href = query;\n          }\n          return;\n        }\n      }\n\n      // 如果启用了URL清理\n      if (autoClean && cleanSearchQuery) {\n        processedQuery = cleanSearchQuery(query);\n\n        // 如果清理后的查询是有效URL，直接跳转\n        if (isValidUrl && (isValidUrl(processedQuery) || processedQuery.startsWith('file:/') || processedQuery.startsWith('http'))) {\n          if (settings && settings.search && settings.search.openInNewTab) {\n            window.open(processedQuery, '_blank');\n          } else {\n            window.location.href = processedQuery;\n          }\n          return;\n        }\n\n        // 如果原始查询是URL但清理后不是，使用原始URL\n        if (originalIsUrl) {\n          if (settings && settings.search && settings.search.openInNewTab) {\n            window.open(query, '_blank');\n          } else {\n            window.location.href = query;\n          }\n          return;\n        }\n      }\n\n      // 如果不是URL，使用搜索引擎\n      const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\n      let searchUrl;\n      if (customEngine && customEngine.url) {\n        searchUrl = customEngine.url.replace('{query}', encodeURIComponent(processedQuery));\n      } else if (buildSearchUrl) {\n        searchUrl = buildSearchUrl(processedQuery, engine, removeNonUrl, customEngines);\n      } else {\n        // 后备搜索URL\n        searchUrl = `https://www.bing.com/search?q=${encodeURIComponent(processedQuery)}`;\n      }\n      if (settings && settings.search && settings.search.openInNewTab) {\n        window.open(searchUrl, '_blank');\n      } else {\n        window.location.href = searchUrl;\n      }\n    } catch (error) {\n      console.error('搜索处理错误:', error);\n      // 使用默认搜索引擎作为后备\n      const backupUrl = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;\n      window.open(backupUrl, '_blank');\n    }\n  };\n\n  // 处理输入变化\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  // 切换自动清理URL\n  const toggleAutoClean = () => {\n    const newValue = !autoClean;\n    setAutoClean(newValue);\n    if (updateSpecificSettings) {\n      updateSpecificSettings('search.autoCleanUrl', newValue);\n    }\n  };\n\n  // 切换移除非URL字符\n  // const toggleRemoveNonUrl = () => {\n  //   const newValue = !removeNonUrl;\n  //   setRemoveNonUrl(newValue);\n  //   if (updateSpecificSettings) {\n  //     updateSpecificSettings('search.removeNonUrl', newValue);\n  //   }\n  // };\n\n  // 切换搜索引擎\n  const changeEngine = newEngine => {\n    setEngine(newEngine);\n    if (updateSpecificSettings) {\n      updateSpecificSettings('search.defaultEngine', newEngine);\n    }\n    setShowEngineDropdown(false);\n  };\n\n  // 添加自定义搜索引擎\n  const addCustomEngine = () => {\n    if (!customEngineName.trim() || !customEngineUrl.trim() || !customEngineUrl.includes('{query}')) {\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\n      return;\n    }\n    const newEngine = {\n      id: `custom_${Date.now()}`,\n      name: customEngineName,\n      url: customEngineUrl\n    };\n    const updatedEngines = [...customEngines, newEngine];\n    setCustomEngines(updatedEngines);\n    if (updateSpecificSettings) {\n      updateSpecificSettings('search.customEngines', updatedEngines);\n    }\n\n    // 切换到新添加的引擎\n    setEngine(newEngine.id);\n    if (updateSpecificSettings) {\n      updateSpecificSettings('search.defaultEngine', newEngine.id);\n    }\n\n    // 清空输入框\n    setCustomEngineName('');\n    setCustomEngineUrl('');\n  };\n\n  // 开始编辑自定义搜索引擎\n  const startEditEngine = engine => {\n    setEditingEngine(engine.id);\n    setEditName(engine.name);\n    setEditUrl(engine.url);\n  };\n\n  // 保存编辑的自定义搜索引擎\n  const saveEditEngine = () => {\n    if (!editName.trim() || !editUrl.trim() || !editUrl.includes('{query}')) {\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\n      return;\n    }\n    const updatedEngines = customEngines.map(engine => engine && engine.id === editingEngine ? {\n      ...engine,\n      name: editName,\n      url: editUrl\n    } : engine);\n    setCustomEngines(updatedEngines);\n    if (updateSpecificSettings) {\n      updateSpecificSettings('search.customEngines', updatedEngines);\n    }\n\n    // 取消编辑状态\n    cancelEditEngine();\n  };\n\n  // 取消编辑\n  const cancelEditEngine = () => {\n    setEditingEngine(null);\n    setEditName('');\n    setEditUrl('');\n  };\n\n  // 删除自定义搜索引擎\n  const deleteEngine = engineId => {\n    if (window.confirm('确定要删除这个搜索引擎吗？')) {\n      const updatedEngines = customEngines.filter(engine => engine && engine.id !== engineId);\n      setCustomEngines(updatedEngines);\n      if (updateSpecificSettings) {\n        updateSpecificSettings('search.customEngines', updatedEngines);\n      }\n\n      // 如果删除的是当前选中的引擎，切换到默认引擎\n      if (engine === engineId) {\n        setEngine('bing');\n        if (updateSpecificSettings) {\n          updateSpecificSettings('search.defaultEngine', 'bing');\n        }\n      }\n    }\n  };\n\n  // 处理拖拽结束\n  const handleDragEnd = result => {\n    try {\n      var _result$source, _result$destination;\n      if (!result || !result.destination || !Array.isArray(customEngines)) return;\n      const sourceIndex = (_result$source = result.source) === null || _result$source === void 0 ? void 0 : _result$source.index;\n      const destinationIndex = (_result$destination = result.destination) === null || _result$destination === void 0 ? void 0 : _result$destination.index;\n      if (sourceIndex === undefined || destinationIndex === undefined || sourceIndex === destinationIndex) return;\n      const updatedEngines = [...customEngines];\n      const [removed] = updatedEngines.splice(sourceIndex, 1);\n      updatedEngines.splice(destinationIndex, 0, removed);\n      setCustomEngines(updatedEngines);\n      if (updateSpecificSettings) {\n        updateSpecificSettings('search.customEngines', updatedEngines);\n      }\n    } catch (error) {\n      console.error('处理拖拽时出错:', error);\n    }\n  };\n\n  // 测试自定义搜索引擎\n  const testEngine = engineUrl => {\n    try {\n      // 处理测试查询\n      let processedQuery = testQuery;\n      if (autoClean && cleanSearchQuery) {\n        processedQuery = cleanSearchQuery(testQuery);\n      }\n      const testUrl = engineUrl.replace('{query}', encodeURIComponent(processedQuery));\n      window.open(testUrl, '_blank');\n    } catch (error) {\n      console.error('测试搜索引擎失败:', error);\n      alert('测试失败，请检查URL格式');\n    }\n  };\n\n  // 获取当前引擎名称\n  const getCurrentEngineName = () => {\n    const predefinedEngines = {\n      'bing': '必应',\n      'google': '谷歌',\n      'baidu': '百度',\n      'sogou': '搜狗',\n      'mita': '秘塔AI'\n    };\n    if (predefinedEngines[engine]) {\n      return predefinedEngines[engine];\n    }\n    const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\n    return customEngine && customEngine.name ? customEngine.name : '必应';\n  };\n  return /*#__PURE__*/_jsxDEV(SearchContainer, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      onSubmit: handleSubmit,\n      ref: searchFormRef,\n      theme: currentTheme,\n      children: [/*#__PURE__*/_jsxDEV(EngineButton, {\n        type: \"button\",\n        onClick: () => setShowEngineDropdown(!showEngineDropdown),\n        title: \"\\u9009\\u62E9\\u641C\\u7D22\\u5F15\\u64CE\",\n        theme: currentTheme,\n        children: [getCurrentEngineName(), /*#__PURE__*/_jsxDEV(ArrowDropDownIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n        type: \"text\",\n        placeholder: \"\\u641C\\u7D22\\u6216\\u8F93\\u5165\\u7F51\\u5740\",\n        value: query,\n        onChange: handleInputChange,\n        autoFocus: true,\n        theme: currentTheme\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CleanButton, {\n        type: \"button\",\n        onClick: toggleAutoClean,\n        active: autoClean,\n        title: autoClean ? '已启用URL清理' : '已禁用URL清理',\n        theme: currentTheme,\n        children: /*#__PURE__*/_jsxDEV(CleaningServicesIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n        type: \"submit\",\n        title: \"\\u641C\\u7D22\",\n        theme: currentTheme,\n        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 7\n    }, this), showEngineDropdown && /*#__PURE__*/_jsxDEV(EngineDropdown, {\n      show: showEngineDropdown,\n      ref: dropdownRef,\n      theme: currentTheme,\n      children: [/*#__PURE__*/_jsxDEV(EngineGrid, {\n        children: [/*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine('bing'),\n          active: engine === 'bing',\n          theme: currentTheme,\n          children: \"\\u5FC5\\u5E94\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine('google'),\n          active: engine === 'google',\n          theme: currentTheme,\n          children: \"\\u8C37\\u6B4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine('baidu'),\n          active: engine === 'baidu',\n          theme: currentTheme,\n          children: \"\\u767E\\u5EA6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine('sogou'),\n          active: engine === 'sogou',\n          theme: currentTheme,\n          children: \"\\u641C\\u72D7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine('mita'),\n          active: engine === 'mita',\n          theme: currentTheme,\n          children: \"\\u79D8\\u5854AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 13\n        }, this), Array.isArray(customEngines) && customEngines.map(customEngine => customEngine && customEngine.id ? /*#__PURE__*/_jsxDEV(EngineOption, {\n          onClick: () => changeEngine(customEngine.id),\n          active: engine === customEngine.id,\n          theme: currentTheme,\n          children: customEngine.name || '未命名'\n        }, customEngine.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 17\n        }, this) : null)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CustomEngineForm, {\n        theme: currentTheme,\n        children: [/*#__PURE__*/_jsxDEV(FormRow, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            theme: currentTheme,\n            children: \"\\u540D\\u79F0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            value: customEngineName,\n            onChange: e => setCustomEngineName(e.target.value),\n            placeholder: \"\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\\u540D\\u79F0\",\n            theme: currentTheme\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormRow, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            theme: currentTheme,\n            children: \"URL:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            value: customEngineUrl,\n            onChange: e => setCustomEngineUrl(e.target.value),\n            placeholder: \"https://example.com/search?q={query}\",\n            theme: currentTheme\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormRow, {\n          children: [/*#__PURE__*/_jsxDEV(SwitchContainer, {\n            children: [/*#__PURE__*/_jsxDEV(SwitchLabel, {\n              theme: currentTheme,\n              children: \"URL\\u6E05\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: autoClean,\n                onChange: toggleAutoClean\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Slider2, {\n                theme: currentTheme\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 906,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AddButton, {\n            onClick: addCustomEngine,\n            children: \"\\u6DFB\\u52A0\\u81EA\\u5B9A\\u4E49\\u5F15\\u64CE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 11\n      }, this), Array.isArray(customEngines) && customEngines.length > 0 && /*#__PURE__*/_jsxDEV(CustomEngineList, {\n        theme: currentTheme,\n        children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n          onDragEnd: handleDragEnd,\n          children: /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: \"custom-engines\",\n            children: provided => {\n              if (!provided || !provided.innerRef) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: customEngines.map((customEngine, index) => {\n                    if (!customEngine || !customEngine.id) return null;\n                    return /*#__PURE__*/_jsxDEV(CustomEngineItem, {\n                      theme: currentTheme,\n                      children: [/*#__PURE__*/_jsxDEV(EngineName, {\n                        active: engine === customEngine.id,\n                        theme: currentTheme,\n                        children: customEngine.name || '未命名'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 925,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(EngineUrl, {\n                        theme: currentTheme,\n                        children: customEngine.url || ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 928,\n                        columnNumber: 33\n                      }, this)]\n                    }, customEngine.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 924,\n                      columnNumber: 31\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 25\n                }, this);\n              }\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                ...(provided.droppableProps || {}),\n                ref: provided.innerRef,\n                children: [customEngines.map((customEngine, index) => {\n                  if (!customEngine || !customEngine.id) return null;\n                  if (editingEngine === customEngine.id) {\n                    return /*#__PURE__*/_jsxDEV(EditForm, {\n                      theme: currentTheme,\n                      children: [/*#__PURE__*/_jsxDEV(FormRow, {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          theme: currentTheme,\n                          children: \"\\u540D\\u79F0:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 948,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          type: \"text\",\n                          value: editName,\n                          onChange: e => setEditName(e.target.value),\n                          theme: currentTheme\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 949,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 947,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(FormRow, {\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          theme: currentTheme,\n                          children: \"URL:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 957,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Input, {\n                          type: \"text\",\n                          value: editUrl,\n                          onChange: e => setEditUrl(e.target.value),\n                          theme: currentTheme\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 958,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 956,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(EditFormButtons, {\n                        children: [/*#__PURE__*/_jsxDEV(EditFormButton, {\n                          onClick: cancelEditEngine,\n                          theme: currentTheme,\n                          children: [/*#__PURE__*/_jsxDEV(CloseIcon, {\n                            fontSize: \"small\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 967,\n                            columnNumber: 35\n                          }, this), \" \\u53D6\\u6D88\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 966,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(EditFormButton, {\n                          primary: true,\n                          onClick: saveEditEngine,\n                          theme: currentTheme,\n                          children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                            fontSize: \"small\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 970,\n                            columnNumber: 35\n                          }, this), \" \\u4FDD\\u5B58\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 969,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 31\n                      }, this)]\n                    }, customEngine.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 29\n                    }, this);\n                  }\n                  return /*#__PURE__*/_jsxDEV(Draggable, {\n                    draggableId: customEngine.id,\n                    index: index,\n                    children: (provided, snapshot) => {\n                      var _provided$draggablePr;\n                      if (!provided || !provided.innerRef) {\n                        return /*#__PURE__*/_jsxDEV(CustomEngineItem, {\n                          theme: currentTheme,\n                          children: [/*#__PURE__*/_jsxDEV(EngineName, {\n                            active: engine === customEngine.id,\n                            theme: currentTheme,\n                            children: customEngine.name || '未命名'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 987,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(EngineUrl, {\n                            theme: currentTheme,\n                            children: customEngine.url || ''\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 990,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 986,\n                          columnNumber: 35\n                        }, this);\n                      }\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        ref: provided.innerRef,\n                        ...provided.draggableProps,\n                        style: ((_provided$draggablePr = provided.draggableProps) === null || _provided$draggablePr === void 0 ? void 0 : _provided$draggablePr.style) || {},\n                        children: /*#__PURE__*/_jsxDEV(CustomEngineItem, {\n                          isDragging: (snapshot === null || snapshot === void 0 ? void 0 : snapshot.isDragging) || false,\n                          theme: currentTheme,\n                          children: [/*#__PURE__*/_jsxDEV(DragHandle, {\n                            ...(provided.dragHandleProps || {}),\n                            theme: currentTheme,\n                            children: /*#__PURE__*/_jsxDEV(DragIndicatorIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1006,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1005,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(EngineName, {\n                            active: engine === customEngine.id,\n                            theme: currentTheme,\n                            children: customEngine.name || '未命名'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1008,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(EngineUrl, {\n                            theme: currentTheme,\n                            children: customEngine.url || ''\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1011,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {\n                            children: [/*#__PURE__*/_jsxDEV(TestButton, {\n                              onClick: () => testEngine(customEngine.url),\n                              title: \"\\u6D4B\\u8BD5\\u641C\\u7D22\\u5F15\\u64CE\",\n                              theme: currentTheme,\n                              children: \"\\u6D4B\\u8BD5\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1013,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n                              onClick: () => startEditEngine(customEngine),\n                              title: \"\\u7F16\\u8F91\",\n                              theme: currentTheme,\n                              children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                                fontSize: \"small\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1025,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1020,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n                              onClick: () => deleteEngine(customEngine.id),\n                              title: \"\\u5220\\u9664\",\n                              theme: currentTheme,\n                              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                                fontSize: \"small\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1032,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1027,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1012,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1001,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 996,\n                        columnNumber: 33\n                      }, this);\n                    }\n                  }, customEngine.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 978,\n                    columnNumber: 27\n                  }, this);\n                }), provided.placeholder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 23\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 915,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 790,\n    columnNumber: 5\n  }, this);\n};\n_s(Search, \"nisqngJhZT7ZUQChHU9m/00f3JE=\");\n_c28 = Search;\nexport default Search;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28;\n$RefreshReg$(_c, \"SearchContainer\");\n$RefreshReg$(_c2, \"SearchForm\");\n$RefreshReg$(_c3, \"SearchInput\");\n$RefreshReg$(_c4, \"SearchButton\");\n$RefreshReg$(_c5, \"CleanButton\");\n$RefreshReg$(_c6, \"EngineButton\");\n$RefreshReg$(_c7, \"EngineDropdown\");\n$RefreshReg$(_c8, \"EngineGrid\");\n$RefreshReg$(_c9, \"EngineOption\");\n$RefreshReg$(_c0, \"CustomEngineForm\");\n$RefreshReg$(_c1, \"CustomEngineList\");\n$RefreshReg$(_c10, \"CustomEngineItem\");\n$RefreshReg$(_c11, \"DragHandle\");\n$RefreshReg$(_c12, \"EngineName\");\n$RefreshReg$(_c13, \"EngineUrl\");\n$RefreshReg$(_c14, \"ActionButtons\");\n$RefreshReg$(_c15, \"ActionButton\");\n$RefreshReg$(_c16, \"TestButton\");\n$RefreshReg$(_c17, \"EditForm\");\n$RefreshReg$(_c18, \"EditFormButtons\");\n$RefreshReg$(_c19, \"EditFormButton\");\n$RefreshReg$(_c20, \"FormRow\");\n$RefreshReg$(_c21, \"Label\");\n$RefreshReg$(_c22, \"Input\");\n$RefreshReg$(_c23, \"AddButton\");\n$RefreshReg$(_c24, \"SwitchContainer\");\n$RefreshReg$(_c25, \"SwitchLabel\");\n$RefreshReg$(_c26, \"Switch\");\n$RefreshReg$(_c27, \"Slider2\");\n$RefreshReg$(_c28, \"Search\");","map":{"version":3,"names":["React","useState","useContext","useRef","useEffect","styled","buildSearchUrl","cleanSearchQuery","isValidUrl","SettingsContext","DragDropContext","Droppable","Draggable","SearchIcon","CleaningServicesIcon","ArrowDropDownIcon","EditIcon","DeleteIcon","CheckIcon","CloseIcon","DragIndicatorIcon","jsxDEV","_jsxDEV","SearchContainer","div","_c","SearchForm","form","props","theme","_c2","SearchInput","input","_c3","SearchButton","button","_c4","CleanButton","active","_c5","EngineButton","_c6","EngineDropdown","show","_c7","EngineGrid","_c8","EngineOption","_c9","CustomEngineForm","_c0","CustomEngineList","_c1","CustomEngineItem","isDragging","_c10","DragHandle","_c11","EngineName","_c12","EngineUrl","_c13","ActionButtons","_c14","ActionButton","_c15","TestButton","_c16","EditForm","_c17","EditFormButtons","_c18","EditFormButton","primary","_c19","FormRow","_c20","Label","label","_c21","Input","_c22","AddButton","_c23","SwitchContainer","_c24","SwitchLabel","span","_c25","Switch","_c26","Slider2","_c27","Search","_s","settings","updateSpecificSettings","query","setQuery","autoClean","setAutoClean","removeNonUrl","setRemoveNonUrl","engine","setEngine","showEngineDropdown","setShowEngineDropdown","customEngineName","setCustomEngineName","customEngineUrl","setCustomEngineUrl","customEngines","setCustomEngines","editingEngine","setEditingEngine","editName","setEditName","editUrl","setEditUrl","testQuery","dropdownRef","searchFormRef","currentTheme","handleClickOutside","event","current","target","contains","error","console","document","addEventListener","removeEventListener","search","autoCleanUrl","defaultEngine","Array","isArray","handleSubmit","e","preventDefault","trim","processedQuery","originalIsUrl","startsWith","openInNewTab","window","open","location","href","customEngine","find","id","searchUrl","url","replace","encodeURIComponent","backupUrl","handleInputChange","value","toggleAutoClean","newValue","changeEngine","newEngine","addCustomEngine","includes","alert","Date","now","name","updatedEngines","startEditEngine","saveEditEngine","map","cancelEditEngine","deleteEngine","engineId","confirm","filter","handleDragEnd","result","_result$source","_result$destination","destination","sourceIndex","source","index","destinationIndex","undefined","removed","splice","testEngine","engineUrl","testUrl","getCurrentEngineName","predefinedEngines","children","onSubmit","ref","type","onClick","title","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","autoFocus","checked","length","onDragEnd","droppableId","provided","innerRef","droppableProps","draggableId","snapshot","_provided$draggablePr","draggableProps","style","dragHandleProps","_c28","$RefreshReg$"],"sources":["D:/Jliu Pureey/Documents/Editor/extion/homepage/src/components/Search/Search.js"],"sourcesContent":["import React, { useState, useContext, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { buildSearchUrl, cleanSearchQuery, isValidUrl } from '../../utils/urlHandler';\r\nimport { SettingsContext } from '../../contexts/SettingsContext';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\n// 图标导入\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CleaningServicesIcon from '@mui/icons-material/CleaningServices';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\r\n\r\nconst SearchContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 10px;\r\n  position: relative;\r\n`;\r\n\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(45, 45, 45, 0.95)' \r\n    : 'rgba(255, 255, 255, 0.95)'};\r\n  border-radius: 24px;\r\n  padding: 5px 15px;\r\n  box-shadow: ${props => props.theme === 'dark' \r\n    ? '0 4px 20px rgba(0, 0, 0, 0.4)' \r\n    : '0 4px 20px rgba(0, 0, 0, 0.1)'};\r\n  transition: all 0.3s ease;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  backdrop-filter: blur(10px);\r\n  \r\n  &:focus-within {\r\n    box-shadow: ${props => props.theme === 'dark' \r\n      ? '0 6px 25px rgba(74, 144, 226, 0.3)' \r\n      : '0 6px 25px rgba(74, 144, 226, 0.2)'};\r\n    transform: translateY(-2px);\r\n    border-color: #4a90e2;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  outline: none;\r\n  \r\n  &::placeholder {\r\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  }\r\n`;\r\n\r\nconst SearchButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: ${props => props.theme === 'dark' ? '#a0a0a0' : '#666666'};\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: color 0.3s ease;\r\n  border-radius: 50%;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst CleanButton = styled(SearchButton)`\r\n  margin-right: 5px;\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#a0a0a0' : '#666666'};\r\n  background: ${props => props.active \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'\r\n    : 'transparent'};\r\n`;\r\n\r\nconst EngineButton = styled(SearchButton)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2px;\r\n  margin-right: 5px;\r\n  font-weight: 500;\r\n  color: #4a90e2;\r\n  padding: 6px 10px;\r\n  border-radius: 12px;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst EngineDropdown = styled.div`\r\n  position: absolute;\r\n  top: 60px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(35, 35, 35, 0.98)' \r\n    : 'rgba(255, 255, 255, 0.98)'};\r\n  border-radius: 12px;\r\n  box-shadow: ${props => props.theme === 'dark' \r\n    ? '0 8px 32px rgba(0, 0, 0, 0.5)' \r\n    : '0 8px 32px rgba(0, 0, 0, 0.15)'};\r\n  padding: 15px;\r\n  z-index: 100;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  display: ${props => props.show ? 'block' : 'none'};\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  backdrop-filter: blur(20px);\r\n`;\r\n\r\nconst EngineGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst EngineOption = styled.button`\r\n  background: ${props => props.active \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.3)' \r\n      : 'rgba(74, 144, 226, 0.15)'\r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.05)' \r\n      : 'rgba(0, 0, 0, 0.03)'};\r\n  border: 1px solid ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.1)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 8px;\r\n  padding: 10px 12px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-weight: ${props => props.active ? '500' : 'normal'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst CustomEngineForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  border-top: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst CustomEngineList = styled.div`\r\n  margin-top: 15px;\r\n  border-top: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst CustomEngineItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: ${props => props.isDragging \r\n    ? props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'\r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.03)' \r\n      : 'rgba(0, 0, 0, 0.02)'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.15)' \r\n      : 'rgba(74, 144, 226, 0.08)'};\r\n    border-color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst DragHandle = styled.div`\r\n  cursor: grab;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 8px;\r\n  transition: color 0.3s ease;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n  }\r\n  \r\n  &:active {\r\n    cursor: grabbing;\r\n  }\r\n`;\r\n\r\nconst EngineName = styled.div`\r\n  flex: 1;\r\n  font-weight: ${props => props.active ? '500' : 'normal'};\r\n  color: ${props => props.active \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst EngineUrl = styled.div`\r\n  flex: 2;\r\n  font-size: 12px;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  margin: 0 10px;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  cursor: pointer;\r\n  padding: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    color: #4a90e2;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n`;\r\n\r\nconst TestButton = styled.button`\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.05)' \r\n    : 'rgba(0, 0, 0, 0.03)'};\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  padding: 6px 10px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    color: #4a90e2;\r\n  }\r\n`;\r\n\r\nconst EditForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  padding: 12px;\r\n  border: 2px solid #4a90e2;\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(74, 144, 226, 0.1)' \r\n    : 'rgba(74, 144, 226, 0.05)'};\r\n`;\r\n\r\nconst EditFormButtons = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 8px;\r\n`;\r\n\r\nconst EditFormButton = styled.button`\r\n  background: ${props => props.primary \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.05)' \r\n      : 'rgba(0, 0, 0, 0.03)'};\r\n  color: ${props => props.primary \r\n    ? 'white' \r\n    : props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  border: 1px solid ${props => props.primary \r\n    ? '#4a90e2' \r\n    : props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.1)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.primary \r\n      ? '#3a7bc8' \r\n      : props.theme === 'dark' \r\n        ? 'rgba(74, 144, 226, 0.2)' \r\n        : 'rgba(74, 144, 226, 0.1)'};\r\n    border-color: #4a90e2;\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst FormRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-size: 14px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  width: 80px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 1px solid ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.1)' \r\n    : 'rgba(0, 0, 0, 0.1)'};\r\n  border-radius: 6px;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.05)' \r\n    : 'rgba(0, 0, 0, 0.02)'};\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:focus {\r\n    border-color: #4a90e2;\r\n    outline: none;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.1)' \r\n      : 'rgba(74, 144, 226, 0.05)'};\r\n    box-shadow: 0 0 0 3px ${props => props.theme === 'dark' \r\n      ? 'rgba(74, 144, 226, 0.2)' \r\n      : 'rgba(74, 144, 226, 0.1)'};\r\n  }\r\n  \r\n  &::placeholder {\r\n    color: ${props => props.theme === 'dark' ? '#888888' : '#999999'};\r\n  }\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background: #4a90e2;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 10px 16px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-left: auto;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: #3a7bc8;\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\r\n  }\r\n`;\r\n\r\nconst SwitchContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst SwitchLabel = styled.span`\r\n  font-size: 14px;\r\n  color: ${props => props.theme === 'dark' ? '#e0e0e0' : '#333333'};\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Switch = styled.label`\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 44px;\r\n  height: 24px;\r\n  \r\n  input {\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n`;\r\n\r\nconst Slider2 = styled.span`\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: ${props => props.theme === 'dark' \r\n    ? 'rgba(255, 255, 255, 0.2)' \r\n    : 'rgba(0, 0, 0, 0.2)'};\r\n  transition: 0.4s;\r\n  border-radius: 24px;\r\n  \r\n  &:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 18px;\r\n    width: 18px;\r\n    left: 3px;\r\n    bottom: 3px;\r\n    background: ${props => props.theme === 'dark' \r\n      ? 'rgba(255, 255, 255, 0.9)' \r\n      : 'white'};\r\n    transition: 0.4s;\r\n    border-radius: 50%;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  input:checked + & {\r\n    background: #4a90e2;\r\n  }\r\n  \r\n  input:checked + &:before {\r\n    transform: translateX(20px);\r\n  }\r\n`;\r\n\r\nconst Search = () => {\r\n  const { settings, updateSpecificSettings } = useContext(SettingsContext);\r\n  const [query, setQuery] = useState('');\r\n  const [autoClean, setAutoClean] = useState(false);\r\n  const [removeNonUrl, setRemoveNonUrl] = useState(false);\r\n  const [engine, setEngine] = useState('bing');\r\n  const [showEngineDropdown, setShowEngineDropdown] = useState(false);\r\n  const [customEngineName, setCustomEngineName] = useState('');\r\n  const [customEngineUrl, setCustomEngineUrl] = useState('');\r\n  const [customEngines, setCustomEngines] = useState([]);\r\n  const [editingEngine, setEditingEngine] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n  const [editUrl, setEditUrl] = useState('');\r\n  const testQuery = '测试查询[移除]';\r\n  \r\n  const dropdownRef = useRef(null);\r\n  const searchFormRef = useRef(null);\r\n  \r\n  // 获取当前主题\r\n  const currentTheme = (settings && settings.theme) ? settings.theme : 'light';\r\n  \r\n  // 点击外部关闭下拉菜单\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      try {\r\n        if (dropdownRef.current && searchFormRef.current && event.target) {\r\n          if (!dropdownRef.current.contains(event.target) &&\r\n              !searchFormRef.current.contains(event.target)) {\r\n            setShowEngineDropdown(false);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('处理点击外部事件时出错:', error);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n  \r\n  // 初始化设置\r\n  useEffect(() => {\r\n    if (settings && settings.search) {\r\n      setAutoClean(settings.search.autoCleanUrl || false);\r\n      setRemoveNonUrl(settings.search.removeNonUrl || false);\r\n      setEngine(settings.search.defaultEngine || 'bing');\r\n      setCustomEngines(Array.isArray(settings.search.customEngines) ? settings.search.customEngines : []);\r\n    }\r\n  }, [settings]);\r\n  \r\n  // 处理搜索提交\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!query.trim()) return;\r\n    \r\n    try {\r\n      let processedQuery = query;\r\n      let originalIsUrl = false;\r\n      \r\n      // 首先检查原始查询是否是有效URL\r\n      if (isValidUrl && (isValidUrl(query) || query.startsWith('file:/') || query.startsWith('http'))) {\r\n        originalIsUrl = true;\r\n        \r\n        // 如果是URL，直接跳转\r\n        if (!autoClean) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(query, '_blank');\r\n          } else {\r\n            window.location.href = query;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // 如果启用了URL清理\r\n      if (autoClean && cleanSearchQuery) {\r\n        processedQuery = cleanSearchQuery(query);\r\n        \r\n        // 如果清理后的查询是有效URL，直接跳转\r\n        if (isValidUrl && (isValidUrl(processedQuery) || processedQuery.startsWith('file:/') || processedQuery.startsWith('http'))) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(processedQuery, '_blank');\r\n          } else {\r\n            window.location.href = processedQuery;\r\n          }\r\n          return;\r\n        }\r\n        \r\n        // 如果原始查询是URL但清理后不是，使用原始URL\r\n        if (originalIsUrl) {\r\n          if (settings && settings.search && settings.search.openInNewTab) {\r\n            window.open(query, '_blank');\r\n          } else {\r\n            window.location.href = query;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // 如果不是URL，使用搜索引擎\r\n      const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\r\n      \r\n      let searchUrl;\r\n      if (customEngine && customEngine.url) {\r\n        searchUrl = customEngine.url.replace('{query}', encodeURIComponent(processedQuery));\r\n      } else if (buildSearchUrl) {\r\n        searchUrl = buildSearchUrl(processedQuery, engine, removeNonUrl, customEngines);\r\n      } else {\r\n        // 后备搜索URL\r\n        searchUrl = `https://www.bing.com/search?q=${encodeURIComponent(processedQuery)}`;\r\n      }\r\n      \r\n      if (settings && settings.search && settings.search.openInNewTab) {\r\n        window.open(searchUrl, '_blank');\r\n      } else {\r\n        window.location.href = searchUrl;\r\n      }\r\n    } catch (error) {\r\n      console.error('搜索处理错误:', error);\r\n      // 使用默认搜索引擎作为后备\r\n      const backupUrl = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;\r\n      window.open(backupUrl, '_blank');\r\n    }\r\n  };\r\n  \r\n  // 处理输入变化\r\n  const handleInputChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n  \r\n  // 切换自动清理URL\r\n  const toggleAutoClean = () => {\r\n    const newValue = !autoClean;\r\n    setAutoClean(newValue);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.autoCleanUrl', newValue);\r\n    }\r\n  };\r\n  \r\n  // 切换移除非URL字符\r\n  // const toggleRemoveNonUrl = () => {\r\n  //   const newValue = !removeNonUrl;\r\n  //   setRemoveNonUrl(newValue);\r\n  //   if (updateSpecificSettings) {\r\n  //     updateSpecificSettings('search.removeNonUrl', newValue);\r\n  //   }\r\n  // };\r\n  \r\n  // 切换搜索引擎\r\n  const changeEngine = (newEngine) => {\r\n    setEngine(newEngine);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.defaultEngine', newEngine);\r\n    }\r\n    setShowEngineDropdown(false);\r\n  };\r\n  \r\n  // 添加自定义搜索引擎\r\n  const addCustomEngine = () => {\r\n    if (!customEngineName.trim() || !customEngineUrl.trim() || !customEngineUrl.includes('{query}')) {\r\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\r\n      return;\r\n    }\r\n    \r\n    const newEngine = {\r\n      id: `custom_${Date.now()}`,\r\n      name: customEngineName,\r\n      url: customEngineUrl\r\n    };\r\n    \r\n    const updatedEngines = [...customEngines, newEngine];\r\n    setCustomEngines(updatedEngines);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.customEngines', updatedEngines);\r\n    }\r\n    \r\n    // 切换到新添加的引擎\r\n    setEngine(newEngine.id);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.defaultEngine', newEngine.id);\r\n    }\r\n    \r\n    // 清空输入框\r\n    setCustomEngineName('');\r\n    setCustomEngineUrl('');\r\n  };\r\n  \r\n  // 开始编辑自定义搜索引擎\r\n  const startEditEngine = (engine) => {\r\n    setEditingEngine(engine.id);\r\n    setEditName(engine.name);\r\n    setEditUrl(engine.url);\r\n  };\r\n  \r\n  // 保存编辑的自定义搜索引擎\r\n  const saveEditEngine = () => {\r\n    if (!editName.trim() || !editUrl.trim() || !editUrl.includes('{query}')) {\r\n      alert('请输入有效的名称和URL，URL中必须包含{query}作为搜索词的占位符');\r\n      return;\r\n    }\r\n    \r\n    const updatedEngines = customEngines.map(engine => \r\n      engine && engine.id === editingEngine \r\n        ? { ...engine, name: editName, url: editUrl } \r\n        : engine\r\n    );\r\n    \r\n    setCustomEngines(updatedEngines);\r\n    if (updateSpecificSettings) {\r\n      updateSpecificSettings('search.customEngines', updatedEngines);\r\n    }\r\n    \r\n    // 取消编辑状态\r\n    cancelEditEngine();\r\n  };\r\n  \r\n  // 取消编辑\r\n  const cancelEditEngine = () => {\r\n    setEditingEngine(null);\r\n    setEditName('');\r\n    setEditUrl('');\r\n  };\r\n  \r\n  // 删除自定义搜索引擎\r\n  const deleteEngine = (engineId) => {\r\n    if (window.confirm('确定要删除这个搜索引擎吗？')) {\r\n      const updatedEngines = customEngines.filter(engine => engine && engine.id !== engineId);\r\n      setCustomEngines(updatedEngines);\r\n      if (updateSpecificSettings) {\r\n        updateSpecificSettings('search.customEngines', updatedEngines);\r\n      }\r\n      \r\n      // 如果删除的是当前选中的引擎，切换到默认引擎\r\n      if (engine === engineId) {\r\n        setEngine('bing');\r\n        if (updateSpecificSettings) {\r\n          updateSpecificSettings('search.defaultEngine', 'bing');\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 处理拖拽结束\r\n  const handleDragEnd = (result) => {\r\n    try {\r\n      if (!result || !result.destination || !Array.isArray(customEngines)) return;\r\n      \r\n      const sourceIndex = result.source?.index;\r\n      const destinationIndex = result.destination?.index;\r\n      \r\n      if (sourceIndex === undefined || destinationIndex === undefined || sourceIndex === destinationIndex) return;\r\n      \r\n      const updatedEngines = [...customEngines];\r\n      const [removed] = updatedEngines.splice(sourceIndex, 1);\r\n      updatedEngines.splice(destinationIndex, 0, removed);\r\n      \r\n      setCustomEngines(updatedEngines);\r\n      if (updateSpecificSettings) {\r\n        updateSpecificSettings('search.customEngines', updatedEngines);\r\n      }\r\n    } catch (error) {\r\n      console.error('处理拖拽时出错:', error);\r\n    }\r\n  };\r\n  \r\n  // 测试自定义搜索引擎\r\n  const testEngine = (engineUrl) => {\r\n    try {\r\n      // 处理测试查询\r\n      let processedQuery = testQuery;\r\n      if (autoClean && cleanSearchQuery) {\r\n        processedQuery = cleanSearchQuery(testQuery);\r\n      }\r\n      \r\n      const testUrl = engineUrl.replace('{query}', encodeURIComponent(processedQuery));\r\n      window.open(testUrl, '_blank');\r\n    } catch (error) {\r\n      console.error('测试搜索引擎失败:', error);\r\n      alert('测试失败，请检查URL格式');\r\n    }\r\n  };\r\n  \r\n  // 获取当前引擎名称\r\n  const getCurrentEngineName = () => {\r\n    const predefinedEngines = {\r\n      'bing': '必应',\r\n      'google': '谷歌',\r\n      'baidu': '百度',\r\n      'sogou': '搜狗',\r\n      'mita': '秘塔AI'\r\n    };\r\n    \r\n    if (predefinedEngines[engine]) {\r\n      return predefinedEngines[engine];\r\n    }\r\n    \r\n    const customEngine = Array.isArray(customEngines) ? customEngines.find(e => e && e.id === engine) : null;\r\n    return (customEngine && customEngine.name) ? customEngine.name : '必应';\r\n  };\r\n  \r\n  return (\r\n    <SearchContainer>\r\n      <SearchForm onSubmit={handleSubmit} ref={searchFormRef} theme={currentTheme}>\r\n        <EngineButton \r\n          type=\"button\" \r\n          onClick={() => setShowEngineDropdown(!showEngineDropdown)}\r\n          title=\"选择搜索引擎\"\r\n          theme={currentTheme}\r\n        >\r\n          {getCurrentEngineName()}\r\n          <ArrowDropDownIcon fontSize=\"small\" />\r\n        </EngineButton>\r\n        <SearchInput\r\n          type=\"text\"\r\n          placeholder=\"搜索或输入网址\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n          autoFocus\r\n          theme={currentTheme}\r\n        />\r\n        <CleanButton\r\n          type=\"button\"\r\n          onClick={toggleAutoClean}\r\n          active={autoClean}\r\n          title={autoClean ? '已启用URL清理' : '已禁用URL清理'}\r\n          theme={currentTheme}\r\n        >\r\n          <CleaningServicesIcon fontSize=\"small\" />\r\n        </CleanButton>\r\n        <SearchButton type=\"submit\" title=\"搜索\" theme={currentTheme}>\r\n          <SearchIcon />\r\n        </SearchButton>\r\n      </SearchForm>\r\n      \r\n      {showEngineDropdown && (\r\n        <EngineDropdown show={showEngineDropdown} ref={dropdownRef} theme={currentTheme}>\r\n          <EngineGrid>\r\n            <EngineOption\r\n              onClick={() => changeEngine('bing')}\r\n              active={engine === 'bing'}\r\n              theme={currentTheme}\r\n            >\r\n              必应\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('google')}\r\n              active={engine === 'google'}\r\n              theme={currentTheme}\r\n            >\r\n              谷歌\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('baidu')}\r\n              active={engine === 'baidu'}\r\n              theme={currentTheme}\r\n            >\r\n              百度\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('sogou')}\r\n              active={engine === 'sogou'}\r\n              theme={currentTheme}\r\n            >\r\n              搜狗\r\n            </EngineOption>\r\n            <EngineOption\r\n              onClick={() => changeEngine('mita')}\r\n              active={engine === 'mita'}\r\n              theme={currentTheme}\r\n            >\r\n              秘塔AI\r\n            </EngineOption>\r\n            \r\n            {Array.isArray(customEngines) && customEngines.map(customEngine => (\r\n              customEngine && customEngine.id ? (\r\n                <EngineOption\r\n                  key={customEngine.id}\r\n                  onClick={() => changeEngine(customEngine.id)}\r\n                  active={engine === customEngine.id}\r\n                  theme={currentTheme}\r\n                >\r\n                  {customEngine.name || '未命名'}\r\n                </EngineOption>\r\n              ) : null\r\n            ))}\r\n          </EngineGrid>\r\n          \r\n          <CustomEngineForm theme={currentTheme}>\r\n            <FormRow>\r\n              <Label theme={currentTheme}>名称:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineName}\r\n                onChange={(e) => setCustomEngineName(e.target.value)}\r\n                placeholder=\"自定义引擎名称\"\r\n                theme={currentTheme}\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <Label theme={currentTheme}>URL:</Label>\r\n              <Input \r\n                type=\"text\" \r\n                value={customEngineUrl}\r\n                onChange={(e) => setCustomEngineUrl(e.target.value)}\r\n                placeholder=\"https://example.com/search?q={query}\"\r\n                theme={currentTheme}\r\n              />\r\n            </FormRow>\r\n            <FormRow>\r\n              <SwitchContainer>\r\n                <SwitchLabel theme={currentTheme}>URL清理</SwitchLabel>\r\n                <Switch>\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    checked={autoClean} \r\n                    onChange={toggleAutoClean}\r\n                  />\r\n                  <Slider2 theme={currentTheme} />\r\n                </Switch>\r\n              </SwitchContainer>\r\n              <AddButton onClick={addCustomEngine}>添加自定义引擎</AddButton>\r\n            </FormRow>\r\n          </CustomEngineForm>\r\n          \r\n          {Array.isArray(customEngines) && customEngines.length > 0 && (\r\n            <CustomEngineList theme={currentTheme}>\r\n              <DragDropContext onDragEnd={handleDragEnd}>\r\n                <Droppable droppableId=\"custom-engines\">\r\n                  {(provided) => {\r\n                    if (!provided || !provided.innerRef) {\r\n                      return (\r\n                        <div>\r\n                          {customEngines.map((customEngine, index) => {\r\n                            if (!customEngine || !customEngine.id) return null;\r\n                            return (\r\n                              <CustomEngineItem key={customEngine.id} theme={currentTheme}>\r\n                                <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                  {customEngine.name || '未命名'}\r\n                                </EngineName>\r\n                                <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                              </CustomEngineItem>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    \r\n                    return (\r\n                      <div\r\n                        {...(provided.droppableProps || {})}\r\n                        ref={provided.innerRef}\r\n                      >\r\n                      {customEngines.map((customEngine, index) => {\r\n                        if (!customEngine || !customEngine.id) return null;\r\n                        \r\n                        if (editingEngine === customEngine.id) {\r\n                          return (\r\n                            <EditForm key={customEngine.id} theme={currentTheme}>\r\n                              <FormRow>\r\n                                <Label theme={currentTheme}>名称:</Label>\r\n                                <Input \r\n                                  type=\"text\" \r\n                                  value={editName}\r\n                                  onChange={(e) => setEditName(e.target.value)}\r\n                                  theme={currentTheme}\r\n                                />\r\n                              </FormRow>\r\n                              <FormRow>\r\n                                <Label theme={currentTheme}>URL:</Label>\r\n                                <Input \r\n                                  type=\"text\" \r\n                                  value={editUrl}\r\n                                  onChange={(e) => setEditUrl(e.target.value)}\r\n                                  theme={currentTheme}\r\n                                />\r\n                              </FormRow>\r\n                              <EditFormButtons>\r\n                                <EditFormButton onClick={cancelEditEngine} theme={currentTheme}>\r\n                                  <CloseIcon fontSize=\"small\" /> 取消\r\n                                </EditFormButton>\r\n                                <EditFormButton primary onClick={saveEditEngine} theme={currentTheme}>\r\n                                  <CheckIcon fontSize=\"small\" /> 保存\r\n                                </EditFormButton>\r\n                              </EditFormButtons>\r\n                            </EditForm>\r\n                          );\r\n                        }\r\n                        \r\n                        return (\r\n                          <Draggable \r\n                            key={customEngine.id} \r\n                            draggableId={customEngine.id} \r\n                            index={index}\r\n                          >\r\n                            {(provided, snapshot) => {\r\n                              if (!provided || !provided.innerRef) {\r\n                                return (\r\n                                  <CustomEngineItem theme={currentTheme}>\r\n                                    <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                      {customEngine.name || '未命名'}\r\n                                    </EngineName>\r\n                                    <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                                  </CustomEngineItem>\r\n                                );\r\n                              }\r\n                              \r\n                              return (\r\n                                <div\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                  style={provided.draggableProps?.style || {}}\r\n                                >\r\n                                  <CustomEngineItem\r\n                                    isDragging={snapshot?.isDragging || false}\r\n                                    theme={currentTheme}\r\n                                  >\r\n                                    <DragHandle {...(provided.dragHandleProps || {})} theme={currentTheme}>\r\n                                      <DragIndicatorIcon />\r\n                                    </DragHandle>\r\n                                    <EngineName active={engine === customEngine.id} theme={currentTheme}>\r\n                                      {customEngine.name || '未命名'}\r\n                                    </EngineName>\r\n                                    <EngineUrl theme={currentTheme}>{customEngine.url || ''}</EngineUrl>\r\n                                    <ActionButtons>\r\n                                      <TestButton \r\n                                        onClick={() => testEngine(customEngine.url)}\r\n                                        title=\"测试搜索引擎\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        测试\r\n                                      </TestButton>\r\n                                      <ActionButton \r\n                                        onClick={() => startEditEngine(customEngine)}\r\n                                        title=\"编辑\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        <EditIcon fontSize=\"small\" />\r\n                                      </ActionButton>\r\n                                      <ActionButton \r\n                                        onClick={() => deleteEngine(customEngine.id)}\r\n                                        title=\"删除\"\r\n                                        theme={currentTheme}\r\n                                      >\r\n                                        <DeleteIcon fontSize=\"small\" />\r\n                                      </ActionButton>\r\n                                    </ActionButtons>\r\n                                  </CustomEngineItem>\r\n                                </div>\r\n                              );\r\n                            }}\r\n                          </Draggable>\r\n                        );\r\n                      })}\r\n                      {provided.placeholder}\r\n                    </div>\r\n                  );\r\n                }}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </CustomEngineList>\r\n          )}\r\n        </EngineDropdown>\r\n      )}\r\n    </SearchContainer>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}